/*! For license information please see main.e3c7ccb1.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var i=n(67),r=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case m:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case b:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var L=Array.isArray,P=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},D=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=D[F],D[F]=null,F--)}function U(e,t){F++,D[F]=e.current,e.current=t}var q=z(null),V=z(null),G=z(null),H=z(null);function Y(e,t){switch(U(G,t),U(V,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function W(){B(q),B(V),B(G)}function X(e){null!==e.memoizedState&&U(H,e);var t=q.current,n=od(t,e.type);t!==n&&(U(V,e),U(q,n))}function $(e){V.current===e&&(B(q),B(V)),H.current===e&&(B(H),Xd._currentValue=M)}var Z=Object.prototype.hasOwnProperty,K=i.unstable_scheduleCallback,Q=i.unstable_cancelCallback,J=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,oe=i.unstable_NormalPriority,se=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ue=i.unstable_setDisableYieldValue,ce=null,de=null;function he(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var ve=256,me=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~o)?r=ye(i):0!==(s&=a)?r=ye(s):n||0!==(n=a&~e)&&(r=ye(n)):0!==(a=i&~o)?r=ye(a):0!==s?r=ye(s):n||0!==(n=i&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:r}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ve;return 0===(4194048&(ve<<=1))&&(ve=256),e}function we(){var e=me;return 0===(62914560&(me<<=1))&&(me=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-fe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-fe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=A.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Re=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Re,Le="__reactProps$"+Re,Pe="__reactContainer$"+Re,Ae="__reactEvents$"+Re,Me="__reactListeners$"+Re,De="__reactHandles$"+Re,Fe="__reactResources$"+Re,ze="__reactMarker$"+Re;function Be(e){delete e[Oe],delete e[Le],delete e[Ae],delete e[Me],delete e[De]}function Ue(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pe]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Oe])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Oe]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ge(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ze]=!0}var Ye=new Set,We={};function Xe(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(We[e]=t,e=0;e<t.length;e++)Ye.add(t[e])}var Ze,Ke,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(r=t,Z.call(et,r)||!Z.call(Je,r)&&(Qe.test(r)?et[r]=!0:(Je[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Ke=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Ke}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){i=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==u[r]){var c="\n"+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=r);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ct(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,i,r,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ut(t)):null!=n?yt(e,s,ut(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=o&&(e.defaultChecked=!!o),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ut(a):e.removeAttribute("name")}function mt(e,t,n,i,r,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function bt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(L(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&St(e,r,i)}else for(var o in t)t.hasOwnProperty(o)&&St(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function Pt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Le]||null;if(!r)throw Error(s(90));vt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var At=!1;function Mt(e,t,n){if(At)return e(t,n);At=!0;try{return e(t)}finally{if(At=!1,(null!==Ot||null!==Lt)&&(Uu(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Le]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Lh){zt=!1}var Ut=null,qt=null,Vt=null;function Gt(){if(Vt)return Vt;var e,t,n=qt,i=n.length,r="value"in Ut?Ut.value:Ut.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Wt(){return!1}function Xt(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Yt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var $t,Zt,Kt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Xt(Qt),en=h({},Qt,{view:0,detail:0}),tn=Xt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?($t=e.screenX-Kt.screenX,Zt=e.screenY-Kt.screenY):Zt=$t=0,Kt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),rn=Xt(nn),on=Xt(h({},nn,{dataTransfer:0})),sn=Xt(h({},en,{relatedTarget:0})),an=Xt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Xt(h({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var gn=Xt(h({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Xt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Xt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Xt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Xt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Xt(h({},Qt,{newState:0,oldState:0})),bn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,wn=null;Ft&&"documentMode"in document&&(wn=document.documentMode);var Sn=Ft&&"TextEvent"in window&&!wn,En=Ft&&(!kn||wn&&8<wn&&11>=wn),Nn=String.fromCharCode(32),Cn=!1;function In(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Ln(e,t,n,i){Ot?Lt?Lt.push(i):Lt=[i]:Ot=i,0<(t=Gc(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Pn=null,An=null;function Mn(e){Mc(e,0)}function Dn(e){if(ht(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Bn;if(Ft){var Un="oninput"in document;if(!Un){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Un="function"===typeof qn.oninput}Bn=Un}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Pn&&(Pn.detachEvent("onpropertychange",Gn),An=Pn=null)}function Gn(e){if("value"===e.propertyName&&Dn(An)){var t=[];Ln(t,An,e,Rt(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(Vn(),An=n,(Pn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Vn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(An)}function Wn(e,t){if("click"===e)return Dn(t)}function Xn(e,t){if("input"===e||"change"===e)return Dn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Z.call(t,r)||!$n(e[r],t[r]))return!1}return!0}function Kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,i=Kn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kn(i)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Ft&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,oi=null,si=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==ft(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},oi&&Zn(oi,i)||(oi=i,0<(i=Gc(ri,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ui={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ci={},di={};function hi(e){if(ci[e])return ci[e];if(!ui[e])return e;var t,n=ui[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ci[e]=n[t];return e}Ft&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);var fi=hi("animationend"),pi=hi("animationiteration"),gi=hi("animationstart"),vi=hi("transitionrun"),mi=hi("transitionstart"),yi=hi("transitioncancel"),xi=hi("transitionend"),_i=new Map,bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(e,t){_i.set(e,t),Xe(t,[e])}bi.push("scrollEnd");var wi=new WeakMap;function Si(e,t){if("object"===typeof e&&null!==e){var n=wi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},wi.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ei=[],Ni=0,Ci=0;function Ii(){for(var e=Ni,t=Ci=Ni=0;t<e;){var n=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var r=Ei[t];Ei[t++]=null;var o=Ei[t];if(Ei[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==o&&Oi(n,r,o)}}function ji(e,t,n,i){Ei[Ni++]=e,Ei[Ni++]=t,Ei[Ni++]=n,Ei[Ni++]=i,Ci|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ti(e,t,n,i){return ji(e,t,n,i),Li(e)}function Ri(e,t){return ji(e,null,null,t),Li(e)}function Oi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(i=o.alternate)&&(i.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(r=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,r&&null!==t&&(r=31-fe(n),null===(i=(e=o.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),o):null}function Li(e){if(50<Ou)throw Ou=0,Lu=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pi={};function Ai(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,t,n,i){return new Ai(e,t,n,i)}function Di(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fi(e,t){var n=e.alternate;return null===n?((n=Mi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,n,i,r,o){var a=0;if(i=e,"function"===typeof e)Di(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Mi(31,n,t,r)).elementType=C,e.lanes=o,e;case v:return Ui(n.children,r,o,t);case m:a=8,r|=24;break;case y:return(e=Mi(12,n,t,2|r)).elementType=y,e.lanes=o,e;case w:return(e=Mi(13,n,t,r)).elementType=w,e.lanes=o,e;case S:return(e=Mi(19,n,t,r)).elementType=S,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case b:a=10;break e;case _:a=9;break e;case k:a=11;break e;case E:a=14;break e;case N:a=16,i=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=Mi(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Ui(e,t,n,i){return(e=Mi(7,e,i,t)).lanes=n,e}function qi(e,t,n){return(e=Mi(6,e,null,t)).lanes=n,e}function Vi(e,t,n){return(t=Mi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gi=[],Hi=0,Yi=null,Wi=0,Xi=[],$i=0,Zi=null,Ki=1,Qi="";function Ji(e,t){Gi[Hi++]=Wi,Gi[Hi++]=Yi,Yi=e,Wi=t}function er(e,t,n){Xi[$i++]=Ki,Xi[$i++]=Qi,Xi[$i++]=Zi,Zi=e;var i=Ki;e=Qi;var r=32-fe(i)-1;i&=~(1<<r),n+=1;var o=32-fe(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ki=1<<32-fe(t)+r|n<<r|i,Qi=o+e}else Ki=1<<o|n<<r|i,Qi=e}function tr(e){null!==e.return&&(Ji(e,1),er(e,1,0))}function nr(e){for(;e===Yi;)Yi=Gi[--Hi],Gi[Hi]=null,Wi=Gi[--Hi],Gi[Hi]=null;for(;e===Zi;)Zi=Xi[--$i],Xi[$i]=null,Qi=Xi[--$i],Xi[$i]=null,Ki=Xi[--$i],Xi[$i]=null}var ir=null,rr=null,or=!1,sr=null,ar=!1,lr=Error(s(519));function ur(e){throw gr(Si(Error(s(418,"")),e)),lr}function cr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Oe]=e,t[Le]=i,n){case"dialog":Dc("cancel",t),Dc("close",t);break;case"iframe":case"object":case"embed":Dc("load",t);break;case"video":case"audio":for(n=0;n<Pc.length;n++)Dc(Pc[n],t);break;case"source":Dc("error",t);break;case"img":case"image":case"link":Dc("error",t),Dc("load",t);break;case"details":Dc("toggle",t);break;case"input":Dc("invalid",t),mt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":Dc("invalid",t);break;case"textarea":Dc("invalid",t),bt(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Zc(t.textContent,n)?(null!=i.popover&&(Dc("beforetoggle",t),Dc("toggle",t)),null!=i.onScroll&&Dc("scroll",t),null!=i.onScrollEnd&&Dc("scrollend",t),null!=i.onClick&&(t.onclick=Kc),t=!0):t=!1,t||ur(e)}function dr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(ar=!1);case 27:case 3:return void(ar=!0);default:ir=ir.return}}function hr(e){if(e!==ir)return!1;if(!or)return dr(e),or=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&rr&&ur(e),dr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=md(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,fd(e.type)?(e=yd,yd=null,rr=e):rr=n):rr=ir?md(e.stateNode.nextSibling):null;return!0}function fr(){rr=ir=null,or=!1}function pr(){var e=sr;return null!==e&&(null===xu?xu=e:xu.push.apply(xu,e),sr=null),e}function gr(e){null===sr?sr=[e]:sr.push(e)}var vr=z(null),mr=null,yr=null;function xr(e,t,n){U(vr,t._currentValue),t._currentValue=n}function _r(e){e._currentValue=vr.current,B(vr)}function br(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function kr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var o=r.dependencies;if(null!==o){var a=r.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),br(o.return,n,e),i||(a=null);break e}o=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),br(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function wr(e,t,n,i){e=null;for(var r=t,o=!1;null!==r;){if(!o)if(0!==(524288&r.flags))o=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=r.type;$n(r.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(r===H.current){if(null===(a=r.alternate))throw Error(s(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}r=r.return}null!==e&&kr(t,e,n,i),t.flags|=262144}function Sr(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){mr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Nr(e){return Ir(mr,e)}function Cr(e,t){return null===mr&&Er(e),Ir(e,t)}function Ir(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yr){if(null===e)throw Error(s(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return n}var jr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Tr=i.unstable_scheduleCallback,Rr=i.unstable_NormalPriority,Or={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new jr,data:new Map,refCount:0}}function Pr(e){e.refCount--,0===e.refCount&&Tr(Rr,function(){e.controller.abort()})}var Ar=null,Mr=0,Dr=0,Fr=null;function zr(){if(0===--Mr&&null!==Ar){null!==Fr&&(Fr.status="fulfilled");var e=Ar;Ar=null,Dr=0,Fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ar){var n=Ar=[];Mr=0,Dr=jc(),Fr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mr++,t.then(zr,zr)}(0,t),null!==Br&&Br(e,t)};var Ur=z(null);function qr(){var e=Ur.current;return null!==e?e:iu.pooledCache}function Vr(e,t){U(Ur,null===t?Ur.current:t.pool)}function Gr(){var e=qr();return null===e?null:{parent:Or._currentValue,pool:e}}var Hr=Error(s(460)),Yr=Error(s(474)),Wr=Error(s(542)),Xr={then:function(){}};function $r(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zr(){}function Kr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zr,Zr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zr,Zr);else{if(null!==(e=iu)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Qr=t,Hr}}var Qr=null;function Jr(){if(null===Qr)throw Error(s(459));var e=Qr;return Qr=null,e}function eo(e){if(e===Hr||e===Wr)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ro(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nu)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Li(e),Oi(e,null,n),t}return ji(e,i,t,n),Li(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function ao(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function uo(){if(lo){if(null!==Fr)throw Fr}}function co(e,t,n,i){lo=!1;var r=e.updateQueue;to=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(s=0,c=u=l=null,a=o;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(ou&f)===f:(i&f)===f){0!==f&&f===Dr&&(lo=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,v=a;f=t;var m=n;switch(v.tag){case 1:if("function"===typeof(g=v.payload)){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=v.payload)?g.call(m,d,f):g)||void 0===f)break e;d=h({},d,f);break e;case 2:to=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=f;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null===o&&(r.shared.lanes=0),fu|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=z(null),go=z(0);function vo(e,t){U(go,e=du),U(po,t),du=e|t.baseLanes}function mo(){U(go,du),U(po,po.current)}function yo(){du=go.current,B(po),B(go)}var xo=0,_o=null,bo=null,ko=null,wo=!1,So=!1,Eo=!1,No=0,Co=0,Io=null,jo=0;function To(){throw Error(s(321))}function Ro(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function Oo(e,t,n,i,r,o){return xo=o,_o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Ys:Ws,Eo=!1,o=n(i,r),Eo=!1,So&&(o=Po(t,n,i,r)),Lo(e),o}function Lo(e){P.H=Hs;var t=null!==bo&&null!==bo.next;if(xo=0,ko=bo=_o=null,wo=!1,Co=0,Io=null,t)throw Error(s(300));null===e||Ca||null!==(e=e.dependencies)&&Sr(e)&&(Ca=!0)}function Po(e,t,n,i){_o=e;var r=0;do{if(So&&(Io=null),Co=0,So=!1,25<=r)throw Error(s(301));if(r+=1,ko=bo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}P.H=Xs,o=t(n,i)}while(So);return o}function Ao(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?Uo(t):t,e=e.useState()[0],(null!==bo?bo.memoizedState:null)!==e&&(_o.flags|=1024),t}function Mo(){var e=0!==No;return No=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(wo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wo=!1}xo=0,ko=bo=_o=null,So=!1,Co=No=0,Io=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?_o.memoizedState=ko=e:ko=ko.next=e,ko}function Bo(){if(null===bo){var e=_o.alternate;e=null!==e?e.memoizedState:null}else e=bo.next;var t=null===ko?_o.memoizedState:ko.next;if(null!==t)ko=t,bo=e;else{if(null===e){if(null===_o.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(bo=e).memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},null===ko?_o.memoizedState=ko=e:ko=ko.next=e}return ko}function Uo(e){var t=Co;return Co+=1,null===Io&&(Io=[]),e=Kr(Io,e,t),t=_o,null===(null===ko?t.memoizedState:ko.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Ys:Ws),e}function qo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Uo(e);if(e.$$typeof===b)return Nr(e)}throw Error(s(438,String(e)))}function Vo(e){var t=null,n=_o.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=_o.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=I;return t.index++,n}function Go(e,t){return"function"===typeof t?t(e):t}function Ho(e){return Yo(Bo(),bo,e)}function Yo(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=e.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}t.baseQueue=r=o,i.pending=null}if(o=e.baseState,null===r)e.memoizedState=o;else{var l=a=null,u=null,c=t=r.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(ou&h)===h:(xo&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Dr&&(d=!0);else{if((xo&f)===f){c=c.next,f===Dr&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,a=o):u=u.next=h,_o.lanes|=f,fu|=f}h=c.action,Eo&&n(o,h),o=c.hasEagerState?c.eagerState:n(o,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=o):u=u.next=f,_o.lanes|=h,fu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?a=o:u.next=l,!$n(o,e.memoizedState)&&(Ca=!0,d&&null!==(n=Fr)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=u,i.lastRenderedState=o}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Wo(e){var t=Bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);$n(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Xo(e,t,n){var i=_o,r=Bo(),o=or;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!$n((bo||r).memoizedState,n);if(a&&(r.memoizedState=n,Ca=!0),r=r.queue,ms(2048,8,Ko.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==ko&&1&ko.memoizedState.tag){if(i.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Zo.bind(null,i,r,n,t),null),null===iu)throw Error(s(349));o||0!==(124&xo)||$o(i,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_o.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Zo(e,t,n,i){t.value=n,t.getSnapshot=i,Qo(t)&&Jo(e)}function Ko(e,t,n){return n(function(){Qo(t)&&Jo(e)})}function Qo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(i){return!0}}function Jo(e){var t=Ri(e,2);null!==t&&Mu(t,e,2)}function es(e){var t=zo();if("function"===typeof e){var n=e;if(e=n(),Eo){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t}function ts(e,t,n,i){return e.baseState=n,Yo(e,bo,"function"===typeof i?i:Go)}function ns(e,t,n,i,r){if(qs(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==P.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,is(t,o)):(o.next=n.next,t.pending=n.next=o)}}function is(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var o=P.T,s={};P.T=s;try{var a=n(r,i),l=P.S;null!==l&&l(s,a),rs(e,t,a)}catch(u){ss(e,t,u)}finally{P.T=o}}else try{rs(e,t,o=n(r,i))}catch(c){ss(e,t,c)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function ss(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==i)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function us(e,t){if(or){var n=iu.formState;if(null!==n){e:{var i=_o;if(or){if(rr){t:{for(var r=rr,o=ar;8!==r.nodeType;){if(!o){r=null;break t}if(null===(r=md(r.nextSibling))){r=null;break t}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){rr=md(r.nextSibling),i="F!"===r.data;break e}}ur(i)}i=!1}i&&(t=n[0])}}return(n=zo()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=i,n=zs.bind(null,_o,i),i.dispatch=n,i=es(!1),o=Us.bind(null,_o,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=zo()).queue=r,n=ns.bind(null,_o,r,o,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function cs(e){return ds(Bo(),bo,e)}function ds(e,t,n){if(t=Yo(e,t,ls)[0],e=Ho(Go)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Uo(t)}catch(s){if(s===Hr)throw Wr;throw s}else i=t;var r=(t=Bo()).queue,o=r.dispatch;return n!==t.memoizedState&&(_o.flags|=2048,ps(9,{destroy:void 0,resource:void 0},hs.bind(null,r,n),null)),[i,o,e]}function hs(e,t){e.action=t}function fs(e){var t=Bo(),n=bo;if(null!==n)return ds(t,n,e);Bo(),t=t.memoizedState;var i=(n=Bo()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ps(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=_o.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function gs(){return Bo().memoizedState}function vs(e,t,n,i){var r=zo();i=void 0===i?null:i,_o.flags|=e,r.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,i)}function ms(e,t,n,i){var r=Bo();i=void 0===i?null:i;var o=r.memoizedState.inst;null!==bo&&null!==i&&Ro(i,bo.memoizedState.deps)?r.memoizedState=ps(t,o,n,i):(_o.flags|=e,r.memoizedState=ps(1|t,o,n,i))}function ys(e,t){vs(8390656,8,e,t)}function xs(e,t){ms(2048,8,e,t)}function _s(e,t){return ms(4,2,e,t)}function bs(e,t){return ms(4,4,e,t)}function ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ws(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4,4,ks.bind(null,t,e),n)}function Ss(){}function Es(e,t){var n=Bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Ro(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ns(e,t){var n=Bo();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Ro(t,i[1]))return i[0];if(i=e(),Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i}function Cs(e,t,n){return void 0===n||0!==(1073741824&xo)?e.memoizedState=t:(e.memoizedState=n,e=Au(),_o.lanes|=e,fu|=e,n)}function Is(e,t,n,i){return $n(n,t)?n:null!==po.current?(e=Cs(e,n,i),$n(e,t)||(Ca=!0),e):0===(42&xo)?(Ca=!0,e.memoizedState=n):(e=Au(),_o.lanes|=e,fu|=e,t)}function js(e,t,n,i,r){var o=A.p;A.p=0!==o&&8>o?o:8;var s=P.T,a={};P.T=a,Us(e,!1,t,n);try{var l=r(),u=P.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bs(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Pu());else Bs(e,t,i,Pu())}catch(c){Bs(e,t,{then:function(){},status:"rejected",reason:c},Pu())}finally{A.p=o,P.T=s}}function Ts(){}function Rs(e,t,n,i){if(5!==e.tag)throw Error(s(476));var r=Os(e).queue;js(e,r,t,M,null===n?Ts:function(){return Ls(e),n(i)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ls(e){Bs(e,Os(e).next.queue,{},Pu())}function Ps(){return Nr(Xd)}function As(){return Bo().memoizedState}function Ms(){return Bo().memoizedState}function Ds(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pu(),i=oo(t,e=ro(n),n);return null!==i&&(Mu(i,t,n),so(i,t,n)),t={cache:Lr()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var i=Pu();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e)?Vs(t,n):null!==(n=Ti(e,t,n,i))&&(Mu(n,e,i),Gs(n,t,i))}function zs(e,t,n){Bs(e,t,n,Pu())}function Bs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Vs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,$n(a,s))return ji(e,t,r,0),null===iu&&Ii(),!1}catch(l){}if(null!==(n=Ti(e,t,r,i)))return Mu(n,e,i),Gs(n,t,i),!0}return!1}function Us(e,t,n,i){if(i={lane:2,revertLane:jc(),action:i,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(t)throw Error(s(479))}else null!==(t=Ti(e,n,i,2))&&Mu(t,e,2)}function qs(e){var t=e.alternate;return e===_o||null!==t&&t===_o}function Vs(e,t){So=wo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Hs={readContext:Nr,use:qo,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useLayoutEffect:To,useInsertionEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useSyncExternalStore:To,useId:To,useHostTransitionStatus:To,useFormState:To,useActionState:To,useOptimistic:To,useMemoCache:To,useCacheRefresh:To},Ys={readContext:Nr,use:qo,useCallback:function(e,t){return zo().memoizedState=[e,void 0===t?null:t],e},useContext:Nr,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4194308,4,ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=zo();t=void 0===t?null:t;var i=e();if(Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=zo();if(void 0!==n){var r=n(t);if(Eo){he(!0);try{n(t)}finally{he(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Fs.bind(null,_o,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},zo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=zs.bind(null,_o,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(e,t){return Cs(zo(),e,t)},useTransition:function(){var e=es(!1);return e=js.bind(null,_o,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=_o,r=zo();if(or){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===iu)throw Error(s(349));0!==(124&ou)||$o(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,ys(Ko.bind(null,i,o,e),[e]),i.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Zo.bind(null,i,o,n,t),null),n},useId:function(){var e=zo(),t=iu.identifierPrefix;if(or){var n=Qi;t="\xab"+t+"R"+(n=(Ki&~(1<<32-fe(Ki)-1)).toString(32)+n),0<(n=No++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=jo++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:us,useActionState:us,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,_o,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return zo().memoizedState=Ds.bind(null,_o)}},Ws={readContext:Nr,use:qo,useCallback:Es,useContext:Nr,useEffect:xs,useImperativeHandle:ws,useInsertionEffect:_s,useLayoutEffect:bs,useMemo:Ns,useReducer:Ho,useRef:gs,useState:function(){return Ho(Go)},useDebugValue:Ss,useDeferredValue:function(e,t){return Is(Bo(),bo.memoizedState,e,t)},useTransition:function(){var e=Ho(Go)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Xo,useId:As,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return ts(Bo(),0,e,t)},useMemoCache:Vo,useCacheRefresh:Ms},Xs={readContext:Nr,use:qo,useCallback:Es,useContext:Nr,useEffect:xs,useImperativeHandle:ws,useInsertionEffect:_s,useLayoutEffect:bs,useMemo:Ns,useReducer:Wo,useRef:gs,useState:function(){return Wo(Go)},useDebugValue:Ss,useDeferredValue:function(e,t){var n=Bo();return null===bo?Cs(n,e,t):Is(n,bo.memoizedState,e,t)},useTransition:function(){var e=Wo(Go)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Xo,useId:As,useHostTransitionStatus:Ps,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=Bo();return null!==bo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:Ms},$s=null,Zs=0;function Ks(e){var t=Zs;return Zs+=1,null===$s&&($s=[]),Kr($s,e,t)}function Qs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fi(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=qi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===v?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&ea(o)===t.type)?(Qs(t=r(t,n.props),n),t.return=e,t):(Qs(t=Bi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Ui(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Qs(n=Bi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Vi(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(L(t)||T(t))return(t=Ui(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ks(t),n);if(t.$$typeof===b)return h(e,Cr(e,t),n);Js(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?u(e,t,n,i):null;case g:return n.key===r?c(e,t,n,i):null;case N:return f(e,t,n=(r=n._init)(n._payload),i)}if(L(n)||T(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return f(e,t,Ks(n),i);if(n.$$typeof===b)return f(e,t,Cr(e,n),i);Js(e,n)}return null}function m(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case p:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case g:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case N:return m(e,t,n,i=(0,i._init)(i._payload),r)}if(L(i)||T(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return m(e,t,n,Ks(i),r);if(i.$$typeof===b)return m(e,t,n,Cr(t,i),r);Js(t,i)}return null}function y(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===v&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var x=c.key;null!==u;){if(u.key===x){if((x=c.type)===v){if(7===u.tag){n(l,u.sibling),(d=r(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===N&&ea(x)===u.type){n(l,u.sibling),Qs(d=r(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===v?((d=Ui(c.props.children,l.mode,d,c.key)).return=l,l=d):(Qs(d=Bi(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return a(l);case g:e:{for(x=c.key;null!==u;){if(u.key===x){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=r(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Vi(c,l.mode,d)).return=l,l=d}return a(l);case N:return y(l,u,c=(x=c._init)(c._payload),d)}if(L(c))return function(r,s,a,l){for(var u=null,c=null,d=s,p=s=0,g=null;null!==d&&p<a.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(r,d,a[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),s=o(v,s,p),null===c?u=v:c.sibling=v,c=v,d=g}if(p===a.length)return n(r,d),or&&Ji(r,p),u;if(null===d){for(;p<a.length;p++)null!==(d=h(r,a[p],l))&&(s=o(d,s,p),null===c?u=d:c.sibling=d,c=d);return or&&Ji(r,p),u}for(d=i(d);p<a.length;p++)null!==(g=m(d,r,p,a[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(r,e)}),or&&Ji(r,p),u}(l,u,c,d);if(T(c)){if("function"!==typeof(x=T(c)))throw Error(s(150));return function(r,a,l,u){if(null==l)throw Error(s(151));for(var c=null,d=null,p=a,g=a=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var x=f(r,p,y.value,u);if(null===x){null===p&&(p=v);break}e&&p&&null===x.alternate&&t(r,p),a=o(x,a,g),null===d?c=x:d.sibling=x,d=x,p=v}if(y.done)return n(r,p),or&&Ji(r,g),c;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,u))&&(a=o(y,a,g),null===d?c=y:d.sibling=y,d=y);return or&&Ji(r,g),c}for(p=i(p);!y.done;g++,y=l.next())null!==(y=m(p,r,g,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?c=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(r,e)}),or&&Ji(r,g),c}(l,u,c=x.call(c),d)}if("function"===typeof c.then)return y(l,u,Ks(c),d);if(c.$$typeof===b)return y(l,u,Cr(l,c),d);Js(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=r(u,c)).return=l,l=d):(n(l,u),(d=qi(c,l.mode,d)).return=l,l=d),a(l)):n(l,u)}return function(e,t,n,i){try{Zs=0;var r=y(e,t,n,i);return $s=null,r}catch(s){if(s===Hr||s===Wr)throw s;var o=Mi(29,s,null,e.mode);return o.lanes=i,o.return=e,o}}}var na=ta(!0),ia=ta(!1),ra=z(null),oa=null;function sa(e){var t=e.alternate;U(ca,1&ca.current),U(ra,e),null===oa&&(null===t||null!==po.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(U(ca,ca.current),U(ra,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){U(ca,ca.current),U(ra,ra.current)}function ua(e){B(ra),oa===e&&(oa=null),B(ca)}var ca=z(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Pu(),r=ro(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=oo(e,r,i))&&(Mu(t,e,i),so(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Pu(),r=ro(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=oo(e,r,i))&&(Mu(t,e,i),so(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pu(),i=ro(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=oo(e,i,n))&&(Mu(t,e,n),so(t,e,n))}};function pa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,i)||!Zn(r,o))}function ga(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=h({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var ma="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){ma(e)}function xa(e){console.error(e)}function _a(e){ma(e)}function ba(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ka(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function wa(e,t,n){return(n=ro(n)).tag=3,n.payload={element:null},n.callback=function(){ba(e,t)},n}function Sa(e){return(e=ro(e)).tag=3,e}function Ea(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var o=i.value;e.payload=function(){return r(o)},e.callback=function(){ka(t,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ka(t,n,i),"function"!==typeof r&&(null===Su?Su=new Set([this]):Su.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Na=Error(s(461)),Ca=!1;function Ia(e,t,n,i){t.child=null===e?ia(t,null,n,i):na(t,e.child,n,i)}function ja(e,t,n,i,r){n=n.render;var o=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Er(t),i=Oo(e,t,n,s,o,r),a=Mo(),null===e||Ca?(or&&a&&tr(t),t.flags|=1,Ia(e,t,i,r),t.child):(Do(e,t,r),$a(e,t,r))}function Ta(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Di(o)||void 0!==o.defaultProps||null!==n.compare?((e=Bi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ra(e,t,o,i,r))}if(o=e.child,!Za(e,r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,i)&&e.ref===t.ref)return $a(e,t,r)}return t.flags|=1,(e=Fi(o,i)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(Zn(o,i)&&e.ref===t.ref){if(Ca=!1,t.pendingProps=i=o,!Za(e,r))return t.lanes=e.lanes,$a(e,t,r);0!==(131072&e.flags)&&(Ca=!0)}}return Aa(e,t,n,i,r)}function Oa(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;t.childLanes=o&~i}else t.childLanes=0,t.child=null;return La(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,La(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vr(0,null!==o?o.cachePool:null),null!==o?vo(t,o):mo(),aa(t)}else null!==o?(Vr(0,o.cachePool),vo(t,o),la(),t.memoizedState=null):(null!==e&&Vr(0,null),mo(),la());return Ia(e,t,r,n),t.child}function La(e,t,n,i){var r=qr();return r=null===r?null:{parent:Or._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Vr(0,null),mo(),aa(t),null!==e&&wr(e,t,i,!0),null}function Pa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Aa(e,t,n,i,r){return Er(t),n=Oo(e,t,n,i,void 0,r),i=Mo(),null===e||Ca?(or&&i&&tr(t),t.flags|=1,Ia(e,t,n,r),t.child):(Do(e,t,r),$a(e,t,r))}function Ma(e,t,n,i,r,o){return Er(t),t.updateQueue=null,n=Po(t,i,n,r),Lo(e),i=Mo(),null===e||Ca?(or&&i&&tr(t),t.flags|=1,Ia(e,t,n,o),t.child):(Do(e,t,o),$a(e,t,o))}function Da(e,t,n,i,r){if(Er(t),null===t.stateNode){var o=Pi,s=n.contextType;"object"===typeof s&&null!==s&&(o=Nr(s)),o=new n(i,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=i,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Nr(s):Pi,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,i),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&fa.enqueueReplaceState(o,o.state,null),co(t,i,o,r),uo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=va(n,a);o.props=l;var u=o.context,c=n.contextType;s=Pi,"object"===typeof c&&null!==c&&(s=Nr(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||u!==s)&&ga(t,o,i,s),to=!1;var h=t.memoizedState;o.state=h,co(t,i,o,r),uo(),u=t.memoizedState,a||h!==u||to?("function"===typeof d&&(ha(t,n,d,i),u=t.memoizedState),(l=to||pa(t,n,l,i,h,u,s))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),o.props=i,o.state=u,o.context=s,i=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,io(e,t),c=va(n,s=t.memoizedProps),o.props=c,d=t.pendingProps,h=o.context,u=n.contextType,l=Pi,"object"===typeof u&&null!==u&&(l=Nr(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ga(t,o,i,l),to=!1,h=t.memoizedState,o.state=h,co(t,i,o,r),uo();var f=t.memoizedState;s!==d||h!==f||to||null!==e&&null!==e.dependencies&&Sr(e.dependencies)?("function"===typeof a&&(ha(t,n,a,i),f=t.memoizedState),(c=to||pa(t,n,c,i,h,f,l)||null!==e&&null!==e.dependencies&&Sr(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Pa(e,t),i=0!==(128&t.flags),o||i?(o=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&i?(t.child=na(t,e.child,null,r),t.child=na(t,null,n,r)):Ia(e,t,n,r),t.memoizedState=o.state,e=t.child):e=$a(e,t,r),e}function Fa(e,t,n,i){return fr(),t.flags|=256,Ia(e,t,n,i),t.child}var za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ba(e){return{baseLanes:e,cachePool:Gr()}}function Ua(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vu),e}function qa(e,t,n){var i,r=t.pendingProps,o=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&ca.current)),i&&(o=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(or){if(o?sa(t):la(),or){var l,u=rr;if(l=u){e:{for(l=u,u=ar;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=md(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Zi?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},(l=Mi(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||ur(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return vd(u)?t.lanes=32:t.lanes=536870912,null;ua(t)}return u=r.children,r=r.fallback,o?(la(),u=Ga({mode:"hidden",children:u},o=t.mode),r=Ui(r,o,n,null),u.return=t,r.return=t,u.sibling=r,t.child=u,(o=t.child).memoizedState=Ba(n),o.childLanes=Ua(e,i,n),t.memoizedState=za,r):(sa(t),Va(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=r.fallback,u=t.mode,r=Ga({mode:"visible",children:r.children},u),(o=Ui(o,u,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,na(t,e.child,null,n),(r=t.child).memoizedState=Ba(n),r.childLanes=Ua(e,i,n),t.memoizedState=za,t=o);else if(sa(t),vd(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(r=Error(s(419))).stack="",r.digest=i,gr({value:r,source:null,stack:null}),t=Ha(e,t,n)}else if(Ca||wr(e,t,n,!1),i=0!==(n&e.childLanes),Ca||i){if(null!==(i=iu)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:Ie(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ri(e,r),Mu(i,e,r),Na;"$?"===u.data||Wu(),t=Ha(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=md(u.nextSibling),ir=t,or=!0,sr=null,ar=!1,null!==e&&(Xi[$i++]=Ki,Xi[$i++]=Qi,Xi[$i++]=Zi,Ki=e.id,Qi=e.overflow,Zi=t),(t=Va(t,r.children)).flags|=4096);return t}return o?(la(),o=r.fallback,u=t.mode,c=(l=e.child).sibling,(r=Fi(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?o=Fi(c,o):(o=Ui(o,u,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,null===(u=e.child.memoizedState)?u=Ba(n):(null!==(l=u.cachePool)?(c=Or._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Gr(),u={baseLanes:u.baseLanes|n,cachePool:l}),o.memoizedState=u,o.childLanes=Ua(e,i,n),t.memoizedState=za,r):(sa(t),e=(n=e.child).sibling,(n=Fi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Va(e,t){return(t=Ga({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ga(e,t){return(e=Mi(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ya(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),br(e.return,t,n)}function Wa(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Xa(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ia(e,t,i.children,n),0!==(2&(i=ca.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n,t);else if(19===e.tag)Ya(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(U(ca,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Wa(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===da(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Wa(t,!0,n,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(wr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sr(e))}function Ka(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ca=!0;else{if(!Za(e,n)&&0===(128&t.flags))return Ca=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),xr(0,Or,e.memoizedState.cache),fr();break;case 27:case 5:X(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:xr(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qa(e,t,n):(sa(t),null!==(e=$a(e,t,n))?e.sibling:null);sa(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(wr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return Xa(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(ca,ca.current),i)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n);case 24:xr(0,Or,e.memoizedState.cache)}return $a(e,t,n)}(e,t,n);Ca=0!==(131072&e.flags)}else Ca=!1,or&&0!==(1048576&t.flags)&&er(t,Wi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===k){t.tag=11,t=ja(null,t,i,e,n);break e}if(r===E){t.tag=14,t=Ta(null,t,i,e,n);break e}}throw t=O(i)||i,Error(s(306,t,""))}Di(i)?(e=va(i,e),t.tag=1,t=Da(null,t,i,e,n)):(t.tag=0,t=Aa(null,t,i,e,n))}return t;case 0:return Aa(e,t,t.type,t.pendingProps,n);case 1:return Da(e,t,i=t.type,r=va(i,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(s(387));i=t.pendingProps;var o=t.memoizedState;r=o.element,io(e,t),co(t,i,null,n);var a=t.memoizedState;if(i=a.cache,xr(0,Or,i),i!==o.cache&&kr(t,[Or],n,!0),uo(),i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,i,n);break e}if(i!==r){gr(r=Si(Error(s(424)),t)),t=Fa(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=md(e.firstChild),ir=t,or=!0,sr=null,ar=!0,n=ia(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),i===r){t=$a(e,t,n);break e}Ia(e,t,i,n)}t=t.child}return t;case 26:return Pa(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:or||(n=t.type,e=t.pendingProps,(i=id(G.current).createElement(n))[Oe]=t,i[Le]=e,ed(i,n,e),He(i),t.stateNode=i):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&or&&(i=t.stateNode=_d(t.type,t.pendingProps,G.current),ir=t,ar=!0,r=rr,fd(t.type)?(yd=r,rr=md(i.firstChild)):rr=r),Ia(e,t,t.pendingProps.children,n),Pa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&or&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===o)return e}if(null===(e=md(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ar))?(t.stateNode=i,ir=t,rr=md(i.firstChild),ar=!1,r=!0):r=!1),r||ur(t)),X(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,sd(r,o)?i=null:null!==a&&sd(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=Oo(e,t,Ao,null,null,n),Xd._currentValue=r),Pa(e,t),Ia(e,t,i,n),t.child;case 6:return null===e&&or&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=md(e.nextSibling)))return null}return e}(n,t.pendingProps,ar))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||ur(t)),null;case 13:return qa(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=na(t,null,i,n):Ia(e,t,i,n),t.child;case 11:return ja(e,t,t.type,t.pendingProps,n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xr(0,t.type,i.value),Ia(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Er(t),i=i(r=Nr(r)),t.flags|=1,Ia(e,t,i,n),t.child;case 14:return Ta(e,t,t.type,t.pendingProps,n);case 15:return Ra(e,t,t.type,t.pendingProps,n);case 19:return Xa(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Ga(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oa(e,t,n);case 24:return Er(t),i=Nr(Or),null===e?(null===(r=qr())&&(r=iu,o=Lr(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:i,cache:r},no(t),xr(0,Or,r)):(0!==(e.lanes&n)&&(io(e,t),co(t,null,null,n),uo()),r=e.memoizedState,o=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),xr(0,Or,i)):(i=o.cache,xr(0,Or,i),i!==r.cache&&kr(t,[Or],n,!0))),Ia(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Qa(e){e.flags|=4}function Ja(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=ra.current)&&((4194048&ou)===ou?null!==oa:(62914560&ou)!==ou&&0===(536870912&ou)||t!==oa))throw Qr=Xr,Yr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,mu|=t)}function tl(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_r(Or),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Qa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qa(t),null!==n?(nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qa(t),nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Qa(t),nl(t),t.flags&=-16777217),null;case 27:$(t),n=G.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=q.current,hr(t)?cr(t):(e=_d(r,i,n),t.stateNode=e,Qa(t))}return nl(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=q.current,hr(t))cr(t);else{switch(r=id(G.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Oe]=t,e[Le]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Qa(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(e=G.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zc(e.nodeValue,n)))||ur(t)}else(e=id(e).createTextNode(i))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Oe]=t}else fr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=pr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Bc(t.stateNode.containerInfo),nl(t),null;case 10:return _r(t.type),nl(t),null;case 19:if(B(ca),null===(r=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)tl(r,!1);else{if(0!==hu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(r,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zi(n,e),n=n.sibling;return U(ca,1&ca.current|2),t.child}e=e.sibling}null!==r.tail&&te()>ku&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=da(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!or)return nl(t),null}else 2*te()-r.renderingStartTime>ku&&536870912!==n&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ca.current,U(ca,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ua(t),yo(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&B(Ur),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_r(Or),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _r(Or),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ca),null;case 4:return W(),null;case 10:return _r(t.type),null;case 22:case 23:return ua(t),yo(),null!==e&&B(Ur),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _r(Or),null;default:return null}}function ol(e,t){switch(nr(t),t.tag){case 3:_r(Or),W();break;case 26:case 27:case 5:$(t);break;case 4:W();break;case 13:ua(t);break;case 19:B(ca);break;case 10:_r(t.type);break;case 22:case 23:ua(t),yo(),null!==e&&B(Ur);break;case 24:_r(Or)}}function sl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(a){cc(t,t.return,a)}}function al(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var o=r.next;i=o;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,r=t;var l=n,u=a;try{u()}catch(c){cc(r,l,c)}}}i=i.next}while(i!==o)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(i){cc(e,e.return,i)}}}function ul(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){cc(e,t,i)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){cc(e,t,r)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){cc(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){cc(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){cc(e,e.return,r)}}function fl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,a=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:i.hasOwnProperty(p)||Qc(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Qc(e,t,f,p,i,h)}}return void vt(e,a,l,u,c,d,o,r);case"select":for(o in p=a=l=f=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(o)||Qc(e,t,o,null,i,u)}for(r in i)if(o=i[r],u=n[r],i.hasOwnProperty(r)&&(null!=o||null!=u))switch(r){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&Qc(e,t,r,o,i,u)}return t=l,n=a,i=p,void(null!=f?xt(e,!!n,f,!1):!!i!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qc(e,t,l,null,i,r)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(null!=r||null!=o))switch(a){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==o&&Qc(e,t,a,r,i,o)}return void _t(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Qc(e,t,g,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Qc(e,t,u,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&Qc(e,t,v,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Qc(e,t,c,f,i,p)}return;default:if(Nt(t)){for(var m in n)f=n[m],n.hasOwnProperty(m)&&void 0!==f&&!i.hasOwnProperty(m)&&Jc(e,t,m,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Jc(e,t,d,f,i,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&Qc(e,t,y,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||Qc(e,t,h,f,i,p)}(i,e.type,n,t),i[Le]=t}catch(r){cc(e,e.return,r)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Kc));else if(4!==i&&(27===i&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function ml(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,i,n),t[Oe]=e,t[Le]=n}catch(o){cc(e,e.return,o)}}var xl=!1,_l=!1,bl=!1,kl="function"===typeof WeakSet?WeakSet:Set,wl=null;function Sl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&i&&sl(5,n);break;case 1:if(Dl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){cc(n,n.return,s)}else{var r=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){cc(n,n.return,a)}}64&i&&ll(n),512&i&&cl(n,n.return);break;case 3:if(Dl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(s){cc(n,n.return,s)}}break;case 27:null===t&&4&i&&yl(n);case 26:case 5:Dl(e,n),null===t&&4&i&&hl(n),512&i&&cl(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&i&&Tl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=pc.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||_l,r=xl;var o=_l;xl=i,(_l=t)&&!o?zl(e,n,0!==(8772&n.subtreeFlags)):Dl(e,n),xl=r,_l=o}break;case 30:break;default:Dl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,Cl=!1;function Il(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(o){}switch(n.tag){case 26:_l||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||dl(n,t);var i=Nl,r=Cl;fd(n.type)&&(Nl=n.stateNode,Cl=!1),Il(e,t,n),bd(n.stateNode),Nl=i,Cl=r;break;case 5:_l||dl(n,t);case 6:if(i=Nl,r=Cl,Nl=null,Il(e,t,n),Cl=r,null!==(Nl=i))if(Cl)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(s){cc(n,t,s)}else try{Nl.removeChild(n.stateNode)}catch(s){cc(n,t,s)}break;case 18:null!==Nl&&(Cl?(pd(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Nl,n.stateNode));break;case 4:i=Nl,r=Cl,Nl=n.stateNode.containerInfo,Cl=!0,Il(e,t,n),Nl=i,Cl=r;break;case 0:case 11:case 14:case 15:_l||al(2,n,t),_l||al(4,n,t),Il(e,t,n);break;case 1:_l||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&ul(n,t,i)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:_l=(i=_l)||null!==n.memoizedState,Il(e,t,n),_l=i;break;default:Il(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){cc(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var i=gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Nl=l.stateNode,Cl=!1;break e}break;case 5:Nl=l.stateNode,Cl=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Nl)throw Error(s(160));jl(o,a,r),Nl=null,Cl=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Pl(t,e),t=t.sibling}var Ll=null;function Pl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Al(e),4&i&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Ol(t,e),Al(e),512&i&&(_l||null===n||dl(n,n.return)),64&i&&xl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Ll;if(Ol(t,e),Al(e),512&i&&(_l||null===n||dl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(o=r.getElementsByTagName("title")[0])||o[ze]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),ed(o,i,n),o[Oe]=e,He(o),i=o;break e;case"link":var a=zd("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=r.createElement(i),i,n),r.head.appendChild(o);break;case"meta":if(a=zd("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=r.createElement(i),i,n),r.head.appendChild(o);break;default:throw Error(s(468,i))}o[Oe]=e,He(o),i=o}e.stateNode=i}else Bd(r,e.type,e.stateNode);else e.stateNode=Pd(r,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?Bd(r,e.type,e.stateNode):Pd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Al(e),512&i&&(_l||null===n||dl(n,n.return)),null!==n&&4&i&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Al(e),512&i&&(_l||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{kt(r,"")}catch(p){cc(e,e.return,p)}}4&i&&null!=e.stateNode&&fl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(bl=!0);break;case 6:if(Ol(t,e),Al(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(p){cc(e,e.return,p)}}break;case 3:if(Fd=null,r=Ll,Ll=Sd(t.containerInfo),Ol(t,e),Ll=r,Al(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){cc(e,e.return,p)}bl&&(bl=!1,Ml(e));break;case 4:i=Ll,Ll=Sd(e.stateNode.containerInfo),Ol(t,e),Al(e),Ll=i;break;case 12:default:Ol(t,e),Al(e);break;case 13:Ol(t,e),Al(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bu=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Rl(e,i)));break;case 22:r=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=xl,d=_l;if(xl=c||r,_l=d||u,Ol(t,e),_l=d,xl=c,Al(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||u||xl||_l||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,r)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){cc(u,u.return,p)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(p){cc(u,u.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Rl(e,n))));break;case 19:Ol(t,e),Al(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Rl(e,i)));case 30:case 21:}}function Al(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(pl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;ml(e,gl(e),r);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),ml(e,gl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;vl(e,gl(e),a);break;default:throw Error(s(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Fl(t);break;case 27:bd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:zl(r,o,n),sl(4,o);break;case 1:if(zl(r,o,n),"function"===typeof(r=(i=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(u){cc(i,i.return,u)}if(null!==(r=(i=o).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ho(l[r],a)}catch(u){cc(i,i.return,u)}}n&&64&s&&ll(o),cl(o,o.return);break;case 27:yl(o);case 26:case 5:zl(r,o,n),n&&null===i&&4&s&&hl(o),cl(o,o.return);break;case 12:zl(r,o,n);break;case 13:zl(r,o,n),n&&4&s&&Tl(r,o);break;case 22:null===o.memoizedState&&zl(r,o,n),cl(o,o.return);break;case 30:break;default:zl(r,o,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Pr(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pr(e))}function ql(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,i),t=t.sibling}function Vl(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,i),2048&r&&sl(9,t);break;case 1:case 13:default:ql(e,t,n,i);break;case 3:ql(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pr(e)));break;case 12:if(2048&r){ql(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else ql(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?ql(e,t,n,i):Hl(e,t):2&o._visibility?ql(e,t,n,i):(o._visibility|=2,Gl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Bl(s,t);break;case 24:ql(e,t,n,i),2048&r&&Ul(t.alternate,t)}}function Gl(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=i,u=s.flags;switch(s.tag){case 0:case 11:case 15:Gl(o,s,a,l,r),sl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?Gl(o,s,a,l,r):Hl(o,s):(c._visibility|=2,Gl(o,s,a,l,r)),r&&2048&u&&Bl(s.alternate,s);break;case 24:Gl(o,s,a,l,r),r&&2048&u&&Ul(s.alternate,s);break;default:Gl(o,s,a,l,r)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Hl(n,i),2048&r&&Bl(i.alternate,i);break;case 24:Hl(n,i),2048&r&&Ul(i.alternate,i);break;default:Hl(n,i)}t=t.sibling}}var Yl=8192;function Wl(e){if(e.subtreeFlags&Yl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Wl(e),e.flags&Yl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(s(475));var i=qd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=jd(n.href),o=e.querySelector(Td(r));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Gd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Rd(n),(r=kd.get(r))&&Md(n,r),He(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",n),t.instance=o}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Gd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Ll;Ll=Sd(e.stateNode.containerInfo),Wl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Yl,Yl=16777216,Wl(e),Yl=t):Wl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];wl=i,Jl(i,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Zl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];wl=i,Jl(i,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Jl(e,t){for(;null!==wl;){var n=wl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Pr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,wl=i;else e:for(n=e;null!==wl;){var r=(i=wl).sibling,o=i.return;if(El(i),i===n){wl=null;break e}if(null!==r){r.return=o,wl=r;break e}wl=o}}}var eu={getCacheForType:function(e){var t=Nr(Or),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,iu=null,ru=null,ou=0,su=0,au=null,lu=!1,uu=!1,cu=!1,du=0,hu=0,fu=0,pu=0,gu=0,vu=0,mu=0,yu=null,xu=null,_u=!1,bu=0,ku=1/0,wu=null,Su=null,Eu=0,Nu=null,Cu=null,Iu=0,ju=0,Tu=null,Ru=null,Ou=0,Lu=null;function Pu(){if(0!==(2&nu)&&0!==ou)return ou&-ou;if(null!==P.T){return 0!==Dr?Dr:jc()}return Te()}function Au(){0===vu&&(vu=0===(536870912&ou)||or?ke():536870912);var e=ra.current;return null!==e&&(e.flags|=32),vu}function Mu(e,t,n){(e!==iu||2!==su&&9!==su)&&null===e.cancelPendingCommit||(Vu(e,0),Bu(e,ou,vu,!1)),Ee(e,n),0!==(2&nu)&&e===iu||(e===iu&&(0===(2&nu)&&(pu|=n),4===hu&&Bu(e,ou,vu,!1)),kc(e))}function Du(e,t,n){if(0!==(6&nu))throw Error(s(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),r=i?function(e,t){var n=nu;nu|=2;var i=Hu(),r=Yu();iu!==e||ou!==t?(wu=null,ku=te()+500,Vu(e,t)):uu=_e(e,t);e:for(;;)try{if(0!==su&&null!==ru){t=ru;var o=au;t:switch(su){case 1:su=0,au=null,Ju(e,t,o,1);break;case 2:case 9:if($r(o)){su=0,au=null,Qu(t);break}t=function(){2!==su&&9!==su||iu!==e||(su=7),kc(e)},o.then(t,t);break e;case 3:su=7;break e;case 4:su=5;break e;case 7:$r(o)?(su=0,au=null,Qu(t)):(su=0,au=null,Ju(e,t,o,7));break;case 5:var a=null;switch(ru.tag){case 26:a=ru.memoizedState;case 5:case 27:var l=ru;if(!a||Ud(a)){su=0,au=null;var u=l.sibling;if(null!==u)ru=u;else{var c=l.return;null!==c?(ru=c,ec(c)):ru=null}break t}}su=0,au=null,Ju(e,t,o,5);break;case 6:su=0,au=null,Ju(e,t,o,6);break;case 8:qu(),hu=6;break e;default:throw Error(s(462))}}Zu();break}catch(d){Gu(e,d)}return yr=mr=null,P.H=i,P.A=r,nu=n,null!==ru?0:(iu=null,ou=0,Ii(),hu)}(e,t):Xu(e,t,!0),o=i;;){if(0===r){uu&&!i&&Bu(e,t,0,!1);break}if(n=e.current.alternate,!o||zu(n)){if(2===r){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;r=yu;var u=l.current.memoizedState.isDehydrated;if(u&&(Vu(l,a).flags|=256),2!==(a=Xu(l,a,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=o,pu|=o,r=4;break e}o=xu,xu=r,null!==o&&(null===xu?xu=o:xu.push.apply(xu,o))}r=a}if(o=!1,2!==r)continue}}if(1===r){Vu(e,0),Bu(e,t,0,!0);break}e:{switch(i=e,o=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Bu(i,t,vu,!lu);break e;case 2:xu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=bu+300-te())){if(Bu(i,t,vu,!lu),0!==xe(i,0,!0))break e;i.timeoutHandle=ld(Fu.bind(null,i,n,xu,wu,_u,t,vu,pu,mu,lu,o,2,-0,0),r)}else Fu(i,n,xu,wu,_u,t,vu,pu,mu,lu,o,0,-0,0)}break}r=Xu(e,t,!1),o=!1}kc(e)}function Fu(e,t,n,i,r,o,a,l,u,c,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:Vd},Xl(t),null!==(h=function(){if(null===qd)throw Error(s(475));var e=qd;return e.stylesheets&&0===e.count&&Yd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nc.bind(null,e,t,o,n,i,r,a,l,u,d,1,f,p)),void Bu(e,o,a,!c);nc(e,t,o,n,i,r,a,l,u)}function zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!$n(o(),r))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bu(e,t,n,i){t&=~gu,t&=~pu,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var o=31-fe(r),s=1<<o;i[o]=-1,r&=~s}0!==n&&Ne(e,n,t)}function Uu(){return 0!==(6&nu)||(wc(0,!1),!1)}function qu(){if(null!==ru){if(0===su)var e=ru.return;else yr=mr=null,Fo(e=ru),$s=null,Zs=0,e=ru;for(;null!==e;)ol(e.alternate,e),e=e.return;ru=null}}function Vu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qu(),iu=e,ru=n=Fi(e.current,null),ou=t,su=0,au=null,lu=!1,uu=_e(e,t),cu=!1,mu=vu=gu=pu=fu=hu=0,xu=yu=null,_u=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-fe(i),o=1<<r;t|=e[r],i&=~o}return du=t,Ii(),n}function Gu(e,t){_o=null,P.H=Hs,t===Hr||t===Wr?(t=Jr(),su=3):t===Yr?(t=Jr(),su=4):su=t===Na?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,au=t,null===ru&&(hu=1,ba(e,Si(t,e.current)))}function Hu(){var e=P.H;return P.H=Hs,null===e?Hs:e}function Yu(){var e=P.A;return P.A=eu,e}function Wu(){hu=4,lu||(4194048&ou)!==ou&&null!==ra.current||(uu=!0),0===(134217727&fu)&&0===(134217727&pu)||null===iu||Bu(iu,ou,vu,!1)}function Xu(e,t,n){var i=nu;nu|=2;var r=Hu(),o=Yu();iu===e&&ou===t||(wu=null,Vu(e,t)),t=!1;var s=hu;e:for(;;)try{if(0!==su&&null!==ru){var a=ru,l=au;switch(su){case 8:qu(),s=6;break e;case 3:case 2:case 9:case 6:null===ra.current&&(t=!0);var u=su;if(su=0,au=null,Ju(e,a,l,u),n&&uu){s=0;break e}break;default:u=su,su=0,au=null,Ju(e,a,l,u)}}$u(),s=hu;break}catch(c){Gu(e,c)}return t&&e.shellSuspendCounter++,yr=mr=null,nu=i,P.H=r,P.A=o,null===ru&&(iu=null,ou=0,Ii()),s}function $u(){for(;null!==ru;)Ku(ru)}function Zu(){for(;null!==ru&&!J();)Ku(ru)}function Ku(e){var t=Ka(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):ru=t}function Qu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ma(n,t,t.pendingProps,t.type,void 0,ou);break;case 11:t=Ma(n,t,t.pendingProps,t.type.render,t.ref,ou);break;case 5:Fo(t);default:ol(n,t),t=Ka(n,t=ru=zi(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):ru=t}function Ju(e,t,n,i){yr=mr=null,Fo(t),$s=null,Zs=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&wr(t,n,r,!0),null!==(n=ra.current)){switch(n.tag){case 13:return null===oa?Wu():null===n.alternate&&0===hu&&(hu=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Xr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),dc(e,i,r)),!1;case 22:return n.flags|=65536,i===Xr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),dc(e,i,r)),!1}throw Error(s(435,n.tag))}return dc(e,i,r),Wu(),!1}if(or)return null!==(t=ra.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&gr(Si(e=Error(s(422),{cause:i}),n))):(i!==lr&&gr(Si(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Si(i,n),ao(e,r=wa(e.stateNode,i,r)),4!==hu&&(hu=2)),!1;var o=Error(s(520),{cause:i});if(o=Si(o,n),null===yu?yu=[o]:yu.push(o),4!==hu&&(hu=2),null===t)return!0;i=Si(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,ao(n,e=wa(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Su||!Su.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,Ea(r=Sa(r),e,n,i),ao(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ou))return hu=1,ba(e,Si(n,e.current)),void(ru=null)}catch(o){if(null!==r)throw ru=r,o;return hu=1,ba(e,Si(n,e.current)),void(ru=null)}32768&t.flags?(or||1===i?e=!0:uu||0!==(536870912&ou)?e=!1:(lu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=ra.current)&&13===i.tag&&(i.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=il(t.alternate,t,du);if(null!==n)return void(ru=n);if(null!==(t=t.sibling))return void(ru=t);ru=t=e}while(null!==t);0===hu&&(hu=5)}function tc(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(ru=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ru=e);ru=e=n}while(null!==e);hu=6,ru=null}function nc(e,t,n,i,r,o,a,l,u){e.cancelPendingCommit=null;do{ac()}while(0!==Eu);if(0!==(6&nu))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,i,r,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-fe(n),d=1<<c;a[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==i&&Ne(e,i,0),0!==o&&0===r&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ci,a,l,u),e===iu&&(ru=iu=null,ou=0),Cu=t,Nu=e,Iu=n,ju=o,Tu=r,Ru=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,K(oe,function(){return lc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=P.T,P.T=null,r=A.p,A.p=2,a=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(v){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=a+r),h!==o||0!==i&&3!==h.nodeType||(u=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===r&&(l=a),f===o&&++d===i&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,wl=t;null!==wl;)if(e=(t=wl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,wl=e;else for(;null!==wl;){switch(o=(t=wl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var g=va(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(g,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(m){cc(n,n.return,m)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,wl=e;break}wl=t.return}}(e,t)}finally{nu=a,A.p=r,P.T=i}}Eu=1,ic(),rc(),oc()}}function ic(){if(1===Eu){Eu=0;var e=Nu,t=Cu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var i=A.p;A.p=2;var r=nu;nu|=4;try{Pl(t,e);var o=nd,s=ei(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Jn(a.ownerDocument.documentElement,a)){if(null!==l&&ti(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,g=Math.min(l.start,p),v=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>v&&(s=v,v=g,g=s);var m=Qn(a,g),y=Qn(a,v);if(m&&y&&(1!==f.rangeCount||f.anchorNode!==m.node||f.anchorOffset!==m.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(m.node,m.offset),f.removeAllRanges(),g>v?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var _=d[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}nh=!!td,nd=td=null}finally{nu=r,A.p=i,P.T=n}}e.current=t,Eu=2}}function rc(){if(2===Eu){Eu=0;var e=Nu,t=Cu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var i=A.p;A.p=2;var r=nu;nu|=4;try{Sl(e,t.alternate,t)}finally{nu=r,A.p=i,P.T=n}}Eu=3}}function oc(){if(4===Eu||3===Eu){Eu=0,ee();var e=Nu,t=Cu,n=Iu,i=Ru;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Eu=5:(Eu=0,Cu=Nu=null,sc(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Su=null),je(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=P.T,r=A.p,A.p=2,P.T=null;try{for(var o=e.onRecoverableError,s=0;s<i.length;s++){var a=i[s];o(a.value,{componentStack:a.stack})}}finally{P.T=t,A.p=r}}0!==(3&Iu)&&ac(),kc(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Lu?Ou++:(Ou=0,Lu=e):Ou=0,wc(0,!1)}}function sc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Pr(t)))}function ac(e){return ic(),rc(),oc(),lc()}function lc(){if(5!==Eu)return!1;var e=Nu,t=ju;ju=0;var n=je(Iu),i=P.T,r=A.p;try{A.p=32>n?32:n,P.T=null,n=Tu,Tu=null;var o=Nu,a=Iu;if(Eu=0,Cu=Nu=null,Iu=0,0!==(6&nu))throw Error(s(331));var l=nu;if(nu|=4,Kl(o.current),Vl(o,o.current,a,n),nu=l,wc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,o)}catch(u){}return!0}finally{A.p=r,P.T=i,sc(e,t)}}function uc(e,t,n){t=Si(n,t),null!==(e=oo(e,t=wa(e.stateNode,t,2),2))&&(Ee(e,2),kc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Su||!Su.has(i))){e=Si(n,e),null!==(i=oo(t,n=Sa(2),2))&&(Ea(n,i,t,e),Ee(i,2),kc(i));break}}t=t.return}}function dc(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tu;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(cu=!0,r.add(n),e=hc.bind(null,e,t,n),t.then(e,e))}function hc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,iu===e&&(ou&n)===n&&(4===hu||3===hu&&(62914560&ou)===ou&&300>te()-bu?0===(2&nu)&&Vu(e,0):gu|=n,mu===ou&&(mu=0)),kc(e)}function fc(e,t){0===t&&(t=we()),null!==(e=Ri(e,t))&&(Ee(e,t),kc(e))}function pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fc(e,n)}function gc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),fc(e,n)}var vc=null,mc=null,yc=!1,xc=!1,_c=!1,bc=0;function kc(e){e!==mc&&null===e.next&&(null===mc?vc=mc=e:mc=mc.next=e),xc=!0,yc||(yc=!0,dd(function(){0!==(6&nu)?K(ie,Sc):Ec()}))}function wc(e,t){if(!_c&&xc){_c=!0;do{for(var n=!1,i=vc;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=r&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Ic(i,o))}else o=ou,0===(3&(o=xe(i,i===iu?o:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||_e(i,o)||(n=!0,Ic(i,o));i=i.next}}while(n);_c=!1}}function Sc(){Ec()}function Ec(){xc=yc=!1;var e=0;0!==bc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=bc),bc=0);for(var t=te(),n=null,i=vc;null!==i;){var r=i.next,o=Nc(i,t);0===o?(i.next=null,null===n?vc=r:n.next=r,null===r&&(mc=n)):(n=i,(0!==e||0!==(3&o))&&(xc=!0)),i=r}wc(e,!1)}function Nc(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-fe(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=be(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=ou,n=xe(e,e===(t=iu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===su||9===su)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&Q(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&Q(i),je(n)){case 2:case 8:n=re;break;case 32:default:n=oe;break;case 268435456:n=ae}return i=Cc.bind(null,e),n=K(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&Q(i),e.callbackPriority=2,e.callbackNode=null,2}function Cc(e,t){if(0!==Eu&&5!==Eu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ac()&&e.callbackNode!==n)return null;var i=ou;return 0===(i=xe(e,e===iu?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Du(e,i,t),Nc(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cc.bind(null,e):null)}function Ic(e,t){if(ac())return null;Du(e,t,!0)}function jc(){return 0===bc&&(bc=ke()),bc}function Tc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Rc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Oc=0;Oc<bi.length;Oc++){var Lc=bi[Oc];ki(Lc.toLowerCase(),"on"+(Lc[0].toUpperCase()+Lc.slice(1)))}ki(fi,"onAnimationEnd"),ki(pi,"onAnimationIteration"),ki(gi,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(vi,"onTransitionRun"),ki(mi,"onTransitionStart"),ki(yi,"onTransitionCancel"),ki(xi,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ac=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function Mc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=u;try{o(r)}catch(c){ma(c)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=u;try{o(r)}catch(c){ma(c)}r.currentTarget=null,o=l}}}}function Dc(e,t){var n=t[Ae];void 0===n&&(n=t[Ae]=new Set);var i=e+"__bubble";n.has(i)||(Uc(t,e,2,!1),n.add(i))}function Fc(e,t,n){var i=0;t&&(i|=4),Uc(n,e,i,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Bc(e){if(!e[zc]){e[zc]=!0,Ye.forEach(function(t){"selectionchange"!==t&&(Ac.has(t)||Fc(t,!1,e),Fc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zc]||(t[zc]=!0,Fc("selectionchange",!1,t))}}function Uc(e,t,n,i){switch(uh(t)){case 2:var r=ih;break;case 8:r=rh;break;default:r=oh}n=r.bind(null,t,n,e),r=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qc(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r)break;if(4===s)for(s=i.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==a;){if(null===(s=Ue(a)))return;if(5===(u=s.tag)||6===u||26===u||27===u){i=o=s;continue e}a=a.parentNode}}i=i.return}Mt(function(){var i=o,r=Rt(n),s=[];e:{var a=_i.get(e);if(void 0!==a){var u=Jt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":u=gn;break;case"focusin":c="focus",u=sn;break;case"focusout":c="blur",u=sn;break;case"beforeblur":case"afterblur":u=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=mn;break;case fi:case pi:case gi:u=an;break;case xi:u=yn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=vn;break;case"toggle":case"beforetoggle":u=_n}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=i;null!==g;){var v=g;if(p=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===p||null===f||null!=(v=Dt(g,f))&&d.push(Vc(g,v,p)),h)break;g=g.return}0<d.length&&(a=new u(a,c,null,n,r),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Tt||!(c=n.relatedTarget||n.fromElement)||!Ue(c)&&!c[Pe])&&(u||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=i,null!==(c=(c=n.relatedTarget||n.toElement)?Ue(c):null)&&(h=l(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=i),u!==c)){if(d=rn,v="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,v="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==u?a:Ve(u),p=null==c?a:Ve(c),(a=new d(v,g+"leave",u,n,r)).target=h,a.relatedTarget=p,v=null,Ue(r)===i&&((d=new d(f,g+"enter",c,n,r)).target=p,d.relatedTarget=h,v=d),h=v,u&&c)e:{for(f=c,g=0,p=d=u;p;p=Hc(p))g++;for(p=0,v=f;v;v=Hc(v))p++;for(;0<g-p;)d=Hc(d),g--;for(;0<p-g;)f=Hc(f),p--;for(;g--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hc(d),f=Hc(f)}d=null}else d=null;null!==u&&Yc(s,a,u,d,!1),null!==c&&null!==h&&Yc(s,h,c,d,!0)}if("select"===(u=(a=i?Ve(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var m=Fn;else if(On(a))if(zn)m=Xn;else{m=Yn;var y=Hn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Nt(i.elementType)&&(m=Fn):m=Wn;switch(m&&(m=m(e,i))?Ln(s,m,n,r):(y&&y(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&yt(a,"number",a.value)),y=i?Ve(i):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(ii=y,ri=i,oi=null);break;case"focusout":oi=ri=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,ai(s,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(s,n,r)}var x;if(kn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Tn?In(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(En&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Tn&&(x=Gt()):(qt="value"in(Ut=r)?Ut.value:Ut.textContent,Tn=!0)),0<(y=Gc(i,_)).length&&(_=new un(_,e,null,n,r),s.push({event:_,listeners:y}),x?_.data=x:null!==(x=jn(n))&&(_.data=x))),(x=Sn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!kn&&In(e,t)?(e=Gt(),Vt=qt=Ut=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=Gc(i,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,r),s.push({event:y,listeners:_}),y.data=x)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var o=Tc((r[Le]||null).action),s=i.submitter;s&&null!==(t=(t=s[Le]||null)?Tc(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Jt("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==bc){var e=s?Rc(r,s):new FormData(r);Rs(n,{pending:!0,data:e,method:r.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Rc(r,s):new FormData(r),Rs(n,{pending:!0,data:e,method:r.method,action:o},o,e))},currentTarget:r}]})}}(s,e,i,n,r)}Mc(s,t)})}function Vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gc(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Dt(e,n))&&i.unshift(Vc(e,r,o)),null!=(r=Dt(e,t))&&i.push(Vc(e,r,o))),3===e.tag)return i;e=e.return}return[]}function Hc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yc(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===u||(l=u,r?null!=(u=Dt(n,o))&&s.unshift(Vc(n,u,l)):r||null!=(u=Dt(n,o))&&s.push(Vc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wc=/\r\n?/g,Xc=/\u0000|\uFFFD/g;function $c(e){return("string"===typeof e?e:""+e).replace(Wc,"\n").replace(Xc,"")}function Zc(e,t){return t=$c(t),$c(e)===t}function Kc(){}function Qc(e,t,n,i,r,o){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||kt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&kt(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Et(e,i,o);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=jt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Qc(e,t,"name",r.name,r,null),Qc(e,t,"formEncType",r.formEncType,r,null),Qc(e,t,"formMethod",r.formMethod,r,null),Qc(e,t,"formTarget",r.formTarget,r,null)):(Qc(e,t,"encType",r.encType,r,null),Qc(e,t,"method",r.method,r,null),Qc(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=jt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Kc);break;case"onScroll":null!=i&&Dc("scroll",e);break;case"onScrollEnd":null!=i&&Dc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=jt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Dc("beforetoggle",e),Dc("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,i)}}function Jc(e,t,n,i,r,o){switch(n){case"style":Et(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof i?kt(e,i):("number"===typeof i||"bigint"===typeof i)&&kt(e,""+i);break;case"onScroll":null!=i&&Dc("scroll",e);break;case"onScrollEnd":null!=i&&Dc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Le]||null)?o[n]:null)&&e.removeEventListener(t,o,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dc("error",e),Dc("load",e);var i,r=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qc(e,t,i,a,n,null)}}return o&&Qc(e,t,"srcSet",n.srcSet,n,null),void(r&&Qc(e,t,"src",n.src,n,null));case"input":Dc("invalid",e);var l=i=a=o=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":o=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Qc(e,t,r,d,n,null)}}return mt(e,i,l,u,c,a,o,!1),void dt(e);case"select":for(o in Dc("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:Qc(e,t,o,l,n,null)}return t=i,n=a,e.multiple=!!r,void(null!=t?xt(e,!!r,t,!1):null!=n&&xt(e,!!r,n,!0));case"textarea":for(a in Dc("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Qc(e,t,a,l,n,null)}return bt(e,r,o,i),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))if("selected"===u)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Qc(e,t,u,r,n,null);return;case"dialog":Dc("beforetoggle",e),Dc("toggle",e),Dc("cancel",e),Dc("close",e);break;case"iframe":case"object":Dc("load",e);break;case"video":case"audio":for(r=0;r<Pc.length;r++)Dc(Pc[r],e);break;case"image":Dc("error",e),Dc("load",e);break;case"details":Dc("toggle",e);break;case"embed":case"source":case"link":Dc("error",e),Dc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qc(e,t,c,r,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Jc(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Qc(e,t,l,r,n,null))}var td=null,nd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,i=0,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(1&n&&bd(s.documentElement),2&n&&bd(s.body),4&n)for(bd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===r)return e.removeChild(o),void Ch(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);Ch(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function md(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _d(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var kd=new Map,wd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=A.d;A.d={f:function(){var e=Ed.f(),t=Uu();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ls(t):Ed.r(e)},D:function(e){Ed.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var i=Nd;if(i&&e&&t){var r='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+gt(n.imageSizes)+'"]')):r+='[href="'+gt(e)+'"]';var o=r;switch(t){case"style":o=jd(e);break;case"script":o=Od(e)}kd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(o,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Td(o))||"script"===t&&i.querySelector(Ld(o))||(ed(t=i.createElement("link"),"link",e),He(t),i.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Nd;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+gt(i)+'"][href="'+gt(e)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Od(e)}if(!kd.has(o)&&(e=h({rel:"modulepreload",href:e},t),kd.set(o,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(o)))return}ed(i=n.createElement("link"),"link",e),He(i),n.head.appendChild(i)}}},X:function(e,t){Ed.X(e,t);var n=Nd;if(n&&e){var i=Ge(n).hoistableScripts,r=Od(e),o=i.get(r);o||((o=n.querySelector(Ld(r)))||(e=h({src:e,async:!0},t),(t=kd.get(r))&&Dd(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}},S:function(e,t,n){Ed.S(e,t,n);var i=Nd;if(i&&e){var r=Ge(i).hoistableStyles,o=jd(e);t=t||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Td(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(o))&&Md(e,n);var l=s=i.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Ad(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}},M:function(e,t){Ed.M(e,t);var n=Nd;if(n&&e){var i=Ge(n).hoistableScripts,r=Od(e),o=i.get(r);o||((o=n.querySelector(Ld(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(r))&&Dd(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}};var Nd="undefined"===typeof document?null:document;function Cd(e,t,n){var i=Nd;if(i&&"string"===typeof t&&t){var r=gt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),wd.has(r)||(wd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(ed(t=i.createElement("link"),"link",e),He(t),i.head.appendChild(t)))}}function Id(e,t,n,i){var r,o,a,l,u=(u=G.current)?Sd(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(i=(n=Ge(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var c=Ge(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Td(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),c||(r=u,o=e,a=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=r.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",a),He(o),r.head.appendChild(o))))),t&&null===i)throw Error(s(528,""));return d}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(i=(n=Ge(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function jd(e){return'href="'+gt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+gt(e)+'"]'}function Ld(e){return"script[async]"+e}function Pd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(i)return t.instance=i,He(i),i;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(i=(e.ownerDocument||e).createElement("style")),ed(i,"style",r),Ad(i,n.precedence,e),t.instance=i;case"stylesheet":r=jd(n.href);var o=e.querySelector(Td(r));if(o)return t.state.loading|=4,t.instance=o,He(o),o;i=Rd(n),(r=kd.get(r))&&Md(i,r),He(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",i),t.state.loading|=4,Ad(o,n.precedence,e),t.instance=o;case"script":return o=Od(n.src),(r=e.querySelector(Ld(o)))?(t.instance=r,He(r),r):(i=n,(r=kd.get(o))&&Dd(i=h({},n),r),He(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Ad(i,n.precedence,e));return t.instance}function Ad(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,n){if(null===Fd){var i=new Map,r=Fd=new Map;r.set(n,i)}else(i=(r=Fd).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[ze]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function Vd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Yd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Wd,e),Hd=null,Gd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var i=n.get(null);else{n=new Map,Hd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=t.instance).getAttribute("data-precedence"),(o=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Gd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:b,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function $d(e,t,n,i,r,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Zd(e,t,n,i,r,o,s,a,l,u,c,d){return e=new $d(e,t,n,s,a,l,u,d),t=1,!0===o&&(t|=24),o=Mi(3,null,null,t),e.current=o,o.stateNode=e,(t=Lr()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},no(o),e}function Kd(e){return e?e=Pi:Pi}function Qd(e,t,n,i,r,o){r=Kd(r),null===i.context?i.context=r:i.pendingContext=r,(i=ro(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(i.callback=o),null!==(n=oo(e,i,t))&&(Mu(n,0,t),so(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function th(e){if(13===e.tag){var t=Ri(e,67108864);null!==t&&Mu(t,0,67108864),eh(e,67108864)}}var nh=!0;function ih(e,t,n,i){var r=P.T;P.T=null;var o=A.p;try{A.p=2,oh(e,t,n,i)}finally{A.p=o,P.T=r}}function rh(e,t,n,i){var r=P.T;P.T=null;var o=A.p;try{A.p=8,oh(e,t,n,i)}finally{A.p=o,P.T=r}}function oh(e,t,n,i){if(nh){var r=sh(i);if(null===r)qc(e,t,i,ah,n),yh(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return dh=xh(dh,e,t,n,i,r),!0;case"dragenter":return hh=xh(hh,e,t,n,i,r),!0;case"mouseover":return fh=xh(fh,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return ph.set(o,xh(ph.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,gh.set(o,xh(gh.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(yh(e,i),4&t&&-1<mh.indexOf(e)){for(;null!==r;){var o=qe(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ye(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}kc(o),0===(6&nu)&&(ku=te()+500,wc(0,!1))}}break;case 13:null!==(a=Ri(o,2))&&Mu(a,0,2),Uu(),eh(o,2)}if(null===(o=sh(i))&&qc(e,t,i,ah,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else qc(e,t,i,null,n)}}function sh(e){return lh(e=Rt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ch=!1,dh=null,hh=null,fh=null,ph=new Map,gh=new Map,vh=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function xh(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=qe(t))&&th(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function _h(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}(e.priority,function(){if(13===n.tag){var e=Pu();e=Ie(e);var t=Ri(n,e);null!==t&&Mu(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&th(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Tt=i,n.target.dispatchEvent(i),Tt=null,t.shift()}return!0}function kh(e,t,n){bh(e)&&n.delete(t)}function wh(){ch=!1,null!==dh&&bh(dh)&&(dh=null),null!==hh&&bh(hh)&&(hh=null),null!==fh&&bh(fh)&&(fh=null),ph.forEach(kh),gh.forEach(kh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wh)))}var Eh=null;function Nh(e){Eh!==e&&(Eh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===lh(i||n))continue;break}var o=qe(n);null!==o&&(e.splice(t,3),t-=3,Rs(o,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ch(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),gh.forEach(t);for(var n=0;n<vh.length;n++){var i=vh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<vh.length&&null===(n=vh[0]).blockedOn;)_h(n),null===n.blockedOn&&vh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[Le]||null;if("function"===typeof o)s||Nh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[Le]||null)a=s.formAction;else if(null!==lh(r))continue}else a=s.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),Nh(n)}}}function Ih(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qd(t.current,Pu(),e,t,null,null)},jh.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Uu(),t[Pe]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vh.length&&0!==t&&t<vh[n].priority;n++);vh.splice(n,0,e),0===n&&_h(e)}};var Th=r.version;if("19.1.1"!==Th)throw Error(s(527,Th,"19.1.1"));A.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return c(r),e;if(o===i)return c(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ce=Oh.inject(Rh),de=Oh}catch(Ph){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,i="",r=ya,o=xa,l=_a;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,i,r,o,l,0,null),e[Pe]=t.current,Bc(e),new Ih(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var i=!1,r="",o=ya,l=xa,u=_a,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Zd(e,1,!0,t,0,i,r,o,l,u,0,c)).context=Kd(null),n=t.current,(r=ro(i=Ie(i=Pu()))).callback=null,oo(n,r,i),n=i,t.current.lanes=n,Ee(t,n),kc(t),e[Pe]=t.current,Bc(e),new jh(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},67:(e,t,n)=>{"use strict";e.exports=n(914)},207:function(e){e.exports=function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t,n){return t=l(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){if(c())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&d(r,n.prototype),r}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p(i.key),i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},a.apply(null,arguments)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t,n,i){var r=a(l(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof r?function(e){return r.apply(n,e)}:r}function f(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function g(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},v(e)}var m=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=e.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=e.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==e.JOIN_ROUND&&(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}}},{key:"bufferDistanceError",value:function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)}}])}();m.CAP_ROUND=1,m.CAP_FLAT=2,m.CAP_SQUARE=3,m.JOIN_ROUND=1,m.JOIN_MITRE=2,m.JOIN_BEVEL=3,m.DEFAULT_QUADRANT_SEGMENTS=8,m.DEFAULT_MITRE_LIMIT=5,m.DEFAULT_SIMPLIFY_FACTOR=.01;var y=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({Exception:i})[0],r}return u(i,e),o(i,[{key:"toString",value:function(){return this.message}}])}(v(Error)),x=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({IllegalArgumentException:i})[0],r}return u(i,e),o(i)}(y),_=o(function e(){n(this,e)},[{key:"filter",value:function(e){}}]);function b(){}function k(){}function w(){}var S,E,N,C,I,j,T,R,O=o(function e(){n(this,e)},null,[{key:"equalsWithTolerance",value:function(e,t,n){return Math.abs(e-t)<=n}}]),L=o(function e(t,i){n(this,e),this.low=i||0,this.high=t||0},null,[{key:"toBinaryString",value:function(e){var t,n="";for(t=2147483648;t>0;t>>>=1)n+=(e.high&t)===t?"1":"0";for(t=2147483648;t>0;t>>>=1)n+=(e.low&t)===t?"1":"0";return n}}]);function P(){}function A(){}P.NaN=NaN,P.isNaN=function(e){return Number.isNaN(e)},P.isInfinite=function(e){return!Number.isFinite(e)},P.MAX_VALUE=Number.MAX_VALUE,P.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,P.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(j=2146435072,T=new Float64Array(1),R=new Int32Array(T.buffer),P.doubleToLongBits=function(e){T[0]=e;var t=0|R[0],n=0|R[1];return(n&j)===j&&1048575&n&&0!==t&&(t=0,n=2146959360),new L(n,t)},P.longBitsToDouble=function(e){return R[0]=e.low,R[1]=e.high,T[0]}):(S=1023,E=Math.log2,N=Math.floor,C=Math.pow,I=function(){for(var e=53;e>0;e--){var t=C(2,e)-1;if(N(E(t))+1===e)return t}return 0}(),P.doubleToLongBits=function(e){var t,n,i,r,o,s,a,l,u;if(e<0||1/e===Number.NEGATIVE_INFINITY?(s=1<<31,e=-e):s=0,0===e)return new L(l=s,u=0);if(e===1/0)return new L(l=2146435072|s,u=0);if(e!=e)return new L(l=2146959360,u=0);if(r=0,u=0,(t=N(e))>1)if(t<=I)(r=N(E(t)))<=20?(u=0,l=t<<20-r&1048575):(u=t%(n=C(2,i=r-20))<<32-i,l=t/n&1048575);else for(i=t,u=0;0!==(i=N(n=i/2));)r++,u>>>=1,u|=(1&l)<<31,l>>>=1,n!==i&&(l|=524288);if(a=r+S,o=0===t,t=e-t,r<52&&0!==t)for(i=0;;){if((n=2*t)>=1?(t=n-1,o?(a--,o=!1):(i<<=1,i|=1,r++)):(t=n,o?0==--a&&(r++,o=!1):(i<<=1,r++)),20===r)l|=i,i=0;else if(52===r){u|=i;break}if(1===n){r<20?l|=i<<20-r:r<52&&(u|=i<<52-r);break}}return l|=a<<20,new L(l|=s,u)},P.longBitsToDouble=function(e){var t,n,i,r,o=e.high,s=e.low,a=o&1<<31?-1:1;for(i=((2146435072&o)>>20)-S,r=0,n=1<<19,t=1;t<=20;t++)o&n&&(r+=C(2,-t)),n>>>=1;for(n=1<<31,t=21;t<=52;t++)s&n&&(r+=C(2,-t)),n>>>=1;if(-1023===i){if(0===r)return 0*a;i=-1022}else{if(1024===i)return 0===r?a/0:NaN;r+=1}return a*r*C(2,i)});var M=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({RuntimeException:i})[0],r}return u(i,e),o(i)}(y),D=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,null,[{key:"constructor_",value:function(){if(0===arguments.length)M.constructor_.call(this);else if(1===arguments.length){var e=arguments[0];M.constructor_.call(this,e)}}}])}(M),F=function(){function e(){n(this,e)}return o(e,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)e.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new D("Should never reach here"+(null!==t?": "+t:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var t=arguments[0];e.isTrue(t,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new D:new D(n)}}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];e.equals(t,n,null)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(!r.equals(i))throw new D("Expected "+i+" but encountered "+r+(null!==o?": "+o:""))}}}])}(),z=new ArrayBuffer(8),B=new Float64Array(z),U=new Int32Array(z),q=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getM",value:function(){return P.NaN}},{key:"setOrdinate",value:function(t,n){switch(t){case e.X:this.x=n;break;case e.Y:this.y=n;break;case e.Z:this.setZ(n);break;default:throw new x("Invalid ordinate index: "+t)}}},{key:"equals2D",value:function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!O.equalsWithTolerance(this.x,t.x,n)&&!!O.equalsWithTolerance(this.y,t.y,n)}}},{key:"setM",value:function(t){throw new x("Invalid ordinate index: "+e.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(t){switch(t){case e.X:return this.x;case e.Y:return this.y;case e.Z:return this.getZ()}throw new x("Invalid ordinate index: "+t)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||P.isNaN(this.getZ())&&P.isNaN(e.getZ()))}},{key:"equals",value:function(t){return t instanceof e&&this.equals2D(t)}},{key:"equalInZ",value:function(e,t){return O.equalsWithTolerance(this.getZ(),e.getZ(),t)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return F.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.getZ()-e.getZ();return Math.sqrt(t*t+n*n+i*i)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*t+e.hashCode(this.x))+e.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[b,k,w]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)e.constructor_.call(this,0,0);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.x,t.y,t.getZ())}else if(2===arguments.length){var n=arguments[0],i=arguments[1];e.constructor_.call(this,n,i,e.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.x=r,this.y=o,this.z=s}}},{key:"hashCode",value:function(e){return B[0]=e,U[0]^U[1]}}])}(),V=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"compare",value:function(t,n){var i=e.compare(t.x,n.x);if(0!==i)return i;var r=e.compare(t.y,n.y);return 0!==r?r:this._dimensionsToTest<=2?0:e.compare(t.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[A]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)e.constructor_.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new x("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}},{key:"compare",value:function(e,t){return e<t?-1:e>t?1:P.isNaN(e)?P.isNaN(t)?0:-1:P.isNaN(t)?1:0}}])}();q.DimensionalComparator=V,q.NULL_ORDINATE=P.NaN,q.X=0,q.Y=1,q.Z=2,q.M=3;var G=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new e;var n=this._minx>t._minx?this._minx:t._minx,i=this._miny>t._miny?this._miny:t._miny;return new e(n,this._maxx<t._maxx?this._maxx:t._maxx,i,this._maxy<t._maxy?this._maxy:t._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof q){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof e){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof q){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof q&&arguments[1]instanceof q){var i=arguments[0],r=arguments[1];return!this.isNull()&&!((i.x<r.x?i.x:r.x)>this._maxx)&&!((i.x>r.x?i.x:r.x)<this._minx)&&!((i.y<r.y?i.y:r.y)>this._maxy)&&!((i.y>r.y?i.y:r.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||s>this._maxy||s<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return Math.sqrt(e*e+t*t)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof q){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}},{key:"translate",value:function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t}},{key:"expandBy",value:function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof q){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.covers(i,r)}}},{key:"centre",value:function(){return this.isNull()?null:new q((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof q){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];o<s?(this._minx=o,this._maxx=s):(this._minx=s,this._maxx=o),a<l?(this._miny=a,this._maxy=l):(this._miny=l,this._maxy=a)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*(e=37*(e=37*e+q.hashCode(this._minx))+q.hashCode(this._maxx))+q.hashCode(this._miny))+q.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[b,w]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof q){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];this.init(o,s,a,l)}}},{key:"intersects",value:function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),l=Math.max(o.x,s.x),u=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(u>l)&&!(c<a)&&(a=Math.min(o.y,s.y),l=Math.max(o.y,s.y),u=Math.min(i.y,r.y),c=Math.max(i.y,r.y),!(u>l)&&!(c<a))}}}])}(),H=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(e.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return null!==e&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(1===arguments.length){var t=arguments[0];return e=t,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return e=n,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(t){if(t.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION)throw new x("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return null!=this.envelope&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=null==this._envelope?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new G(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,t){for(var n=e.iterator(),i=t.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===e.TYPECODE_MULTIPOINT||this.getTypeCode()===e.TYPECODE_MULTILINESTRING||this.getTypeCode()===e.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[k,b,w]}},{key:"getClass",value:function(){return e}}],[{key:"hasNonEmptyElements",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}])}();H.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},H.TYPECODE_POINT=0,H.TYPECODE_MULTIPOINT=1,H.TYPECODE_LINESTRING=2,H.TYPECODE_LINEARRING=3,H.TYPECODE_MULTILINESTRING=4,H.TYPECODE_POLYGON=5,H.TYPECODE_MULTIPOLYGON=6,H.TYPECODE_GEOMETRYCOLLECTION=7,H.TYPENAME_POINT="Point",H.TYPENAME_MULTIPOINT="MultiPoint",H.TYPENAME_LINESTRING="LineString",H.TYPENAME_LINEARRING="LinearRing",H.TYPENAME_MULTILINESTRING="MultiLineString",H.TYPENAME_POLYGON="Polygon",H.TYPENAME_MULTIPOLYGON="MultiPolygon",H.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",H.geometryChangedFilter={get interfaces_(){return[_]},filter:function(e){e.geometryChangedAction()}};var Y=function(){function e(){n(this,e)}return o(e,null,[{key:"toLocationSymbol",value:function(t){switch(t){case e.EXTERIOR:return"e";case e.BOUNDARY:return"b";case e.INTERIOR:return"i";case e.NONE:return"-"}throw new x("Unknown location value: "+t)}}])}();Y.INTERIOR=0,Y.BOUNDARY=1,Y.EXTERIOR=2,Y.NONE=-1;var W=o(function e(){n(this,e)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),X=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({NoSuchElementException:i})[0],r}return u(i,e),o(i)}(y),$=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({UnsupportedOperationException:i})[0],r}return u(i,e),o(i)}(y),Z=function(e){function i(){return n(this,i),t(this,i,arguments)}return u(i,e),o(i,[{key:"contains",value:function(){}}])}(W),K=function(e){function i(e){var r;return n(this,i),(r=t(this,i)).map=new Map,e instanceof W&&r.addAll(e),r}return u(i,e),o(i,[{key:"contains",value:function(e){var t=e.hashCode?e.hashCode():e;return!!this.map.has(t)}},{key:"add",value:function(e){var t=e.hashCode?e.hashCode():e;return!this.map.has(t)&&!!this.map.set(t,e)}},{key:"addAll",value:function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.add(i)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new $}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Q(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(Z),Q=o(function e(t){n(this,e),this.iterator=t.values();var i=this.iterator.next(),r=i.done,o=i.value;this.done=r,this.value=o},[{key:"next",value:function(){if(this.done)throw new X;var e=this.value,t=this.iterator.next(),n=t.done,i=t.value;return this.done=n,this.value=i,e}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new $}}]),J=function(){function e(){n(this,e)}return o(e,null,[{key:"opposite",value:function(t){return t===e.LEFT?e.RIGHT:t===e.RIGHT?e.LEFT:t}}])}();J.ON=0,J.LEFT=1,J.RIGHT=2;var ee=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({EmptyStackException:i})[0],r}return u(i,e),o(i)}(y),te=function(e){function i(e){var r;return n(this,i),(r=t(this,i,[e])).name=Object.keys({IndexOutOfBoundsException:i})[0],r}return u(i,e),o(i)}(y),ne=function(e){function i(){return n(this,i),t(this,i,arguments)}return u(i,e),o(i,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(W),ie=function(e){function i(){var e;return n(this,i),(e=t(this,i)).array=[],e}return u(i,e),o(i,[{key:"add",value:function(e){return this.array.push(e),!0}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"push",value:function(e){return this.array.push(e),e}},{key:"pop",value:function(){if(0===this.array.length)throw new ee;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new ee;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(e){return this.array.indexOf(e)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(ne);function re(e,t){return e.interfaces_&&e.interfaces_.indexOf(t)>-1}var oe=o(function e(t){n(this,e),this.str=t},[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),se=function(){function e(t){n(this,e),this.value=t}return o(e,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(t){return new e(t)}}])}(),ae=o(function e(){n(this,e)},null,[{key:"isWhitespace",value:function(e){return e<=32&&e>=0||127===e}},{key:"toUpperCase",value:function(e){return e.toUpperCase()}}]),le=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(t,n){var i=this.abs(),r=e.magnitude(i._hi),o=e.TEN.pow(r);(i=i.divide(o)).gt(e.TEN)?(i=i.divide(e.TEN),r+=1):i.lt(e.ONE)&&(i=i.multiply(e.TEN),r-=1);for(var s=r+1,a=new oe,l=e.MAX_PRINT_DIGITS-1,u=0;u<=l;u++){t&&u===s&&a.append(".");var c=Math.trunc(i._hi);if(c<0)break;var d=!1,h=0;c>9?(d=!0,h="9"):h="0"+c,a.append(h),i=i.subtract(e.valueOf(c)).multiply(e.TEN),d&&i.selfAdd(e.TEN);var f=!0,p=e.magnitude(i._hi);if(p<0&&Math.abs(p)>=l-u&&(f=!1),!f)break}return n[0]=r,a.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof e){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var i,r,o,s,a=arguments[0],l=arguments[1],u=null,c=null,d=null,h=null;return o=this._hi/a,h=(u=(d=e.SPLIT*o)-(u=d-o))*(c=(h=e.SPLIT*a)-(c=h-a))-(s=o*a)+u*(r=a-c)+(i=o-u)*c+i*r,h=o+(d=(this._hi-s-h+this._lo-o*l)/a),this._hi=h,this._lo=o-h+d,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof e){var t,n,i,r,o=arguments[0],s=null,a=null,l=null,u=null;return t=(i=this._hi/o._hi)-(s=(l=e.SPLIT*i)-(s=l-i)),u=s*(a=(u=e.SPLIT*o._hi)-(a=u-o._hi))-(r=i*o._hi)+s*(n=o._hi-a)+t*a+t*n,new e(u=i+(l=(this._hi-r-u+this._lo-i*o._lo)/o._hi),i-u+l)}if("number"==typeof arguments[0]){var c=arguments[0];return P.isNaN(c)?e.createNaN():e.copy(this).selfDivide(c,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(t){if(0===t)return e.valueOf(1);var n=new e(this),i=e.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&i.selfMultiply(n),(r/=2)>0&&(n=n.sqr());else i=n;return t<0?i.reciprocal():i}},{key:"ceil",value:function(){if(this.isNaN())return e.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new e(t,n)}},{key:"compareTo",value:function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return e.valueOf(0);if(this.isNegative())return e.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,i=e.valueOf(n),r=this.subtract(i.sqr())._hi*(.5*t);return i.add(r)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var n,i,r,o,s,a=arguments[0],l=null;return l=(r=this._hi+a)-(o=r-this._hi),i=(s=(l=a-o+(this._hi-l))+this._lo)+(r-(n=r+s)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u,c,d,h,f=arguments[0],p=arguments[1],g=null,v=null,m=null;d=this._hi+f,c=this._lo+p,v=d-(m=d-this._hi),g=c-(h=c-this._lo);var y=(u=d+(m=(v=f-m+(this._hi-v))+c))+(m=(g=p-h+(this._lo-g))+(m+(d-u))),x=m+(u-y);return this._hi=y,this._lo=x,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var i,r,o=arguments[0],s=arguments[1],a=null,l=null,u=null,c=null;a=(u=e.SPLIT*this._hi)-this._hi,c=e.SPLIT*o,a=u-a,i=this._hi-a,l=c-o;var d=(u=this._hi*o)+(c=a*(l=c-l)-u+a*(r=o-l)+i*l+i*r+(this._hi*s+this._lo*o)),h=c+(a=u-d);return this._hi=d,this._lo=h,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return e.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new e(t,n)}},{key:"negate",value:function(){return this.isNaN()?this:new e(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return t.isNaN()?e.createNaN():e.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var n=arguments[0];return P.isNaN(n)?e.createNaN():e.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return P.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var t=e.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,o=i;if("."===i.charAt(0))o="0"+i;else if(r<0)o="0."+e.stringOfChar("0",-r)+i;else if(-1===i.indexOf(".")){var s=r-i.length;o=i+e.stringOfChar("0",s)+".0"}return this.isNegative()?"-"+o:o}},{key:"reciprocal",value:function(){var t,n,i,r,o=null,s=null,a=null,l=null;t=(i=1/this._hi)-(o=(a=e.SPLIT*i)-(o=a-i)),s=(l=e.SPLIT*this._hi)-this._hi;var u=i+(a=(1-(r=i*this._hi)-(l=o*(s=l-s)-r+o*(n=this._hi-s)+t*s+t*n)-i*this._lo)/this._hi);return new e(u,i-u+a)}},{key:"toSciNotation",value:function(){if(this.isZero())return e.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!1,n),r=e.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);var o="";i.length>1&&(o=i.substring(1));var s=i.charAt(0)+"."+o;return this.isNegative()?"-"+s+r:s+r}},{key:"abs",value:function(){return this.isNaN()?e.NaN:this.isNegative()?this.negate():new e(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return e.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var n=arguments[0];return e.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof e){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?e.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[w,b,k]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];e.constructor_.call(this,e.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];return e.determinant(e.valueOf(t),e.valueOf(n),e.valueOf(i),e.valueOf(r))}if(arguments[3]instanceof e&&arguments[2]instanceof e&&arguments[0]instanceof e&&arguments[1]instanceof e){var o=arguments[1],s=arguments[2],a=arguments[3];return arguments[0].multiply(a).selfSubtract(o.multiply(s))}}},{key:"sqr",value:function(t){return e.valueOf(t).selfMultiply(t)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var t=arguments[0];return e.parse(t)}if("number"==typeof arguments[0])return new e(arguments[0])}},{key:"sqrt",value:function(t){return e.valueOf(t).sqrt()}},{key:"parse",value:function(t){for(var n=0,i=t.length;ae.isWhitespace(t.charAt(n));)n++;var r=!1;if(n<i){var o=t.charAt(n);"-"!==o&&"+"!==o||(n++,"-"===o&&(r=!0))}for(var s=new e,a=0,l=0,u=0,c=!1;!(n>=i);){var d=t.charAt(n);if(n++,ae.isDigit(d)){var h=d-"0";s.selfMultiply(e.TEN),s.selfAdd(h),a++}else{if("."!==d){if("e"===d||"E"===d){var f=t.substring(n);try{u=se.parseInt(f)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+f+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+d+"' at position "+n+" in string "+t)}l=a,c=!0}}var p=s;c||(l=a);var g=a-l-u;if(0===g)p=s;else if(g>0){var v=e.TEN.pow(g);p=s.divide(v)}else if(g<0){var m=e.TEN.pow(-g);p=s.multiply(m)}return r?p.negate():p}},{key:"createNaN",value:function(){return new e(P.NaN,P.NaN)}},{key:"copy",value:function(t){return new e(t)}},{key:"magnitude",value:function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=t&&(i+=1),i}},{key:"stringOfChar",value:function(e,t){for(var n=new oe,i=0;i<t;i++)n.append(e);return n.toString()}}])}();le.PI=new le(3.141592653589793,12246467991473532e-32),le.TWO_PI=new le(6.283185307179586,24492935982947064e-32),le.PI_2=new le(1.5707963267948966,6123233995736766e-32),le.E=new le(2.718281828459045,14456468917292502e-32),le.NaN=new le(P.NaN,P.NaN),le.EPS=123259516440783e-46,le.SPLIT=134217729,le.MAX_PRINT_DIGITS=32,le.TEN=le.valueOf(10),le.ONE=le.valueOf(1),le.SCI_NOT_EXPONENT_CHAR="E",le.SCI_NOT_ZERO="0.0E0";var ue=function(){function e(){n(this,e)}return o(e,null,[{key:"orientationIndex",value:function(t,n,i){var r=e.orientationIndexFilter(t,n,i);if(r<=1)return r;var o=le.valueOf(n.x).selfAdd(-t.x),s=le.valueOf(n.y).selfAdd(-t.y),a=le.valueOf(i.x).selfAdd(-n.x),l=le.valueOf(i.y).selfAdd(-n.y);return o.selfMultiply(l).selfSubtract(s.selfMultiply(a)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof le&&arguments[2]instanceof le&&arguments[0]instanceof le&&arguments[1]instanceof le){var e=arguments[1],t=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(e.multiply(t)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=le.valueOf(i),l=le.valueOf(r),u=le.valueOf(o),c=le.valueOf(s);return a.multiply(c).selfSubtract(l.multiply(u)).signum()}}},{key:"intersection",value:function(e,t,n,i){var r=new le(e.y).selfSubtract(t.y),o=new le(t.x).selfSubtract(e.x),s=new le(e.x).selfMultiply(t.y).selfSubtract(new le(t.x).selfMultiply(e.y)),a=new le(n.y).selfSubtract(i.y),l=new le(i.x).selfSubtract(n.x),u=new le(n.x).selfMultiply(i.y).selfSubtract(new le(i.x).selfMultiply(n.y)),c=o.multiply(u).selfSubtract(l.multiply(s)),d=a.multiply(s).selfSubtract(r.multiply(u)),h=r.multiply(l).selfSubtract(a.multiply(o)),f=c.selfDivide(h).doubleValue(),p=d.selfDivide(h).doubleValue();return P.isNaN(f)||P.isInfinite(f)||P.isNaN(p)||P.isInfinite(p)?null:new q(f,p)}},{key:"orientationIndexFilter",value:function(t,n,i){var r=null,o=(t.x-i.x)*(n.y-i.y),s=(t.y-i.y)*(n.x-i.x),a=o-s;if(o>0){if(s<=0)return e.signum(a);r=o+s}else{if(!(o<0))return e.signum(a);if(s>=0)return e.signum(a);r=-o-s}var l=e.DP_SAFE_EPSILON*r;return a>=l||-a>=l?e.signum(a):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}])}();ue.DP_SAFE_EPSILON=1e-15;var ce=o(function e(){n(this,e)},[{key:"getM",value:function(e){if(this.hasM()){var t=this.getDimension()-this.getMeasures();return this.getOrdinate(e,t)}return P.NaN}},{key:"setOrdinate",value:function(e,t,n){}},{key:"getZ",value:function(e){return this.hasZ()?this.getOrdinate(e,2):P.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(e,t){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(e){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(e){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(e){}},{key:"copy",value:function(){}},{key:"getY",value:function(e){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[k]}}]);ce.X=0,ce.Y=1,ce.Z=2,ce.M=3;var de=function(){function e(){n(this,e)}return o(e,null,[{key:"index",value:function(e,t,n){return ue.orientationIndex(e,t,n)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var t=arguments[0],n=t.length-1;if(n<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],r=0,o=1;o<=n;o++){var s=t[o];s.y>i.y&&(i=s,r=o)}var a=r;do{(a-=1)<0&&(a=n)}while(t[a].equals2D(i)&&a!==r);var l=r;do{l=(l+1)%n}while(t[l].equals2D(i)&&l!==r);var u=t[a],c=t[l];if(u.equals2D(i)||c.equals2D(i)||u.equals2D(c))return!1;var d=e.index(u,i,c);return 0===d?u.x>c.x:d>0}if(re(arguments[0],ce)){var h=arguments[0],f=h.size()-1;if(f<3)throw new x("Ring has fewer than 4 points, so orientation cannot be determined");for(var p=h.getCoordinate(0),g=0,v=1;v<=f;v++){var m=h.getCoordinate(v);m.y>p.y&&(p=m,g=v)}var y=null,_=g;do{(_-=1)<0&&(_=f),y=h.getCoordinate(_)}while(y.equals2D(p)&&_!==g);var b=null,k=g;do{k=(k+1)%f,b=h.getCoordinate(k)}while(b.equals2D(p)&&k!==g);if(y.equals2D(p)||b.equals2D(p)||y.equals2D(b))return!1;var w=e.index(y,p,b);return 0===w?y.x>b.x:w>0}}}])}();de.CLOCKWISE=-1,de.RIGHT=de.CLOCKWISE,de.COUNTERCLOCKWISE=1,de.LEFT=de.COUNTERCLOCKWISE,de.COLLINEAR=0,de.STRAIGHT=de.COLLINEAR;var he=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var e=this._minDe.getEdge().getCoordinates();F.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],i=de.index(this._minCoord,n,t),r=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&i===de.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&i===de.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var i=J.LEFT;return n[t].y<n[t+1].y&&(i=J.RIGHT),i}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])}},{key:"findRightmostEdgeAtNode",value:function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}F.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===J.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),fe=function(e){function i(e,r){var o;return n(this,i),(o=t(this,i,[r?e+" [ "+r+" ]":e])).pt=r?new q(r):void 0,o.name=Object.keys({TopologyException:i})[0],o}return u(i,e),o(i,[{key:"getCoordinate",value:function(){return this.pt}}])}(M),pe=o(function e(){n(this,e),this.array=[]},[{key:"addLast",value:function(e){this.array.push(e)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),ge=function(e){function i(e){var r;return n(this,i),(r=t(this,i)).array=[],e instanceof W&&r.addAll(e),r}return u(i,e),o(i,[{key:"interfaces_",get:function(){return[ne,W]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(e){return 1===arguments.length?this.array.push(e):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.array.push(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"set",value:function(e,t){var n=this.array[e];return this.array[e]=t,n}},{key:"iterator",value:function(){return new ve(this)}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(e){e?this.array.sort(function(t,n){return e.compare(t,n)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(e){for(var t=0,n=this.array.length;t<n;t++)if(this.array[t]===e)return!!this.array.splice(t,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(ne),ve=o(function e(t){n(this,e),this.arrayList=t,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new X;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(e){return this.arrayList.set(this.position-1,e)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),me=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){t=i;break}}if(null===t)throw new fe("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var r=e.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}}},{key:"computeDepth",value:function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths(J.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}},{key:"create",value:function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(J.RIGHT)>=1&&t.getDepth(J.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}},{key:"computeDepths",value:function(e){var t=new K,n=new pe,i=e.getNode();for(n.addLast(i),t.add(i),e.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();t.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();t.contains(a)||(n.addLast(a),t.add(a))}}}}},{key:"compareTo",value:function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var e=new G,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)e.expandToInclude(n[i]);this._env=e}return this._env}},{key:"addReachable",value:function(e){var t=new ie;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}}},{key:"copySymDepths",value:function(e){var t=e.getSym();t.setDepth(J.LEFT,e.getDepth(J.RIGHT)),t.setDepth(J.RIGHT,e.getDepth(J.LEFT))}},{key:"add",value:function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||t.push(r)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new ge,this._nodes=new ge,this._rightMostCoord=null,this._env=null,this._finder=new he}}]),ye=o(function e(){n(this,e)},null,[{key:"intersection",value:function(e,t,n,i){var r=e.x<t.x?e.x:t.x,o=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,a=e.y>t.y?e.y:t.y,l=n.x<i.x?n.x:i.x,u=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,d=n.y>i.y?n.y:i.y,h=((r>l?r:l)+(s<c?s:c))/2,f=((o>u?o:u)+(a<d?a:d))/2,p=e.x-h,g=e.y-f,v=t.x-h,m=t.y-f,y=n.x-h,x=n.y-f,_=i.x-h,b=i.y-f,k=g-m,w=v-p,S=p*m-v*g,E=x-b,N=_-y,C=y*b-_*x,I=k*N-E*w,j=(w*C-N*S)/I,T=(E*S-k*C)/I;return P.isNaN(j)||P.isInfinite(j)||P.isNaN(T)||P.isInfinite(T)?null:new q(j+h,T+f)}}]),xe=o(function e(){n(this,e)},null,[{key:"arraycopy",value:function(e,t,n,i,r){for(var o=0,s=t;s<t+r;s++)n[i+o]=e[s],o++}},{key:"getProperty",value:function(e){return{"line.separator":"\n"}[e]}}]),_e=function(){function e(){n(this,e)}return o(e,null,[{key:"log10",value:function(t){var n=Math.log(t);return P.isInfinite(n)||P.isNaN(n)?n:n/e.LOG_10}},{key:"min",value:function(e,t,n,i){var r=e;return t<r&&(r=t),n<r&&(r=n),i<r&&(r=i),r}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}}},{key:"wrap",value:function(e,t){return e<0?t- -e%t:e%t}},{key:"max",value:function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],o=arguments[3],s=arguments[0];return i>s&&(s=i),r>s&&(s=r),o>s&&(s=o),s}}},{key:"average",value:function(e,t){return(e+t)/2}}])}();_e.LOG_10=Math.log(10);var be=function(){function e(){n(this,e)}return o(e,null,[{key:"segmentToSegment",value:function(t,n,i,r){if(t.equals(n))return e.pointToSegment(t,i,r);if(i.equals(r))return e.pointToSegment(r,t,n);var o=!1;if(G.intersects(t,n,i,r)){var s=(n.x-t.x)*(r.y-i.y)-(n.y-t.y)*(r.x-i.x);if(0===s)o=!0;else{var a=(t.y-i.y)*(r.x-i.x)-(t.x-i.x)*(r.y-i.y),l=((t.y-i.y)*(n.x-t.x)-(t.x-i.x)*(n.y-t.y))/s,u=a/s;(u<0||u>1||l<0||l>1)&&(o=!0)}}else o=!0;return o?_e.min(e.pointToSegment(t,i,r),e.pointToSegment(n,i,r),e.pointToSegment(i,t,n),e.pointToSegment(r,t,n)):0}},{key:"pointToSegment",value:function(e,t,n){if(t.x===n.x&&t.y===n.y)return e.distance(t);var i=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;if(r<=0)return e.distance(t);if(r>=1)return e.distance(n);var o=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/i;return Math.abs(o)*Math.sqrt(i)}},{key:"pointToLinePerpendicular",value:function(e,t,n){var i=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),r=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/i;return Math.abs(r)*Math.sqrt(i)}},{key:"pointToSegmentString",value:function(t,n){if(0===n.length)throw new x("Line array must contain at least one vertex");for(var i=t.distance(n[0]),r=0;r<n.length-1;r++){var o=e.pointToSegment(t,n[r],n[r+1]);o<i&&(i=o)}return i}}])}(),ke=o(function e(){n(this,e)},[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||re(arguments[0],ce);else if(2===arguments.length);else if(3===arguments.length){var e=arguments[0],t=arguments[1];return this.create(e,t)}}}]),we=o(function e(){n(this,e)},[{key:"filter",value:function(e){}}]),Se=o(function e(){n(this,e)},null,[{key:"ofLine",value:function(e){var t=e.size();if(t<=1)return 0;var n=0,i=new q;e.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<t;s++){e.getCoordinate(s,i);var a=i.x,l=i.y,u=a-r,c=l-o;n+=Math.sqrt(u*u+c*c),r=a,o=l}return n}}]),Ee=o(function e(){n(this,e)}),Ne=function(){function e(){n(this,e)}return o(e,null,[{key:"copyCoord",value:function(e,t,n,i){for(var r=Math.min(e.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,e.getOrdinate(t,o))}},{key:"isRing",value:function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,ce.X)===e.getOrdinate(t-1,ce.X)&&e.getOrdinate(0,ce.Y)===e.getOrdinate(t-1,ce.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(re(arguments[0],ce)&&Number.isInteger(arguments[1])){var t=arguments[0],n=arguments[1];e.scroll(t,n,e.isRing(t))}else if(re(arguments[0],ce)&&arguments[1]instanceof q){var i=arguments[0],r=arguments[1],o=e.indexOf(r,i);if(o<=0)return null;e.scroll(i,o)}}else if(3===arguments.length){var s=arguments[0],a=arguments[1],l=arguments[2];if(a<=0)return null;for(var u=s.copy(),c=l?s.size()-1:s.size(),d=0;d<c;d++)for(var h=0;h<s.getDimension();h++)s.setOrdinate(d,h,u.getOrdinate((a+d)%c,h));if(l)for(var f=0;f<s.getDimension();f++)s.setOrdinate(c,f,s.getOrdinate(0,f))}}},{key:"isEqual",value:function(e,t){var n=e.size();if(n!==t.size())return!1;for(var i=Math.min(e.getDimension(),t.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=e.getOrdinate(r,o),a=t.getOrdinate(r,o);if(e.getOrdinate(r,o)!==t.getOrdinate(r,o)&&(!P.isNaN(s)||!P.isNaN(a)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var t=arguments[0];return e.minCoordinateIndex(t,0,t.size()-1)}if(3===arguments.length){for(var n=arguments[0],i=arguments[2],r=-1,o=null,s=arguments[1];s<=i;s++){var a=n.getCoordinate(s);(null===o||o.compareTo(a)>0)&&(o=a,r=s)}return r}}},{key:"extend",value:function(t,n,i){var r=t.create(i,n.getDimension()),o=n.size();if(e.copy(n,0,r,0,o),o>0)for(var s=o;s<i;s++)e.copy(n,o-1,r,s,1);return r}},{key:"reverse",value:function(t){for(var n=t.size()-1,i=Math.trunc(n/2),r=0;r<=i;r++)e.swap(t,r,n-r)}},{key:"swap",value:function(e,t,n){if(t===n)return null;for(var i=0;i<e.getDimension();i++){var r=e.getOrdinate(t,i);e.setOrdinate(t,i,e.getOrdinate(n,i)),e.setOrdinate(n,i,r)}}},{key:"copy",value:function(t,n,i,r,o){for(var s=0;s<o;s++)e.copyCoord(t,n+s,i,r+s)}},{key:"ensureValidRing",value:function(t,n){var i=n.size();return 0===i?n:i<=3?e.createClosedRing(t,n,4):n.getOrdinate(0,ce.X)===n.getOrdinate(i-1,ce.X)&&n.getOrdinate(0,ce.Y)===n.getOrdinate(i-1,ce.Y)?n:e.createClosedRing(t,n,i+1)}},{key:"indexOf",value:function(e,t){for(var n=0;n<t.size();n++)if(e.x===t.getOrdinate(n,ce.X)&&e.y===t.getOrdinate(n,ce.Y))return n;return-1}},{key:"createClosedRing",value:function(t,n,i){var r=t.create(i,n.getDimension()),o=n.size();e.copy(n,0,r,0,o);for(var s=o;s<i;s++)e.copy(n,0,r,s,1);return r}},{key:"minCoordinate",value:function(e){for(var t=null,n=0;n<e.size();n++){var i=e.getCoordinate(n);(null===t||t.compareTo(i)>0)&&(t=i)}return t}}])}(),Ce=function(){function e(){n(this,e)}return o(e,null,[{key:"toDimensionSymbol",value:function(t){switch(t){case e.FALSE:return e.SYM_FALSE;case e.TRUE:return e.SYM_TRUE;case e.DONTCARE:return e.SYM_DONTCARE;case e.P:return e.SYM_P;case e.L:return e.SYM_L;case e.A:return e.SYM_A}throw new x("Unknown dimension value: "+t)}},{key:"toDimensionValue",value:function(t){switch(ae.toUpperCase(t)){case e.SYM_FALSE:return e.FALSE;case e.SYM_TRUE:return e.TRUE;case e.SYM_DONTCARE:return e.DONTCARE;case e.SYM_P:return e.P;case e.SYM_L:return e.L;case e.SYM_A:return e.A}throw new x("Unknown dimension symbol: "+t)}}])}();Ce.P=0,Ce.L=1,Ce.A=2,Ce.FALSE=-1,Ce.TRUE=-2,Ce.DONTCARE=-3,Ce.SYM_FALSE="F",Ce.SYM_TRUE="T",Ce.SYM_DONTCARE="*",Ce.SYM_P="0",Ce.SYM_L="1",Ce.SYM_A="2";var Ie=o(function e(){n(this,e)},[{key:"filter",value:function(e){}}]),je=o(function e(){n(this,e)},[{key:"filter",value:function(e,t){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),Te=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new G:this._points.expandEnvelope(new G)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new i(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),t))return!1;return!0}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0){var n=this._points.copy();Ne.reverse(n),this._points=n}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ce.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Ne.reverse(e),this.getFactory().createLineString(e)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return H.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Se.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var i=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==i)return i;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}}},{key:"apply",value:function(){if(re(arguments[0],we))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(re(arguments[0],je)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Ie)||re(arguments[0],_))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new $}},{key:"isEquivalentClass",value:function(e){return e instanceof i}},{key:"getCoordinateN",value:function(e){return this._points.getCoordinate(e)}},{key:"getGeometryType",value:function(){return H.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new x("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e}},{key:"isCoordinate",value:function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}},{key:"interfaces_",get:function(){return[Ee]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];H.constructor_.call(this,t),this.init(e)}}}])}(H),Re=o(function e(){n(this,e)}),Oe=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new G;var e=new G;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new i(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Ce.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return H.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}},{key:"apply",value:function(){if(re(arguments[0],we)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(re(arguments[0],je)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Ie)||re(arguments[0],_))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return H.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),F.isTrue(e.size()<=1),this._coordinates=e}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){this._coordinates=null;var e=arguments[0],t=arguments[1];H.constructor_.call(this,t),this.init(e)}}])}(H),Le=function(){function e(){n(this,e)}return o(e,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];return Math.abs(e.ofRingSigned(t))}if(re(arguments[0],ce)){var n=arguments[0];return Math.abs(e.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,i=1;i<e.length-1;i++){var r=e[i].x-n,o=e[i+1].y;t+=r*(e[i-1].y-o)}return t/2}if(re(arguments[0],ce)){var s=arguments[0],a=s.size();if(a<3)return 0;var l=new q,u=new q,c=new q;s.getCoordinate(0,u),s.getCoordinate(1,c);var d=u.x;c.x-=d;for(var h=0,f=1;f<a-1;f++)l.y=u.y,u.x=c.x,u.y=c.y,s.getCoordinate(f+1,c),c.x-=d,h+=u.x*(l.y-c.y);return h/2}}}])}(),Pe=o(function e(){n(this,e)},null,[{key:"sort",value:function(){var e=arguments,t=arguments[0];if(1===arguments.length)t.sort(function(e,t){return e.compareTo(t)});else if(2===arguments.length)t.sort(function(t,n){return e[1].compare(t,n)});else if(3===arguments.length){var n=t.slice(arguments[1],arguments[2]);n.sort();var i=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length));t.splice(0,t.length);var r,o=s(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.push(a)}}catch(e){o.e(e)}finally{o.f()}}else if(4===arguments.length){var l=t.slice(arguments[1],arguments[2]);l.sort(function(t,n){return e[3].compare(t,n)});var u=t.slice(0,arguments[1]).concat(l,t.slice(arguments[2],t.length));t.splice(0,t.length);var c,d=s(u);try{for(d.s();!(c=d.n()).done;){var h=c.value;t.push(h)}}catch(e){d.e(e)}finally{d.f()}}}},{key:"asList",value:function(e){var t,n=new ge,i=s(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.add(r)}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"copyOf",value:function(e,t){return e.slice(0,t)}}]),Ae=o(function e(){n(this,e)}),Me=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)e[++t]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)e[++t]=o[s];return e}},{key:"getArea",value:function(){var e=0;e+=Le.ofRing(this._shell.getCoordinateSequence());for(var t=0;t<this._holes.length;t++)e-=Le.ofRing(this._holes[t].getCoordinateSequence());return e}},{key:"copyInternal",value:function(){for(var e=this._shell.copy(),t=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)t[n]=this._holes[n].copy();return new i(e,t,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var i=e.getX(n);if(i!==t.getMinX()&&i!==t.getMaxX())return!1;var r=e.getY(n);if(r!==t.getMinY()&&r!==t.getMaxY())return!1}for(var o=e.getX(0),s=e.getY(0),a=1;a<=4;a++){var l=e.getX(a),u=e.getY(a);if(l!==o===(u!==s))return!1;o=l,s=u}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,r=this._shell,o=n._shell;if(!r.equalsExact(o,t))return!1;if(this._holes.length!==n._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(n._holes[s],t))return!1;return!0}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var e=0;e<this._holes.length;e++)this._holes[e]=this.normalized(this._holes[e],!1);Pe.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var i=t.getCoordinateSequence(),r=Ne.minCoordinateIndex(i,0,i.size()-2);Ne.scroll(i,r,!0),de.isCCW(i)===n&&Ne.reverse(i)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var e=this.getExteriorRing().reverse(),t=new Array(this.getNumInteriorRing()).fill(null),n=0;n<t.length;n++)t[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(e,t)}},{key:"getTypeCode",value:function(){return H.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(e,t){var n=e.copy();return this.normalize(n,t),n}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var i=arguments[1],r=arguments[0],o=this._shell,s=r._shell,a=o.compareToSameClass(s,i);if(0!==a)return a;for(var l=this.getNumInteriorRing(),u=r.getNumInteriorRing(),c=0;c<l&&c<u;){var d=this.getInteriorRingN(c),h=r.getInteriorRingN(c),f=d.compareToSameClass(h,i);if(0!==f)return f;c++}return c<l?1:c<u?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],we)){var e=arguments[0];this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(re(arguments[0],je)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var i=0;i<this._holes.length&&(this._holes[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Ie))arguments[0].filter(this);else if(re(arguments[0],_)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(r)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}},{key:"getGeometryType",value:function(){return H.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(e){return this._holes[e]}},{key:"interfaces_",get:function(){return[Ae]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(H.constructor_.call(this,n),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),H.hasNullElements(t))throw new x("holes must not contain null elements");if(e.isEmpty()&&H.hasNonEmptyElements(t))throw new x("shell is empty but holes are not");this._shell=e,this._holes=t}}])}(H),De=function(e){function i(){return n(this,i),t(this,i,arguments)}return u(i,e),o(i)}(Z),Fe=function(e){function i(e){var r;return n(this,i),(r=t(this,i)).array=[],e instanceof W&&r.addAll(e),r}return u(i,e),o(i,[{key:"contains",value:function(e){var t,n=s(this.array);try{for(n.s();!(t=n.n()).done;)if(0===t.value.compareTo(e))return!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"add",value:function(e){if(this.contains(e))return!1;for(var t=0,n=this.array.length;t<n;t++)if(1===this.array[t].compareTo(e))return!!this.array.splice(t,0,e);return this.array.push(e),!0}},{key:"addAll",value:function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.add(i)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new $}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new ze(this.array)}}])}(De),ze=o(function e(t){n(this,e),this.array=t,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new X;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new $}}]),Be=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"computeEnvelopeInternal",value:function(){for(var e=new G,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}},{key:"getGeometryN",value:function(e){return this._geometries[e]}},{key:"getCoordinates",value:function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)e[++t]=i[r];return e}},{key:"getArea",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}},{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],t))return!1;return!0}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Pe.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var e=Ce.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e}},{key:"reverseInternal",value:function(){for(var e=this._geometries.length,t=new ge(e),n=0;n<e;n++)t.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(t)}},{key:"getTypeCode",value:function(){return H.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var e=Ce.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e}},{key:"getLength",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=new Fe(Pe.asList(this._geometries)),n=new Fe(Pe.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],o=this.getNumGeometries(),s=r.getNumGeometries(),a=0;a<o&&a<s;){var l=this.getGeometryN(a),u=r.getGeometryN(a),c=l.compareToSameClass(u,i);if(0!==c)return c;a++}return a<o?1:a<s?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],we))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(re(arguments[0],je)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Ie)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(re(arguments[0],_)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}}},{key:"getBoundary",value:function(){return H.checkNotGeometryCollection(this),F.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return H.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];if(H.constructor_.call(this,t),null===e&&(e=[]),H.hasNullElements(e))throw new x("geometries must not contain null elements");this._geometries=e}}}])}(H),Ue=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&h(i,"equalsExact",this,1).call(this,e,t)}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var e=arguments[0];return this._geometries[e].getCoordinate()}return h(i,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Ce.FALSE}},{key:"getTypeCode",value:function(){return H.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return H.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}])}(Be),qe=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"copyInternal",value:function(){return new i(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Ce.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||h(i,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Ne.reverse(e),this.getFactory().createLinearRing(e)}},{key:"getTypeCode",value:function(){return H.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!h(i,"isClosed",this,1).call(this))throw new x("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new x("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return H.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Te.constructor_.call(this,e,t),this.validateConstruction()}}])}(Te);qe.MINIMUM_VALID_SIZE=4;var Ve=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"setOrdinate",value:function(e,t){switch(e){case i.X:this.x=t;break;case i.Y:this.y=t;break;default:throw new x("Invalid ordinate index: "+e)}}},{key:"getZ",value:function(){return q.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case i.X:return this.x;case i.Y:return this.y}throw new x("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)q.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof i){var e=arguments[0];q.constructor_.call(this,e.x,e.y)}else if(arguments[0]instanceof q){var t=arguments[0];q.constructor_.call(this,t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];q.constructor_.call(this,n,r,q.NULL_ORDINATE)}}}])}(q);Ve.X=0,Ve.Y=1,Ve.Z=-1,Ve.M=-1;var Ge=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case i.X:this.x=t;break;case i.Y:this.y=t;break;case i.M:this._m=t;break;default:throw new x("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getZ",value:function(){return q.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case i.X:return this.x;case i.Y:return this.y;case i.M:return this._m}throw new x("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new x("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)q.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var e=arguments[0];q.constructor_.call(this,e.x,e.y),this._m=e._m}else if(arguments[0]instanceof q){var t=arguments[0];q.constructor_.call(this,t.x,t.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];q.constructor_.call(this,n,r,q.NULL_ORDINATE),this._m=o}}}])}(q);Ge.X=0,Ge.Y=1,Ge.Z=-1,Ge.M=2;var He=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case q.X:this.x=t;break;case q.Y:this.y=t;break;case q.Z:this.z=t;break;case q.M:this._m=t;break;default:throw new x("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getOrdinate",value:function(e){switch(e){case q.X:return this.x;case q.Y:return this.y;case q.Z:return this.getZ();case q.M:return this.getM()}throw new x("Invalid ordinate index: "+e)}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)q.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var e=arguments[0];q.constructor_.call(this,e),this._m=e._m}else if(arguments[0]instanceof q){var t=arguments[0];q.constructor_.call(this,t),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];q.constructor_.call(this,n,r,o),this._m=s}}}])}(q),Ye=function(){function e(){n(this,e)}return o(e,null,[{key:"measures",value:function(e){return e instanceof Ve?0:e instanceof Ge||e instanceof He?1:0}},{key:"dimension",value:function(e){return e instanceof Ve?2:e instanceof Ge?3:e instanceof He?4:3}},{key:"create",value:function(){if(1===arguments.length){var t=arguments[0];return e.create(t,0)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return 2===n?new Ve:3===n&&0===i?new q:3===n&&1===i?new Ge:4===n&&1===i?new He:new q}}}])}(),We=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"getCoordinate",value:function(e){return this.get(e)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&re(arguments[0],W)){for(var e=arguments[1],t=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),e),t=!0;return t}return h(i,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var e=h(i,"clone",this,1).call(this),t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(i.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(i.coordArrayType);for(var e=this.size(),t=new Array(e).fill(null),n=0;n<e;n++)t[n]=this.get(e-n-1);return t}}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];return h(i,"add",this,1).call(this,e)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return this.add(t,n,!0),!0}if(arguments[0]instanceof q&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;h(i,"add",this,1).call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],l);else for(var c=a.length-1;c>=0;c--)this.add(a[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof q){var d=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(d>0&&this.get(d-1).equals2D(f))return null;if(d<p&&this.get(d).equals2D(f))return null}}h(i,"add",this,1).call(this,d,f)}}else if(4===arguments.length){var g=arguments[0],v=arguments[1],m=arguments[2],y=arguments[3],x=1;m>y&&(x=-1);for(var _=m;_!==y;_+=x)this.add(g[_],v);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var e=this.get(0).copy();this.add(e,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.ensureCapacity(t.length),this.add(t,n)}}}])}(ge);We.coordArrayType=new Array(0).fill(null);var Xe=function(){function e(){n(this,e)}return o(e,null,[{key:"isRing",value:function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])}},{key:"ptNotInList",value:function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(e.indexOf(r,n)<0)return r}return null}},{key:"scroll",value:function(t,n){var i=e.indexOf(n,t);if(i<0)return null;var r=new Array(t.length).fill(null);xe.arraycopy(t,i,r,0,t.length-i),xe.arraycopy(t,0,r,t.length-i,i),xe.arraycopy(r,0,t,0,t.length)}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}}},{key:"intersection",value:function(e,t){for(var n=new We,i=0;i<e.length;i++)t.intersects(e[i])&&n.add(e[i],!0);return n.toCoordinateArray()}},{key:"measures",value:function(e){if(null===e||0===e.length)return 0;var t,n=0,i=s(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=Math.max(n,Ye.measures(r))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"hasRepeatedPoints",value:function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(t){return e.hasRepeatedPoints(t)?new We(t,!1).toCoordinateArray():t}},{key:"reverse",value:function(e){for(var t=e.length-1,n=Math.trunc(t/2),i=0;i<=n;i++){var r=e[i];e[i]=e[t-i],e[t-i]=r}}},{key:"removeNull",value:function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var i=new Array(t).fill(null);if(0===t)return i;for(var r=0,o=0;o<e.length;o++)null!==e[o]&&(i[r++]=e[o]);return i}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=e[n].copy();return t}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],l=0;l<a;l++)o[s+l]=i[r+l].copy()}},{key:"isEqualReversed",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=t[e.length-n-1];if(0!==i.compareTo(r))return!1}return!0}},{key:"envelope",value:function(e){for(var t=new G,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t}},{key:"toCoordinateArray",value:function(t){return t.toArray(e.coordArrayType)}},{key:"dimension",value:function(e){if(null===e||0===e.length)return 3;var t,n=0,i=s(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=Math.max(n,Ye.dimension(r))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"atLeastNCoordinatesOrNothing",value:function(e,t){return t.length>=e?t:[]}},{key:"indexOf",value:function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}},{key:"increasingDirection",value:function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,i=e[t].compareTo(e[n]);if(0!==i)return i}return 1}},{key:"compare",value:function(e,t){for(var n=0;n<e.length&&n<t.length;){var i=e[n].compareTo(t[n]);if(0!==i)return i;n++}return n<t.length?-1:n<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t}},{key:"extract",value:function(e,t,n){t=_e.clamp(t,0,e.length);var i=(n=_e.clamp(n,-1,e.length))-t+1;n<0&&(i=0),t>=e.length&&(i=0),n<t&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=t;s<=n;s++)r[o++]=e[s];return r}}])}(),$e=o(function e(){n(this,e)},[{key:"compare",value:function(e,t){var n=e,i=t;return Xe.compare(n,i)}},{key:"interfaces_",get:function(){return[A]}}]),Ze=o(function e(){n(this,e)},[{key:"compare",value:function(e,t){var n=e,i=t;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Xe.compare(n,i);return Xe.isEqualReversed(n,i)?0:r}},{key:"OLDcompare",value:function(e,t){var n=e,i=t;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Xe.increasingDirection(n),o=Xe.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[s].compareTo(i[a]);if(0!==u)return u;s+=r,a+=o}return 0}},{key:"interfaces_",get:function(){return[A]}}]);Xe.ForwardComparator=$e,Xe.BidirectionalComparator=Ze,Xe.coordArrayType=new Array(0).fill(null);var Ke=o(function e(t){n(this,e),this.str=t},[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),Qe=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():P.NaN}},{key:"setOrdinate",value:function(e,t,n){switch(t){case ce.X:this._coordinates[e].x=n;break;case ce.Y:this._coordinates[e].y=n;break;default:this._coordinates[e].setOrdinate(t,n)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():P.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,t){switch(t){case ce.X:return this._coordinates[e].x;case ce.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(t)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0];arguments[1].setCoordinate(this._coordinates[t])}}},{key:"getCoordinateCopy",value:function(e){var t=this.createCoordinate();return t.setCoordinate(this._coordinates[e]),t}},{key:"createCoordinate",value:function(){return Ye.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}},{key:"copy",value:function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var i=this.createCoordinate();i.setCoordinate(this._coordinates[n]),t[n]=i}return new e(t,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new Ke(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ce,w]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];e.constructor_.call(this,t,Xe.dimension(t),Xe.measures(t))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var i=0;i<n;i++)this._coordinates[i]=new q}else if(re(arguments[0],ce)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._measures=r.getMeasures(),this._coordinates=new Array(r.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)this._coordinates[o]=r.getCoordinateCopy(o)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];e.constructor_.call(this,s,a,Xe.measures(s))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],u=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=u;for(var c=0;c<l;c++)this._coordinates[c]=Ye.create(u)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var d=arguments[0],h=arguments[1],f=arguments[2];this._dimension=h,this._measures=f,this._coordinates=null===d?new Array(0).fill(null):d}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],g=arguments[1],v=arguments[2];this._coordinates=new Array(p).fill(null),this._dimension=g,this._measures=v;for(var m=0;m<p;m++)this._coordinates[m]=this.createCoordinate()}}}])}(),Je=function(){function e(){n(this,e)}return o(e,[{key:"readResolve",value:function(){return e.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Qe(arguments[0]);if(re(arguments[0],ce))return new Qe(arguments[0])}else{if(2===arguments.length){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Qe(arguments[0],e)}if(3===arguments.length){var t=arguments[2],n=arguments[1]-t;return t>1&&(t=1),n>3&&(n=3),n<2&&(n=2),new Qe(arguments[0],n+t,t)}}}},{key:"interfaces_",get:function(){return[ke,w]}}],[{key:"instance",value:function(){return e.instanceObject}}])}();Je.instanceObject=new Je;var et=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&h(i,"equalsExact",this,1).call(this,e,t)}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return H.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new ge,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),i=0;i<n.getNumGeometries();i++)e.add(n.getGeometryN(i));var r=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(r))}},{key:"getGeometryType",value:function(){return H.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ae]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}])}(Be),tt=o(function e(){n(this,e)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),nt=function(e){function i(){var e;return n(this,i),(e=t(this,i)).map=new Map,e}return u(i,e),o(i,[{key:"get",value:function(e){return this.map.get(e)||null}},{key:"put",value:function(e,t){return this.map.set(e,t),t}},{key:"values",value:function(){for(var e=new ge,t=this.map.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e}},{key:"entrySet",value:function(){var e=new K;return this.map.entries().forEach(function(t){return e.add(t)}),e}},{key:"size",value:function(){return this.map.size()}}])}(tt),it=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(e){var t=e,n=this.getMaximumSignificantDigits(),i=t.getMaximumSignificantDigits();return se.compare(n,i)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===e.FLOATING||this._modelType===e.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var t="UNKNOWN";return this._modelType===e.FLOATING?t="Floating":this._modelType===e.FLOATING_SINGLE?t="Floating-Single":this._modelType===e.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var t=arguments[0];return P.isNaN(t)||this._modelType===e.FLOATING_SINGLE?t:this._modelType===e.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof q){var n=arguments[0];if(this._modelType===e.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var t=16;return this._modelType===e.FLOATING?t=16:this._modelType===e.FLOATING_SINGLE?t=6:this._modelType===e.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[w,b]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof rt){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},{key:"mostPrecise",value:function(e,t){return e.compareTo(t)>=0?e:t}}])}(),rt=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"readResolve",value:function(){return e.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._name=null;var t=arguments[0];this._name=t,e.nameToTypeMap.put(t,this)}}])}();rt.nameToTypeMap=new nt,it.Type=rt,it.FIXED=new rt("FIXED"),it.FLOATING=new rt("FLOATING"),it.FLOATING_SINGLE=new rt("FLOATING SINGLE"),it.maximumPreciseValue=9007199254740992;var ot=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new i(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&h(i,"equalsExact",this,1).call(this,e,t)}return h(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ce.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return H.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new $}},{key:"getGeometryType",value:function(){return H.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Ee]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}])}(Be),st=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new x("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new q(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new q(e.getMinX(),e.getMinY()),new q(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new q(e.getMinX(),e.getMinY()),new q(e.getMinX(),e.getMaxY()),new q(e.getMaxX(),e.getMaxY()),new q(e.getMaxX(),e.getMinY()),new q(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new Te(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new ot(null,this):1===arguments.length?new ot(arguments[0],this):void 0}},{key:"buildGeometry",value:function(t){for(var n=null,i=!1,r=!1,o=t.iterator();o.hasNext();){var s=o.next(),a=s.getTypeCode();null===n&&(n=a),a!==n&&(i=!0),s instanceof Be&&(r=!0)}if(null===n)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(e.toGeometryArray(t));var l=t.iterator().next();if(t.size()>1){if(l instanceof Me)return this.createMultiPolygon(e.toPolygonArray(t));if(l instanceof Te)return this.createMultiLineString(e.toLineStringArray(t));if(l instanceof Oe)return this.createMultiPoint(e.toPointArray(t));F.shouldNeverReachHere("Unhandled geometry type: "+l.getGeometryType())}return l}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof q){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(re(arguments[0],ce))return new Oe(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(re(arguments[0],ce)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof qe){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Me(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new Be(null,this):1===arguments.length?new Be(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new qe(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new et(null,this):1===arguments.length?new et(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new Ue(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ue(arguments[0],this);if(re(arguments[0],ce)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var t=new Array(e.size()).fill(null),n=0;n<e.size();n++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());Ne.copy(e,n,i,0,1),t[n]=this.createPoint(i)}return this.createMultiPoint(t)}}}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)e.constructor_.call(this,new it,0);else if(1===arguments.length){if(re(arguments[0],ke)){var t=arguments[0];e.constructor_.call(this,new it,0,t)}else if(arguments[0]instanceof it){var n=arguments[0];e.constructor_.call(this,n,0,e.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];e.constructor_.call(this,i,r,e.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=o,this._coordinateSequenceFactory=a,this._SRID=s}}},{key:"toMultiPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toGeometryArray",value:function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Je.instance()}},{key:"toMultiLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toMultiPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLinearRingArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"createPointFromInternalCoord",value:function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}}])}(),at="XY",lt="XYZ",ut="XYM",ct="XYZM",dt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ht="EMPTY",ft=1,pt=2,gt=3,vt=4,mt=5,yt=6;for(var xt in dt)dt[xt].toUpperCase();var _t=o(function e(t){n(this,e),this.wkt=t,this.index_=-1},[{key:"isAlpha_",value:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}},{key:"isNumeric_",value:function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)}},{key:"isWhiteSpace_",value:function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var e,t=this.nextChar_(),n=this.index_,i=t;if("("==t)e=pt;else if(","==t)e=mt;else if(")"==t)e=gt;else if(this.isNumeric_(t)||"-"==t)e=vt,i=this.readNumber_();else if(this.isAlpha_(t))e=ft,i=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=yt}return{position:n,value:i,type:e}}},{key:"readNumber_",value:function(){var e,t=this.index_,n=!1,i=!1;do{"."==e?n=!0:"e"!=e&&"E"!=e||(i=!0),e=this.nextChar_()}while(this.isNumeric_(e,n)||!i&&("e"==e||"E"==e)||i&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))}},{key:"readText_",value:function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}}]),bt=o(function e(t,i){n(this,e),this.lexer_=t,this.token_,this.layout_=at,this.factory=i},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(e){return this.token_.type==e}},{key:"match",value:function(e){var t=this.isTokenType(e);return t&&this.consume_(),t}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var e=at,t=this.token_;if(this.isTokenType(ft)){var n=t.value;"Z"===n?e=lt:"M"===n?e=ut:"ZM"===n&&(e=ct),e!==at&&this.consume_()}return e}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(pt)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(mt));if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(pt)){var e=this.parsePoint_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(pt)){var e=this.parsePointList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var e;if(this.match(pt)){if(e=this.token_.type==pt?this.parsePointTextList_():this.parsePointList_(),this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(pt)){var e=this.parsePolygonTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var e=[],t=this.layout_.length,n=0;n<t;++n){var i=this.token_;if(!this.match(vt))break;e.push(i.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var e=[this.parsePoint_()];this.match(mt);)e.push(this.parsePoint_());return e}},{key:"parsePointTextList_",value:function(){for(var e=[this.parsePointText_()];this.match(mt);)e.push(this.parsePointText_());return e}},{key:"parseLineStringTextList_",value:function(){for(var e=[this.parseLineStringText_()];this.match(mt);)e.push(this.parseLineStringText_());return e}},{key:"parsePolygonTextList_",value:function(){for(var e=[this.parsePolygonText_()];this.match(mt);)e.push(this.parsePolygonText_());return e}},{key:"isEmptyGeometry_",value:function(){var e=this.isTokenType(ft)&&this.token_.value==ht;return e&&this.consume_(),e}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var e=this.factory,t=function(e){return i(q,f(e))},n=function(n){var i=n.map(function(n){return e.createLinearRing(n.map(t))});return i.length>1?e.createPolygon(i[0],i.slice(1)):e.createPolygon(i[0])},r=this.token_;if(this.match(ft)){var o=r.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==o){var s=this.parseGeometryCollectionText_();return e.createGeometryCollection(s)}switch(o){case"POINT":var a=this.parsePointText_();return a?e.createPoint(i(q,f(a))):e.createPoint();case"LINESTRING":var l=this.parseLineStringText_().map(t);return e.createLineString(l);case"LINEARRING":var u=this.parseLineStringText_().map(t);return e.createLinearRing(u);case"POLYGON":var c=this.parsePolygonText_();return c&&0!==c.length?n(c):e.createPolygon();case"MULTIPOINT":var d=this.parseMultiPointText_();if(!d||0===d.length)return e.createMultiPoint();var h=d.map(t).map(function(t){return e.createPoint(t)});return e.createMultiPoint(h);case"MULTILINESTRING":var p=this.parseMultiLineStringText_().map(function(n){return e.createLineString(n.map(t))});return e.createMultiLineString(p);case"MULTIPOLYGON":var g=this.parseMultiPolygonText_();if(!g||0===g.length)return e.createMultiPolygon();var v=g.map(n);return e.createMultiPolygon(v);default:throw new Error("Invalid geometry type: "+o)}}throw new Error(this.formatErrorMessage_())}}]);function kt(e){if(e.isEmpty())return"";var t=e.getCoordinate(),n=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||n.push(t.z),void 0===t.m||Number.isNaN(t.m)||n.push(t.m),n.join(" ")}function wt(e){for(var t=e.getCoordinates().map(function(e){var t=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||t.push(e.z),void 0===e.m||Number.isNaN(e.m)||t.push(e.m),t}),n=[],i=0,r=t.length;i<r;++i)n.push(t[i].join(" "));return n.join(", ")}function St(e){var t=[];t.push("("+wt(e.getExteriorRing())+")");for(var n=0,i=e.getNumInteriorRing();n<i;++n)t.push("("+wt(e.getInteriorRingN(n))+")");return t.join(", ")}var Et={Point:kt,LineString:wt,LinearRing:wt,Polygon:St,MultiPoint:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push("("+kt(e.getGeometryN(n))+")");return t.join(", ")},MultiLineString:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push("("+wt(e.getGeometryN(n))+")");return t.join(", ")},MultiPolygon:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push("("+St(e.getGeometryN(n))+")");return t.join(", ")},GeometryCollection:function(e){for(var t=[],n=0,i=e.getNumGeometries();n<i;++n)t.push(Nt(e.getGeometryN(n)));return t.join(", ")}};function Nt(e){var t=e.getGeometryType(),n=Et[t];t=t.toUpperCase();var i=function(e){var t="";if(e.isEmpty())return t;var n=e.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(t+="Z"),void 0===n.m||Number.isNaN(n.m)||(t+="M"),t}(e);return i.length>0&&(t+=" "+i),e.isEmpty()?t+" "+ht:t+" ("+n(e)+")"}var Ct=o(function e(t){n(this,e),this.geometryFactory=t||new st,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(e){var t=new _t(e);return new bt(t,this.geometryFactory).parse()}},{key:"write",value:function(e){return Nt(e)}}]),It=o(function e(t){n(this,e),this.parser=new Ct(t)},[{key:"write",value:function(e){return this.parser.write(e)}}],[{key:"toLineString",value:function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"}}]),jt=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getIndexAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}},{key:"getTopologySummary",value:function(){var e=new Ke;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,t,n,i){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(e,t,n,i)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==e.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(t,n){return e.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1])}},{key:"isCollinear",value:function(){return this._result===e.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return It.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+It.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,t){return this._inputLines[e][t]}},{key:"isIntersection",value:function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new q,this._intPt[1]=new q,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,t,n){var i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))o=i>r?i:r;else{var s=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);0!==(o=i>r?s:a)||e.equals(t)||(o=Math.max(s,a))}return F.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o}},{key:"nonRobustComputeEdgeDistance",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y,o=Math.sqrt(i*i+r*r);return F.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o}}])}();jt.DONT_INTERSECT=0,jt.DO_INTERSECT=1,jt.COLLINEAR=2,jt.NO_INTERSECTION=0,jt.POINT_INTERSECTION=1,jt.COLLINEAR_INTERSECTION=2;var Tt=function(e){function i(){return n(this,i),t(this,i)}return u(i,e),o(i,[{key:"isInSegmentEnvelopes",value:function(e){var t=new G(this._inputLines[0][0],this._inputLines[0][1]),n=new G(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return h(i,"computeIntersection",this,1).apply(this,arguments);var e=arguments[0],t=arguments[1],n=arguments[2];if(this._isProper=!1,G.intersects(t,n,e)&&0===de.index(t,n,e)&&0===de.index(n,t,e))return this._isProper=!0,(e.equals(t)||e.equals(n))&&(this._isProper=!1),this._result=jt.POINT_INTERSECTION,null;this._result=jt.NO_INTERSECTION}},{key:"intersection",value:function(e,t,n,r){var o=this.intersectionSafe(e,t,n,r);return this.isInSegmentEnvelopes(o)||(o=new q(i.nearestEndpoint(e,t,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o}},{key:"checkDD",value:function(e,t,n,i,r){var o=ue.intersection(e,t,n,i),s=this.isInSegmentEnvelopes(o);xe.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&xe.out.println("Distance = "+r.distance(o))}},{key:"intersectionSafe",value:function(e,t,n,r){var o=ye.intersection(e,t,n,r);return null===o&&(o=i.nearestEndpoint(e,t,n,r)),o}},{key:"computeCollinearIntersection",value:function(e,t,n,i){var r=G.intersects(e,t,n),o=G.intersects(e,t,i),s=G.intersects(n,i,e),a=G.intersects(n,i,t);return r&&o?(this._intPt[0]=n,this._intPt[1]=i,jt.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=e,this._intPt[1]=t,jt.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||a?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||s?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||a?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||s?jt.COLLINEAR_INTERSECTION:jt.POINT_INTERSECTION):jt.NO_INTERSECTION}},{key:"computeIntersect",value:function(e,t,n,i){if(this._isProper=!1,!G.intersects(e,t,n,i))return jt.NO_INTERSECTION;var r=de.index(e,t,n),o=de.index(e,t,i);if(r>0&&o>0||r<0&&o<0)return jt.NO_INTERSECTION;var s=de.index(n,i,e),a=de.index(n,i,t);return s>0&&a>0||s<0&&a<0?jt.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(e,t,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:0===r?this._intPt[0]=new q(n):0===o?this._intPt[0]=new q(i):0===s?this._intPt[0]=new q(e):0===a&&(this._intPt[0]=new q(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,n,i)),jt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(e,t,n,i){var r=e,o=be.pointToSegment(e,n,i),s=be.pointToSegment(t,n,i);return s<o&&(o=s,r=t),(s=be.pointToSegment(n,e,t))<o&&(o=s,r=n),(s=be.pointToSegment(i,e,t))<o&&(o=s,r=i),r}}])}(jt),Rt=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"countSegment",value:function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,i=t.x;return n>i&&(n=t.x,i=e.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var r=de.index(e,t,this._p);if(r===de.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(r=-r),r===de.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==Y.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?Y.BOUNDARY:this._crossingCount%2==1?Y.INTERIOR:Y.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof q&&re(arguments[1],ce)){for(var t=arguments[1],n=new e(arguments[0]),i=new q,r=new q,o=1;o<t.size();o++)if(t.getCoordinate(o,i),t.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof q&&arguments[1]instanceof Array){for(var s=arguments[1],a=new e(arguments[0]),l=1;l<s.length;l++){var u=s[l],c=s[l-1];if(a.countSegment(u,c),a.isOnSegment())return a.getLocation()}return a.getLocation()}}}])}(),Ot=function(){function e(){n(this,e)}return o(e,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof q&&re(arguments[1],ce)){for(var e=arguments[0],t=arguments[1],n=new Tt,i=new q,r=new q,o=t.size(),s=1;s<o;s++)if(t.getCoordinate(s-1,i),t.getCoordinate(s,r),n.computeIntersection(e,i,r),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof q&&arguments[1]instanceof Array){for(var a=arguments[0],l=arguments[1],u=new Tt,c=1;c<l.length;c++){var d=l[c-1],h=l[c];if(u.computeIntersection(a,d,h),u.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,t){return Rt.locatePointInRing(e,t)}},{key:"isInRing",value:function(t,n){return e.locateInRing(t,n)!==Y.EXTERIOR}}])}(),Lt=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"setAllLocations",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==Y.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]===Y.NONE&&(this.location[t]=e)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[J.ON]=this.location[J.ON],t[J.LEFT]=Y.NONE,t[J.RIGHT]=Y.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===Y.NONE&&n<e.location.length&&(this.location[n]=e.location[n])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[J.LEFT];this.location[J.LEFT]=this.location[J.RIGHT],this.location[J.RIGHT]=e}},{key:"toString",value:function(){var e=new oe;return this.location.length>1&&e.append(Y.toLocationSymbol(this.location[J.LEFT])),e.append(Y.toLocationSymbol(this.location[J.ON])),this.location.length>1&&e.append(Y.toLocationSymbol(this.location[J.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,t,n){this.location[J.ON]=e,this.location[J.LEFT]=t,this.location[J.RIGHT]=n}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:Y.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===Y.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var e=arguments[0];this.setLocation(J.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(Y.NONE)}},{key:"isEqualOnSide",value:function(e,t){return this.location[t]===e.location[t]}},{key:"allPositionsEqual",value:function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[J.ON]=n}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[J.ON]=o,this.location[J.LEFT]=s,this.location[J.RIGHT]=a}}}])}(),Pt=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,t){this.elt[e].setAllLocations(t)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Lt(e.elt[t]):this.elt[t].merge(e.elt[t])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(J.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}}},{key:"toString",value:function(){var e=new oe;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(J.ON,t)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}}},{key:"isEqualOnSide",value:function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}},{key:"allPositionsEqual",value:function(e,t){return this.elt[e].allPositionsEqual(t)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new Lt(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Lt(t),this.elt[1]=new Lt(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Lt(n.elt[0]),this.elt[1]=new Lt(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Lt(Y.NONE),this.elt[1]=new Lt(Y.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Lt(o,s,a),this.elt[1]=new Lt(o,s,a)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],d=arguments[3];this.elt[0]=new Lt(Y.NONE,Y.NONE,Y.NONE),this.elt[1]=new Lt(Y.NONE,Y.NONE,Y.NONE),this.elt[l].setLocations(u,c,d)}}},{key:"toLineLabel",value:function(t){for(var n=new e(Y.NONE),i=0;i<2;i++)n.setLocation(i,t.getLocation(i));return n}}])}(),At=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=de.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new fe("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new fe("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var i=t.getLabel();F.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(e){return this._pts.get(e)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(e,t,n){var i=e.getCoordinates();if(t){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)}},{key:"containsPoint",value:function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!Ot.isInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0}},{key:"addHole",value:function(e){this._holes.add(e)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,J.RIGHT);if(n===Y.NONE)return null;if(this._label.getLocation(t)===Y.NONE)return this._label.setLocation(t,n),null}}},{key:"setShell",value:function(e){this._shell=e,null!==e&&e.addHole(this)}},{key:"toPolygon",value:function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new ge,this._pts=new ge,this._label=new Pt(Y.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ge,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}}]),Mt=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"setEdgeRing",value:function(e,t){e.setMinEdgeRing(t)}},{key:"getNext",value:function(e){return e.getNextMin()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];At.constructor_.call(this,e,t)}}])}(At),Dt=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"buildMinimalRings",value:function(){var e=new ge,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Mt(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e}},{key:"setEdgeRing",value:function(e,t){e.setEdgeRing(t)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}},{key:"getNext",value:function(e){return e.getNext()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];At.constructor_.call(this,e,t)}}])}(At),Ft=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(e){this._isVisited=e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(e){this._label=e}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(e){this._isCovered=e,this._isCoveredSet=!0}},{key:"updateIM",value:function(e){F.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}}}]),zt=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"isIncidentEdgeInResult",value:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(e){e.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(e){}},{key:"computeMergedLocation",value:function(e,t){var n=Y.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var i=e.getLocation(t);n!==Y.BOUNDARY&&(n=i)}return n}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return h(i,"setLabel",this,1).apply(this,arguments);var e=arguments[0],t=arguments[1];null===this._label?this._label=new Pt(e,t):this._label.setLocation(e,t)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof i){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Pt)for(var t=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(t,n);this._label.getLocation(n)===Y.NONE&&this._label.setLocation(n,r)}}},{key:"add",value:function(e){this._edges.insert(e),e.setNode(this)}},{key:"setLabelBoundary",value:function(e){if(null===this._label)return null;var t=Y.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case Y.BOUNDARY:n=Y.INTERIOR;break;case Y.INTERIOR:default:n=Y.BOUNDARY}this._label.setLocation(e,n)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new Pt(0,Y.NONE)}}])}(Ft),Bt=function(e){function i(){return n(this,i),t(this,i,arguments)}return u(i,e),o(i)}(tt);function Ut(e){return null==e?0:e.color}function qt(e){return null==e?null:e.parent}function Vt(e,t){null!==e&&(e.color=t)}function Gt(e){return null==e?null:e.left}function Ht(e){return null==e?null:e.right}var Yt=function(e){function i(){var e;return n(this,i),(e=t(this,i)).root_=null,e.size_=0,e}return u(i,e),o(i,[{key:"get",value:function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null}},{key:"put",value:function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=e.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=t,o}r=r.right}}while(null!==r);var s={key:e,left:null,right:null,value:t,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null}},{key:"fixAfterInsertion",value:function(e){var t;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)qt(e)===Gt(qt(qt(e)))?1===Ut(t=Ht(qt(qt(e))))?(Vt(qt(e),0),Vt(t,0),Vt(qt(qt(e)),1),e=qt(qt(e))):(e===Ht(qt(e))&&(e=qt(e),this.rotateLeft(e)),Vt(qt(e),0),Vt(qt(qt(e)),1),this.rotateRight(qt(qt(e)))):1===Ut(t=Gt(qt(qt(e))))?(Vt(qt(e),0),Vt(t,0),Vt(qt(qt(e)),1),e=qt(qt(e))):(e===Gt(qt(e))&&(e=qt(e),this.rotateRight(e)),Vt(qt(e),0),Vt(qt(qt(e)),1),this.rotateLeft(qt(qt(e))));this.root_.color=0}},{key:"values",value:function(){var e=new ge,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=i.successor(t));)e.add(t.value);return e}},{key:"entrySet",value:function(){var e=new K,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=i.successor(t));)e.add(t);return e}},{key:"rotateLeft",value:function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}}},{key:"rotateRight",value:function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}}},{key:"getFirstEntry",value:function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return!0;t=t.right}}return!1}}],[{key:"successor",value:function(e){var t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var n=e;null!==t&&n===t.right;)n=t,t=t.parent;return t}}])}(Bt),Wt=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"find",value:function(e){return this.nodeMap.get(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof q){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof zt){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}}},{key:"print",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(e){for(var t=new ge,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(e)===Y.BOUNDARY&&t.add(i)}return t}},{key:"add",value:function(e){var t=e.getCoordinate();this.addNode(t).add(e)}}],[{key:"constructor_",value:function(){this.nodeMap=new Yt,this.nodeFact=null;var e=arguments[0];this.nodeFact=e}}]),Xt=function(){function e(){n(this,e)}return o(e,null,[{key:"isNorthern",value:function(t){return t===e.NE||t===e.NW}},{key:"isOpposite",value:function(e,t){return e!==t&&2===(e-t+4)%4}},{key:"commonHalfPlane",value:function(e,t){if(e===t)return e;if(2===(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n}},{key:"isInHalfPlane",value:function(t,n){return n===e.SE?t===e.SE||t===e.SW:t===n||t===n+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new x("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?e.NE:e.SE:n>=0?e.NW:e.SW}if(arguments[0]instanceof q&&arguments[1]instanceof q){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new x("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?e.NE:e.SE:r.y>=i.y?e.NW:e.SW}}}])}();Xt.NE=0,Xt.NW=1,Xt.SW=2,Xt.SE=3;var $t=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:de.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);e.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)}},{key:"compareTo",value:function(e){var t=e;return this.compareDirection(t)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Xt.quadrant(this._dx,this._dy),F.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];e.constructor_.call(this,n,i,r,null)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];e.constructor_.call(this,o),this.init(s,a),this._label=l}}}])}(),Zt=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(e){return this._depth[e]}},{key:"setVisited",value:function(e){this._isVisited=e}},{key:"computeDirectedLabel",value:function(){this._label=new Pt(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new fe("assigned depths do not match",this.getCoordinate());this._depth[e]=t}},{key:"isInteriorAreaEdge",value:function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,J.LEFT)===Y.INTERIOR&&this._label.getLocation(t,J.RIGHT)===Y.INTERIOR||(e=!1);return e}},{key:"setNextMin",value:function(e){this._nextMin=e}},{key:"print",value:function(e){h(i,"print",this,1).call(this,e),e.print(" "+this._depth[J.LEFT]+"/"+this._depth[J.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")}},{key:"setMinEdgeRing",value:function(e){this._minEdgeRing=e}},{key:"isLineEdge",value:function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,Y.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Y.EXTERIOR);return e&&t&&n}},{key:"setEdgeRing",value:function(e){this._edgeRing=e}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)}},{key:"setSym",value:function(e){this._sym=e}},{key:"setVisitedEdge",value:function(e){this.setVisited(e),this._sym.setVisited(e)}},{key:"setEdgeDepths",value:function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;e===J.LEFT&&(i=-1);var r=J.opposite(e),o=t+n*i;this.setDepth(e,t),this.setDepth(r,o)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(e){this._next=e}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var e=arguments[0],t=arguments[1];if($t.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(e,t){return e===Y.EXTERIOR&&t===Y.INTERIOR?1:e===Y.INTERIOR&&t===Y.EXTERIOR?-1:0}}])}($t),Kt=o(function e(){n(this,e)},[{key:"createNode",value:function(e){return new zt(e,null)}}]),Qt=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}}},{key:"find",value:function(e){return this._nodes.find(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof zt){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof q){var t=arguments[0];return this._nodes.addNode(t)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(e){xe.out.println(e)}},{key:"isBoundaryNode",value:function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(e)===Y.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(e,t,n,i){return!!e.equals(n)&&de.index(e,t,i)===de.COLLINEAR&&Xt.quadrant(e,t)===Xt.quadrant(n,i)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(e){xe.out.print(e)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(e,t){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(e,t,r[0],r[1]))return i;if(this.matchInSameDirection(e,t,r[r.length-1],r[r.length-2]))return i}return null}},{key:"insertEdge",value:function(e){this._edges.add(e)}},{key:"findEdgeEnd",value:function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null}},{key:"addEdges",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var i=new Zt(n,!0),r=new Zt(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}}},{key:"add",value:function(e){this._nodes.add(e),this._edgeEndList.add(e)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(e,t){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(e.equals(r[0])&&t.equals(r[1]))return i}return null}}],[{key:"constructor_",value:function(){if(this._edges=new ge,this._nodes=null,this._edgeEndList=new ge,0===arguments.length)this._nodes=new Wt(new Kt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Wt(e)}}},{key:"linkResultDirectedEdges",value:function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}}]),Jt=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"sortShellsAndHoles",value:function(e,t,n){for(var i=e.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):t.add(r)}}},{key:"computePolygons",value:function(e){for(var t=new ge,n=e.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);t.add(i)}return t}},{key:"placeFreeHoles",value:function(t,n){for(var i=n.iterator();i.hasNext();){var r=i.next();if(null===r.getShell()){var o=e.findEdgeRingContaining(r,t);if(null===o)throw new fe("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(o)}}}},{key:"buildMinimalEdgeRings",value:function(e,t,n){for(var i=new ge,r=e.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),t.add(a)):n.addAll(s)}else i.add(o)}return i}},{key:"buildMaximalEdgeRings",value:function(e){for(var t=new ge,n=e.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Dt(i,this._geometryFactory);t.add(r),r.setInResult()}}return t}},{key:"placePolygonHoles",value:function(e,t){for(var n=t.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var t=0,n=null,i=e.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,t++)}return F.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Qt.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(t),r=new ge,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new ge;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,t){for(var n=e.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=t.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=Xe.ptNotInList(n.getCoordinates(),u.getCoordinates());var d=!1;Ot.isInRing(r,u.getCoordinates())&&(d=!0),d&&(null===o||s.contains(c))&&(s=(o=l).getLinearRing().getEnvelopeInternal())}}return o}}])}(),en=o(function e(){n(this,e)},[{key:"getBounds",value:function(){}}]),tn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[en,w]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}}]),nn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new ge,this._items.add(null)}}]),rn=o(function e(){n(this,e)},[{key:"insert",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"query",value:function(){}}]),on=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(e){F.isTrue(null===this._bounds),this._childBoundables.add(e)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[en,w]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new ge,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}}}]),sn={reverseOrder:function(){return{compare:function(e,t){return t.compareTo(e)}}},min:function(e){return sn.sort(e),e.get(0)},sort:function(e,t){var n=e.toArray();t?Pe.sort(n,t):Pe.sort(n);for(var i=e.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},singletonList:function(e){var t=new ge;return t.add(e),t}},an=function(){function e(){n(this,e)}return o(e,null,[{key:"maxDistance",value:function(t,n,i,r,o,s,a,l){var u=e.distance(t,n,o,s);return u=Math.max(u,e.distance(t,n,a,l)),u=Math.max(u,e.distance(i,r,o,s)),Math.max(u,e.distance(i,r,a,l))}},{key:"distance",value:function(e,t,n,i){var r=n-e,o=i-t;return Math.sqrt(r*r+o*o)}},{key:"maximumDistance",value:function(t,n){var i=Math.min(t.getMinX(),n.getMinX()),r=Math.min(t.getMinY(),n.getMinY()),o=Math.max(t.getMaxX(),n.getMaxX()),s=Math.max(t.getMaxY(),n.getMaxY());return e.distance(i,r,o,s)}},{key:"minMaxDistance",value:function(t,n){var i=t.getMinX(),r=t.getMinY(),o=t.getMaxX(),s=t.getMaxY(),a=n.getMinX(),l=n.getMinY(),u=n.getMaxX(),c=n.getMaxY(),d=e.maxDistance(i,r,i,s,a,l,a,c);return d=Math.min(d,e.maxDistance(i,r,i,s,a,l,u,l)),d=Math.min(d,e.maxDistance(i,r,i,s,u,c,a,c)),d=Math.min(d,e.maxDistance(i,r,i,s,u,c,u,l)),d=Math.min(d,e.maxDistance(i,r,o,r,a,l,a,c)),d=Math.min(d,e.maxDistance(i,r,o,r,a,l,u,l)),d=Math.min(d,e.maxDistance(i,r,o,r,u,c,a,c)),d=Math.min(d,e.maxDistance(i,r,o,r,u,c,u,l)),d=Math.min(d,e.maxDistance(o,s,i,s,a,l,a,c)),d=Math.min(d,e.maxDistance(o,s,i,s,a,l,u,l)),d=Math.min(d,e.maxDistance(o,s,i,s,u,c,a,c)),d=Math.min(d,e.maxDistance(o,s,i,s,u,c,u,l)),d=Math.min(d,e.maxDistance(o,s,o,r,a,l,a,c)),d=Math.min(d,e.maxDistance(o,s,o,r,a,l,u,l)),d=Math.min(d,e.maxDistance(o,s,o,r,u,c,a,c)),Math.min(d,e.maxDistance(o,s,o,r,u,c,u,l))}}])}(),ln=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"maximumDistance",value:function(){return an.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(t,n){var i=e.isComposite(this._boundable1),r=e.isComposite(this._boundable2);if(i&&r)return e.area(this._boundable1)>e.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,t,n),null):(this.expand(this._boundable2,this._boundable1,!0,t,n),null);if(i)return this.expand(this._boundable1,this._boundable2,!1,t,n),null;if(r)return this.expand(this._boundable2,this._boundable1,!0,t,n),null;throw new x("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(e.isComposite(this._boundable1)||e.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}},{key:"expand",value:function(t,n,i,r,o){for(var s=t.getChildBoundables().iterator();s.hasNext();){var a=s.next(),l=null;(l=i?new e(n,a,this._itemDistance):new e(a,n,this._itemDistance)).getDistance()<o&&r.add(l)}}},{key:"getBoundable",value:function(e){return 0===e?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof on}}])}(),un=o(function e(){n(this,e)},[{key:"visitItem",value:function(e){}}]),cn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"queryInternal",value:function(){if(re(arguments[2],un)&&arguments[0]instanceof Object&&arguments[1]instanceof on)for(var e=arguments[0],t=arguments[2],n=arguments[1].getChildBoundables(),i=0;i<n.size();i++){var r=n.get(i);this.getIntersectsOp().intersects(r.getBounds(),e)&&(r instanceof on?this.queryInternal(e,r,t):r instanceof tn?t.visitItem(r.getItem()):F.shouldNeverReachHere())}else if(re(arguments[2],ne)&&arguments[0]instanceof Object&&arguments[1]instanceof on)for(var o=arguments[0],s=arguments[2],a=arguments[1].getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),o)&&(u instanceof on?this.queryInternal(o,u,s):u instanceof tn?s.add(u.getItem()):F.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof on?e+=this.size(n):n instanceof tn&&(e+=1)}return e}}},{key:"removeItem",value:function(e,t){for(var n=null,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof tn&&r.getItem()===t&&(n=r)}return null!==n&&(e.getChildBoundables().remove(n),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new ge:e}if(1===arguments.length){for(var t=arguments[0],n=new ge,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof on){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof tn?n.add(r.getItem()):F.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:"insert",value:function(e,t){F.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new tn(e,t))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var e=arguments[0],t=new ge;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(F.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof on?this.boundablesAtLevel(n,s,r):(F.isTrue(s instanceof tn),-1===n&&r.add(s))}return null}}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new ge;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof on&&(o=this.remove(n,l,r))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}}},{key:"createHigherLevels",value:function(e,t){F.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof on){var i=this.depth(n);i>e&&(e=i)}}return e+1}}},{key:"createParentBoundables",value:function(e,t){F.isTrue(!e.isEmpty());var n=new ge;n.add(this.createNode(t));var i=new ge(e);sn.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(o)}return n}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new ge,this._nodeCapacity=null,0===arguments.length)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];F.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}},{key:"compareDoubles",value:function(e,t){return e>t?1:e<t?-1:0}}])}();cn.IntersectsOp=function(){},cn.DEFAULT_NODE_CAPACITY=10;var dn=o(function e(){n(this,e)},[{key:"distance",value:function(e,t){}}]),hn=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"createParentBoundablesFromVerticalSlices",value:function(e,t){F.isTrue(e.length>0);for(var n=new ge,i=0;i<e.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[i],t));return n}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.nearestNeighbourK(e,P.POSITIVE_INFINITY,t)}if(3===arguments.length){var n=arguments[0],r=arguments[2],o=arguments[1],s=new nn;s.add(n);for(var a=new nn;!s.isEmpty()&&o>=0;){var l=s.poll(),u=l.getDistance();if(u>=o)break;l.isLeaves()?a.size()<r?a.add(l):(a.peek().getDistance()>u&&(a.poll(),a.add(l)),o=a.peek().getDistance()):l.expandToQueue(s,o)}return i.getItems(a)}}},{key:"createNode",value:function(e){return new fn(e)}},{key:"size",value:function(){return 0===arguments.length?h(i,"size",this,1).call(this):h(i,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof G))return h(i,"insert",this,1).apply(this,arguments);var e=arguments[0],t=arguments[1];if(e.isNull())return null;h(i,"insert",this,1).call(this,e,t)}},{key:"getIntersectsOp",value:function(){return i.intersectsOp}},{key:"verticalSlices",value:function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),i=new Array(t).fill(null),r=e.iterator(),o=0;o<t;o++){i[o]=new ge;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];return h(i,"query",this,1).call(this,e)}if(2===arguments.length){var t=arguments[0],n=arguments[1];h(i,"query",this,1).call(this,t,n)}}},{key:"getComparator",value:function(){return i.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(e,t){return h(i,"createParentBoundables",this,1).call(this,e,t)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof G){var e=arguments[0],t=arguments[1];return h(i,"remove",this,1).call(this,e,t)}return h(i,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?h(i,"depth",this,1).call(this):h(i,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(e,t){F.isTrue(!e.isEmpty());var n=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),r=new ge(e);sn.sort(r,i.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(o,t)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(re(arguments[0],dn)){var e=arguments[0];if(this.isEmpty())return null;var t=new ln(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof ln){var n=arguments[0],i=P.POSITIVE_INFINITY,r=null,o=new nn;for(o.add(n);!o.isEmpty()&&i>0;){var s=o.poll(),a=s.getDistance();if(a>=i)break;s.isLeaves()?(i=a,r=s):s.expandToQueue(o,i)}return null===r?null:[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else{if(2===arguments.length){var l=arguments[0],u=arguments[1];if(this.isEmpty()||l.isEmpty())return null;var c=new ln(this.getRoot(),l.getRoot(),u);return this.nearestNeighbour(c)}if(3===arguments.length){var d=arguments[2],h=new tn(arguments[0],arguments[1]),f=new ln(this.getRoot(),h,d);return this.nearestNeighbour(f)[0]}if(4===arguments.length){var p=arguments[2],g=arguments[3],v=new tn(arguments[0],arguments[1]),m=new ln(this.getRoot(),v,p);return this.nearestNeighbourK(m,g)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=P.POSITIVE_INFINITY,i=new nn;for(i.add(e);!i.isEmpty();){var r=i.poll(),o=r.getDistance();if(o>t)return!1;if(r.maximumDistance()<=t)return!0;if(r.isLeaves()){if((n=o)<=t)return!0}else r.expandToQueue(i,n)}return!1}if(3===arguments.length){var s=arguments[0],a=arguments[1],l=arguments[2],u=new ln(this.getRoot(),s.getRoot(),a);return this.isWithinDistance(u,l)}}},{key:"interfaces_",get:function(){return[rn,w]}}],[{key:"constructor_",value:function(){if(0===arguments.length)i.constructor_.call(this,i.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];cn.constructor_.call(this,e)}}},{key:"centreX",value:function(e){return i.avg(e.getMinX(),e.getMaxX())}},{key:"avg",value:function(e,t){return(e+t)/2}},{key:"getItems",value:function(e){for(var t=new Array(e.size()).fill(null),n=0;!e.isEmpty();){var i=e.poll();t[n]=i.getBoundable(0).getItem(),n++}return t}},{key:"centreY",value:function(e){return i.avg(e.getMinY(),e.getMaxY())}}])}(cn),fn=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"computeBounds",value:function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new G(n.getBounds()):e.expandToInclude(n.getBounds())}return e}}],[{key:"constructor_",value:function(){var e=arguments[0];on.constructor_.call(this,e)}}])}(on);hn.STRtreeNode=fn,hn.xComparator=new(o(function e(){n(this,e)},[{key:"interfaces_",get:function(){return[A]}},{key:"compare",value:function(e,t){return cn.compareDoubles(hn.centreX(e.getBounds()),hn.centreX(t.getBounds()))}}])),hn.yComparator=new(o(function e(){n(this,e)},[{key:"interfaces_",get:function(){return[A]}},{key:"compare",value:function(e,t){return cn.compareDoubles(hn.centreY(e.getBounds()),hn.centreY(t.getBounds()))}}])),hn.intersectsOp=new(o(function e(){n(this,e)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(e,t){return e.intersects(t)}}])),hn.DEFAULT_NODE_CAPACITY=10;var pn=function(){function e(){n(this,e)}return o(e,null,[{key:"relativeSign",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"compare",value:function(t,n,i){if(n.equals2D(i))return 0;var r=e.relativeSign(n.x,i.x),o=e.relativeSign(n.y,i.y);switch(t){case 0:return e.compareValue(r,o);case 1:return e.compareValue(o,r);case 2:return e.compareValue(o,-r);case 3:return e.compareValue(-r,o);case 4:return e.compareValue(-r,-o);case 5:return e.compareValue(-o,-r);case 6:return e.compareValue(-o,r);case 7:return e.compareValue(r,-o)}return F.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0}}])}(),gn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:this._isInterior?t._isInterior?pn.compare(this._segmentOctant,this.coord,t.coord):1:-1}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3];this._segString=e,this.coord=new q(t),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!t.equals2D(e.getCoordinate(n))}}]),vn=o(function e(){n(this,e)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),mn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var e=new We;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var i=t.next();this.addEdgeCoordinates(n,i,e),n=i}return e.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var e=new ge;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(e,t){var n=t.segmentIndex-e.segmentIndex+2;if(2===n)return[new q(e.coord),new q(t.coord)];var i=this._edge.getCoordinate(t.segmentIndex),r=t.isInterior()||!t.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new q(e.coord);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new q(t.coord)),o}},{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"findCollapsesFromExistingVertices",value:function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t);this._edge.getCoordinate(t+1);var i=this._edge.getCoordinate(t+2);n.equals2D(i)&&e.add(se.valueOf(t+1))}}},{key:"addEdgeCoordinates",value:function(e,t,n){var i=this.createSplitEdgePts(e,t);n.add(i,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var i=t.next(),r=this.createSplitEdge(n,i);e.add(r),n=i}}},{key:"findCollapseIndex",value:function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var i=t.segmentIndex-e.segmentIndex;return t.isInterior()||i--,1===i&&(n[0]=e.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(e){for(var t=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,t)&&e.add(se.valueOf(t[0])),i=r}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}},{key:"createSplitEdge",value:function(e,t){var n=this.createSplitEdgePts(e,t);return new bn(n,this._edge.getData())}},{key:"add",value:function(e,t){var n=new gn(this._edge,e,t,this._edge.getSegmentOctant(t)),i=this._nodeMap.get(n);return null!==i?(F.isTrue(i.coord.equals2D(e),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new M("bad split edge start point at "+n);var i=e.get(e.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(t[t.length-1]))throw new M("bad split edge end point at "+r)}}],[{key:"constructor_",value:function(){this._nodeMap=new Yt,this._edge=null;var e=arguments[0];this._edge=e}}]),yn=function(){function e(){n(this,e)}return o(e,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new x("Cannot compute the octant for point ( "+t+", "+n+" )");var i=Math.abs(t),r=Math.abs(n);return t>=0?n>=0?i>=r?0:1:i>=r?7:6:n>=0?i>=r?3:2:i>=r?4:5}if(arguments[0]instanceof q&&arguments[1]instanceof q){var o=arguments[0],s=arguments[1],a=s.x-o.x,l=s.y-o.y;if(0===a&&0===l)throw new x("Cannot compute the octant for two identical points "+o);return e.octant(a,l)}}}])}(),xn=o(function e(){n(this,e)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(e){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(e){}},{key:"getData",value:function(){}}]),_n=o(function e(){n(this,e)},[{key:"addIntersection",value:function(e,t){}},{key:"interfaces_",get:function(){return[xn]}}]),bn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,t){return e.equals2D(t)?0:yn.octant(e,t)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[1],i=arguments[3],r=new q(arguments[0].getIntersection(i));this.addIntersection(r,n)}}},{key:"toString",value:function(){return It.toLineString(new Qe(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,t){var n=t,i=n+1;if(i<this._pts.length){var r=this._pts[i];e.equals2D(r)&&(n=i)}return this._nodeList.add(e,n)}},{key:"addIntersections",value:function(e,t,n){for(var i=0;i<e.getIntersectionNum();i++)this.addIntersection(e,t,n,i)}},{key:"interfaces_",get:function(){return[_n]}}],[{key:"constructor_",value:function(){this._nodeList=new mn(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var t=arguments[0],n=new ge;return e.getNodedSubstrings(t,n),n}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)}}])}(),kn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof e){var t=arguments[0],n=de.index(this.p0,this.p1,t.p0),i=de.index(this.p0,this.p1,t.p1);return n>=0&&i>=0||n<=0&&i<=0?Math.max(n,i):0}if(arguments[0]instanceof q){var r=arguments[0];return de.index(this.p0,this.p1,r)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(e){var t=new Tt;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof q){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new q(t);var n=this.projectionFactor(t),i=new q;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof e){var r=arguments[0],o=this.projectionFactor(r.p0),s=this.projectionFactor(r.p1);if(o>=1&&s>=1)return null;if(o<=0&&s<=0)return null;var a=this.project(r.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var l=this.project(r.p1);return s<0&&(l=this.p0),s>1&&(l=this.p1),new e(a,l)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return 0===e?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return be.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return e.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=t*t+n*n;return i<=0?P.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/i}},{key:"closestPoints",value:function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),i=P.MAX_VALUE,r=null,o=this.closestPoint(e.p0);i=o.distance(e.p0),n[0]=o,n[1]=e.p0;var s=this.closestPoint(e.p1);(r=s.distance(e.p1))<i&&(i=r,n[0]=s,n[1]=e.p1);var a=e.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var l=e.closestPoint(this.p1);return(r=l.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=l),n}},{key:"closestPoint",value:function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return ye.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),i=this.p0.y+e*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,l=0;if(0!==t){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=t*r/s,l=t*o/s}return new q(n-l,i+a)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:"segmentFraction",value:function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||P.isNaN(t))&&(t=1),t}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var t=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),i=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),r=t*t+n*n,o=t*t-n*n,s=e.getX(),a=e.getY();return new q((-o*s-2*t*n*a-2*t*i)/r,(o*a-2*t*n*s-2*n*i)/r)}},{key:"distance",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return be.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof q){var n=arguments[0];return be.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var t=new q;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}},{key:"hashCode",value:function(){var e=P.doubleToLongBits(this.p0.x);e^=31*P.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=P.doubleToLongBits(this.p1.x);return n^=31*P.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)}},{key:"interfaces_",get:function(){return[b,w]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)e.constructor_.call(this,new q,new q);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.p0,t.p1)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.p0=n,this.p1=i}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e.constructor_.call(this,new q(r,o),new q(s,a))}}},{key:"midPoint",value:function(e,t){return new q((e.x+t.x)/2,(e.y+t.y)/2)}}])}(),wn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new kn,this._overlapSeg2=new kn}}]),Sn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}},{key:"computeSelect",value:function(e,t,n,i){var r=this._pts[t],o=this._pts[n];if(n-t==1)return i.select(this,t),null;if(!e.intersects(r,o))return null;var s=Math.trunc((t+n)/2);t<s&&this.computeSelect(e,t,s,i),s<n&&this.computeSelect(e,s,n,i)}},{key:"getCoordinates",value:function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5];if(i-n==1&&s-o==1)return a.overlap(this,n,r,o),null;if(!this.overlaps(n,i,r,o,s))return null;var l=Math.trunc((n+i)/2),u=Math.trunc((o+s)/2);n<l&&(o<u&&this.computeOverlaps(n,l,r,o,u,a),u<s&&this.computeOverlaps(n,l,r,u,s,a)),l<i&&(o<u&&this.computeOverlaps(l,i,r,o,u,a),u<s&&this.computeOverlaps(l,i,r,u,s,a))}}},{key:"setId",value:function(e){this._id=e}},{key:"select",value:function(e,t){this.computeSelect(e,this._start,this._end,t)}},{key:"getEnvelope",value:function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new G(e,t)}return this._env}},{key:"overlaps",value:function(e,t,n,i,r){return G.intersects(this._pts[e],this._pts[t],n._pts[i],n._pts[r])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=i}}]),En=function(){function e(){n(this,e)}return o(e,null,[{key:"findChainEnd",value:function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var i=Xt.quadrant(e[n],e[n+1]),r=t+1;r<e.length&&(e[r-1].equals2D(e[r])||Xt.quadrant(e[r-1],e[r])===i);)r++;return r-1}},{key:"getChains",value:function(){if(1===arguments.length){var t=arguments[0];return e.getChains(t,null)}if(2===arguments.length){var n=arguments[0],i=arguments[1],r=new ge,o=0;do{var s=e.findChainEnd(n,o),a=new Sn(n,o,s,i);r.add(a),o=s}while(o<n.length-1);return r}}}])}(),Nn=o(function e(){n(this,e)},[{key:"computeNodes",value:function(e){}},{key:"getNodedSubstrings",value:function(){}}]),Cn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(e){this._segInt=e}},{key:"interfaces_",get:function(){return[Nn]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}}}]),In=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return bn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(e){for(var t=En.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var e=new jn(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,e),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new ge,this._index=new hn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var e=arguments[0];Cn.constructor_.call(this,e)}}}])}(Cn),jn=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"overlap",value:function(){if(4!==arguments.length)return h(i,"overlap",this,1).apply(this,arguments);var e=arguments[1],t=arguments[2],n=arguments[3],r=arguments[0].getContext(),o=t.getContext();this._si.processIntersections(r,e,o,n)}}],[{key:"constructor_",value:function(){this._si=null;var e=arguments[0];this._si=e}}])}(wn);In.SegmentOverlapAction=jn;var Tn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isDeletable",value:function(e,t,n,i){var r=this._inputLine[e],o=this._inputLine[t],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,e,n,i)}},{key:"deleteShallowConcavities",value:function(){for(var t=1,n=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(n),r=!1;i<this._inputLine.length;){var o=!1;this.isDeletable(t,n,i,this._distanceTol)&&(this._isDeleted[n]=e.DELETE,o=!0,r=!0),t=o?i:n,n=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(n)}return r}},{key:"isShallowConcavity",value:function(e,t,n,i){return de.index(e,t,n)===this._angleOrientation&&be.pointToSegment(t,e,n)<i}},{key:"isShallowSampled",value:function(t,n,i,r,o){var s=Math.trunc((r-i)/e.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var a=i;a<r;a+=s)if(!this.isShallow(t,n,this._inputLine[a],o))return!1;return!0}},{key:"isConcave",value:function(e,t,n){return de.index(e,t,n)===this._angleOrientation}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=de.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===e.DELETE;)n++;return n}},{key:"isShallow",value:function(e,t,n,i){return be.pointToSegment(t,e,n)<i}},{key:"collapseLine",value:function(){for(var t=new We,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==e.DELETE&&t.add(this._inputLine[n]);return t.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=de.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(t,n){return new e(t).simplify(n)}}])}();Tn.INIT=0,Tn.DELETE=1,Tn.KEEP=1,Tn.NUM_PTS_TO_CHECK=10;var Rn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getCoordinates",value:function(){return this._ptList.toArray(e.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var t=new q(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var i=e.length-1;i>=0;i--)this.addPt(e[i])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new st).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new q(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ge}}])}();Rn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var On=function(){function e(){n(this,e)}return o(e,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(t){for(;t>Math.PI;)t-=e.PI_TIMES_2;for(;t<=-Math.PI;)t+=e.PI_TIMES_2;return t}},{key:"angle",value:function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],i=n.x-t.x,r=n.y-t.y;return Math.atan2(r,i)}}},{key:"isAcute",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y;return i*(n.x-t.x)+r*(n.y-t.y)>0}},{key:"isObtuse",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y;return i*(n.x-t.x)+r*(n.y-t.y)<0}},{key:"interiorAngle",value:function(t,n,i){var r=e.angle(n,t),o=e.angle(n,i);return Math.abs(o-r)}},{key:"normalizePositive",value:function(t){if(t<0){for(;t<0;)t+=e.PI_TIMES_2;t>=e.PI_TIMES_2&&(t=0)}else{for(;t>=e.PI_TIMES_2;)t-=e.PI_TIMES_2;t<0&&(t=0)}return t}},{key:"angleBetween",value:function(t,n,i){var r=e.angle(n,t),o=e.angle(n,i);return e.diff(r,o)}},{key:"diff",value:function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(t,n){var i=Math.sin(n-t);return i>0?e.COUNTERCLOCKWISE:i<0?e.CLOCKWISE:e.NONE}},{key:"angleBetweenOriented",value:function(t,n,i){var r=e.angle(n,t),o=e.angle(n,i)-r;return o<=-Math.PI?o+e.PI_TIMES_2:o>Math.PI?o-e.PI_TIMES_2:o}}])}();On.PI_TIMES_2=2*Math.PI,On.PI_OVER_2=Math.PI/2,On.PI_OVER_4=Math.PI/4,On.COUNTERCLOCKWISE=de.COUNTERCLOCKWISE,On.CLOCKWISE=de.CLOCKWISE,On.NONE=de.COLLINEAR;var Ln=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"addNextSegment",value:function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=de.index(this._s0,this._s1,this._s2),i=n===de.CLOCKWISE&&this._side===J.LEFT||n===de.COUNTERCLOCKWISE&&this._side===J.RIGHT;0===n?this.addCollinear(t):i?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)}},{key:"addLineEndCap",value:function(e,t){var n=new kn(e,t),i=new kn;this.computeOffsetSegment(n,J.LEFT,this._distance,i);var r=new kn;this.computeOffsetSegment(n,J.RIGHT,this._distance,r);var o=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case m.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(t,a+Math.PI/2,a-Math.PI/2,de.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case m.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case m.CAP_SQUARE:var l=new q;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var u=new q(i.p1.x+l.x,i.p1.y+l.y),c=new q(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,t,n,i){var r=ye.intersection(t.p0,t.p1,n.p0,n.p1);if(null!==r&&(i<=0?1:r.distance(e)/Math.abs(i))<=this._bufParams.getMitreLimit())return this._segList.addPt(r),null;this.addLimitedMitreJoin(t,n,i,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*e.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===m.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===m.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new q(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new q(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new q(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new q(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,t){this._segList.addPts(e,t)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,t,n,i,r){var o=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,o),l=n.x-e.x,u=n.y-e.y,c=Math.atan2(u,l);i===de.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(t),this.addDirectedFillet(e,a,c,i,r),this._segList.addPt(n)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,t,n,i){var r=this._seg0.p1,o=On.angle(r,this._seg0.p0),s=On.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=On.normalize(o+s),l=On.normalize(a+Math.PI),u=i*n,c=n-u*Math.abs(Math.sin(s)),d=r.x+u*Math.cos(l),h=r.y+u*Math.sin(l),f=new q(d,h),p=new kn(r,f),g=p.pointAlongOffset(1,c),v=p.pointAlongOffset(1,-c);this._side===J.LEFT?(this._segList.addPt(g),this._segList.addPt(v)):(this._segList.addPt(v),this._segList.addPt(g))}},{key:"addDirectedFillet",value:function(e,t,n,i,r){var o=i===de.CLOCKWISE?-1:1,s=Math.abs(t-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=s/a,u=new q,c=0;c<a;c++){var d=t+o*c*l;u.x=e.x+r*Math.cos(d),u.y=e.y+r*Math.sin(d),this._segList.addPt(u)}}},{key:"computeOffsetSegment",value:function(e,t,n,i){var r=t===J.LEFT?1:-1,o=e.p1.x-e.p0.x,s=e.p1.y-e.p0.y,a=Math.sqrt(o*o+s*s),l=r*n*o/a,u=r*n*s/a;i.p0.x=e.p0.x-u,i.p0.y=e.p0.y+l,i.p1.x=e.p1.x-u,i.p1.y=e.p1.y+l}},{key:"addInsideTurn",value:function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*e.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new q((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new q((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var t=new q(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}},{key:"init",value:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Rn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*e.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===m.JOIN_BEVEL||this._bufParams.getJoinStyle()===m.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,de.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new kn,this._seg1=new kn,this._offset0=new kn,this._offset1=new kn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new Tt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===m.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}}])}();Ln.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ln.MAX_CLOSING_SEG_LEN_FACTOR=80;var Pn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getOffsetCurve",value:function(e,t){if(this._distance=t,0===t)return null;var n=t<0,i=Math.abs(t),r=this.getSegGen(i);e.length<=1?this.computePointCurve(e[0],r):this.computeOffsetCurve(e,n,r);var o=r.getCoordinates();return n&&Xe.reverse(o),o}},{key:"computeSingleSidedBufferCurve",value:function(e,t,n){var i=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var r=Tn.simplify(e,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],J.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(e,!1);var a=Tn.simplify(e,i),l=a.length-1;n.initSideSegments(a[0],a[1],J.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()}},{key:"computeRingBufferCurve",value:function(e,t,n){var i=this.simplifyTolerance(this._distance);t===J.RIGHT&&(i=-i);var r=Tn.simplify(e,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],t);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()}},{key:"computeLineBufferCurve",value:function(e,t){var n=this.simplifyTolerance(this._distance),i=Tn.simplify(e,n),r=i.length-1;t.initSideSegments(i[0],i[1],J.LEFT);for(var o=2;o<=r;o++)t.addNextSegment(i[o],!0);t.addLastSegment(),t.addLineEndCap(i[r-1],i[r]);var s=Tn.simplify(e,-n),a=s.length-1;t.initSideSegments(s[a],s[a-1],J.LEFT);for(var l=a-2;l>=0;l--)t.addNextSegment(s[l],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()}},{key:"computePointCurve",value:function(e,t){switch(this._bufParams.getEndCapStyle()){case m.CAP_ROUND:t.createCircle(e);break;case m.CAP_SQUARE:t.createSquare(e)}}},{key:"getLineCurve",value:function(e,t){if(this._distance=t,this.isLineOffsetEmpty(t))return null;var n=Math.abs(t),i=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],i);else if(this._bufParams.isSingleSided()){var r=t<0;this.computeSingleSidedBufferCurve(e,r,i)}else this.computeLineBufferCurve(e,i);return i.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(t,n,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return e.copyCoordinates(t);var r=this.getSegGen(i);return this.computeRingBufferCurve(t,n,r),r.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,t,n){var i=this.simplifyTolerance(this._distance);if(t){var r=Tn.simplify(e,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],J.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Tn.simplify(e,i),l=a.length-1;n.initSideSegments(a[0],a[1],J.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return 0===e||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new Ln(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},{key:"copyCoordinates",value:function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new q(e[n]);return t}}])}(),An=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new ge,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();e.y<r.getMinY()||e.y>r.getMaxY()||this.findStabbedSegments(e,i.getDirectedEdges(),t)}return t}if(3===arguments.length)if(re(arguments[2],ne)&&arguments[0]instanceof q&&arguments[1]instanceof Zt){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=s.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||de.index(this._seg.p0,this._seg.p1,o)===de.RIGHT)){var c=s.getDepth(J.LEFT);this._seg.p0.equals(l[u])||(c=s.getDepth(J.RIGHT));var d=new Mn(this._seg,c);a.add(d)}}else if(re(arguments[2],ne)&&arguments[0]instanceof q&&re(arguments[1],ne))for(var h=arguments[0],f=arguments[2],p=arguments[1].iterator();p.hasNext();){var g=p.next();g.isForward()&&this.findStabbedSegments(h,g,f)}}},{key:"getDepth",value:function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:sn.min(t)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new kn;var e=arguments[0];this._subgraphs=e}}]),Mn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!==(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)}},{key:"compareX",value:function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new kn(e),this._leftDepth=t}}]);An.DepthSegment=Mn;var Dn=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,null,[{key:"constructor_",value:function(){y.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(y),Fn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getY",value:function(){var e=this.y/this.w;if(P.isNaN(e)||P.isInfinite(e))throw new Dn;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(P.isNaN(e)||P.isInfinite(e))throw new Dn;return e}},{key:"getCoordinate",value:function(){var e=new q;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof q&&arguments[1]instanceof q){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var d=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3],g=d.y-h.y,v=h.x-d.x,m=d.x*h.y-h.x*d.y,y=f.y-p.y,x=p.x-f.x,_=f.x*p.y-p.x*f.y;this.x=v*_-x*m,this.y=y*m-g*_,this.w=g*x-y*v}}}])}(),zn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"area",value:function(){return e.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return e.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(t){if(null===t)throw new x("Supplied point is null.");return e.interpolateZ(t,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return e.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return e.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return e.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return e.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return e.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return e.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.p0=e,this.p1=t,this.p2=n}},{key:"area",value:function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)}},{key:"signedArea",value:function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2}},{key:"det",value:function(e,t,n,i){return e*i-t*n}},{key:"interpolateZ",value:function(e,t,n,i){var r=t.x,o=t.y,s=n.x-r,a=i.x-r,l=n.y-o,u=i.y-o,c=s*u-a*l,d=e.x-r,h=e.y-o,f=(u*d-a*h)/c,p=(-l*d+s*h)/c;return t.getZ()+f*(n.getZ()-t.getZ())+p*(i.getZ()-t.getZ())}},{key:"longestSideLength",value:function(e,t,n){var i=e.distance(t),r=t.distance(n),o=n.distance(e),s=i;return r>s&&(s=r),o>s&&(s=o),s}},{key:"circumcentreDD",value:function(e,t,n){var i=le.valueOf(e.x).subtract(n.x),r=le.valueOf(e.y).subtract(n.y),o=le.valueOf(t.x).subtract(n.x),s=le.valueOf(t.y).subtract(n.y),a=le.determinant(i,r,o,s).multiply(2),l=i.sqr().add(r.sqr()),u=o.sqr().add(s.sqr()),c=le.determinant(r,l,s,u),d=le.determinant(i,l,o,u),h=le.valueOf(n.x).subtract(c.divide(a)).doubleValue(),f=le.valueOf(n.y).add(d.divide(a)).doubleValue();return new q(h,f)}},{key:"isAcute",value:function(e,t,n){return!!On.isAcute(e,t,n)&&!!On.isAcute(t,n,e)&&!!On.isAcute(n,e,t)}},{key:"circumcentre",value:function(t,n,i){var r=i.x,o=i.y,s=t.x-r,a=t.y-o,l=n.x-r,u=n.y-o,c=2*e.det(s,a,l,u),d=e.det(a,s*s+a*a,u,l*l+u*u),h=e.det(s,s*s+a*a,l,l*l+u*u);return new q(r-d/c,o+h/c)}},{key:"perpendicularBisector",value:function(e,t){var n=t.x-e.x,i=t.y-e.y,r=new Fn(e.x+n/2,e.y+i/2,1),o=new Fn(e.x-i+n/2,e.y+n+i/2,1);return new Fn(r,o)}},{key:"angleBisector",value:function(e,t,n){var i=t.distance(e),r=i/(i+t.distance(n)),o=n.x-e.x,s=n.y-e.y;return new q(e.x+r*o,e.y+r*s)}},{key:"area3D",value:function(e,t,n){var i=t.x-e.x,r=t.y-e.y,o=t.getZ()-e.getZ(),s=n.x-e.x,a=n.y-e.y,l=n.getZ()-e.getZ(),u=r*l-o*a,c=o*s-i*l,d=i*a-r*s,h=u*u+c*c+d*d;return Math.sqrt(h)/2}},{key:"centroid",value:function(e,t,n){var i=(e.x+t.x+n.x)/3,r=(e.y+t.y+n.y)/3;return new q(i,r)}},{key:"inCentre",value:function(e,t,n){var i=t.distance(n),r=e.distance(n),o=e.distance(t),s=i+r+o,a=(i*e.x+r*t.x+o*n.x)/s,l=(i*e.y+r*t.y+o*n.y)/s;return new q(a,l)}}])}(),Bn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(e,t,n,i,r){if(0===t&&e.length<qe.MINIMUM_VALID_SIZE)return null;var o=i,s=r;e.length>=qe.MINIMUM_VALID_SIZE&&de.isCCW(e)&&(o=r,s=i,n=J.opposite(n));var a=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(a,o,s)}},{key:"addRingBothSides",value:function(e,t){this.addRingSide(e,t,J.LEFT,Y.EXTERIOR,Y.INTERIOR),this.addRingSide(e,t,J.RIGHT,Y.INTERIOR,Y.EXTERIOR)}},{key:"addPoint",value:function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,Y.EXTERIOR,Y.INTERIOR)}},{key:"addPolygon",value:function(e){var t=this._distance,n=J.LEFT;this._distance<0&&(t=-this._distance,n=J.RIGHT);var i=e.getExteriorRing(),r=Xe.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addRingSide(r,t,n,Y.EXTERIOR,Y.INTERIOR);for(var o=0;o<e.getNumInteriorRing();o++){var s=e.getInteriorRingN(o),a=Xe.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addRingSide(a,t,J.opposite(n),Y.INTERIOR,Y.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(e,t){var n=new zn(e[0],e[1],e[2]),i=n.inCentre();return be.pointToSegment(i,n.p0,n.p1)<Math.abs(t)}},{key:"addLineString",value:function(e){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var t=Xe.removeRepeatedPoints(e.getCoordinates());if(Xe.isRing(t)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(t,this._distance);else{var n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,Y.EXTERIOR,Y.INTERIOR)}}},{key:"addCurve",value:function(e,t,n){if(null===e||e.length<2)return null;var i=new bn(e,new Pt(0,Y.BOUNDARY,t,n));this._curveList.add(i)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(e){if(e.isEmpty())return null;if(e instanceof Me)this.addPolygon(e);else if(e instanceof Te)this.addLineString(e);else if(e instanceof Oe)this.addPoint(e);else if(e instanceof Ue)this.addCollection(e);else if(e instanceof ot)this.addCollection(e);else if(e instanceof et)this.addCollection(e);else{if(!(e instanceof Be))throw new $(e.getGeometryType());this.addCollection(e)}}},{key:"isErodedCompletely",value:function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var i=e.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return t<0&&2*Math.abs(t)>r}},{key:"addCollection",value:function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ge;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n}}]),Un=o(function e(){n(this,e)},[{key:"locate",value:function(e){}}]),qn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,e.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new X;var t=this._parent.getGeometryN(this._index++);return t instanceof Be?(this._subcollectionIterator=new e(t),this._subcollectionIterator.next()):t}},{key:"remove",value:function(){throw new $(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[vn]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof Be)}}])}(),Vn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"locate",value:function(t){return e.locate(t,this._geom)}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(t,n){if(n.isEmpty())return Y.EXTERIOR;var i=n.getExteriorRing(),r=e.locatePointInRing(t,i);if(r!==Y.INTERIOR)return r;for(var o=0;o<n.getNumInteriorRing();o++){var s=n.getInteriorRingN(o),a=e.locatePointInRing(t,s);if(a===Y.BOUNDARY)return Y.BOUNDARY;if(a===Y.INTERIOR)return Y.EXTERIOR}return Y.INTERIOR}},{key:"locatePointInRing",value:function(e,t){return t.getEnvelopeInternal().intersects(e)?Ot.locateInRing(e,t.getCoordinates()):Y.EXTERIOR}},{key:"containsPointInPolygon",value:function(t,n){return Y.EXTERIOR!==e.locatePointInPolygon(t,n)}},{key:"locateInGeometry",value:function(t,n){if(n instanceof Me)return e.locatePointInPolygon(t,n);if(n instanceof Be)for(var i=new qn(n);i.hasNext();){var r=i.next();if(r!==n){var o=e.locateInGeometry(t,r);if(o!==Y.EXTERIOR)return o}}return Y.EXTERIOR}},{key:"isContained",value:function(t,n){return Y.EXTERIOR!==e.locate(t,n)}},{key:"locate",value:function(t,n){return n.isEmpty()?Y.EXTERIOR:n.getEnvelopeInternal().intersects(t)?e.locateInGeometry(t,n):Y.EXTERIOR}}])}(),Gn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(e){for(var t=Y.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(e)&&i.getLocation(e,J.LEFT)!==Y.NONE&&(t=i.getLocation(e,J.LEFT))}if(t===Y.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(e,J.ON)===Y.NONE&&a.setLocation(e,J.ON,r),a.isArea(e)){var l=a.getLocation(e,J.LEFT),u=a.getLocation(e,J.RIGHT);if(u!==Y.NONE){if(u!==r)throw new fe("side location conflict",s.getCoordinate());l===Y.NONE&&F.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=l}else F.isTrue(a.getLocation(e,J.LEFT)===Y.NONE,"found single null side"),a.setLocation(e,J.RIGHT,r),a.setLocation(e,J.LEFT,r)}}}},{key:"getCoordinate",value:function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null}},{key:"print",value:function(e){xe.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"isAreaLabelsConsistent",value:function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,i=t.get(n).getLabel().getLocation(e,J.LEFT);F.isTrue(i!==Y.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();F.isTrue(s.isArea(e),"Found non-area edge");var a=s.getLocation(e,J.LEFT),l=s.getLocation(e,J.RIGHT);if(a===l)return!1;if(l!==r)return!1;r=a}return!0}},{key:"findIndex",value:function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new ge(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(e,t,n){return this._ptInAreaLocation[e]===Y.NONE&&(this._ptInAreaLocation[e]=Vn.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]}},{key:"toString",value:function(){var e=new oe;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()}},{key:"computeEdgeEndLabels",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)}},{key:"computeLabelling",value:function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===Y.BOUNDARY&&(t[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var u=Y.NONE;if(t[l])u=Y.EXTERIOR;else{var c=s.getCoordinate();u=this.getLocation(l,c,e)}a.setAllLocationsIfNull(l,u)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(e,t){this._edgeMap.put(e,t),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Yt,this._edgeList=null,this._ptInAreaLocation=[Y.NONE,Y.NONE]}}]),Hn=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===e&&r.isInResult()&&(e=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;t=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;t.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new fe("no outgoing dirEdge found",this.getCoordinate());F.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}}},{key:"insert",value:function(e){var t=e;this.insertEdgeEnd(t,t)}},{key:"getRightmostEdge",value:function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var i=e.get(t-1),r=n.getQuadrant(),o=i.getQuadrant();return Xt.isNorthern(r)&&Xt.isNorthern(o)?n:Xt.isNorthern(r)||Xt.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(F.shouldNeverReachHere("found two horizontal edges incident on node"),null):i}},{key:"print",value:function(e){xe.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ge;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===t&&(t=r),null!==e&&r.setNext(e),e=i}t.setNext(e)}},{key:"computeDepths",value:function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(J.LEFT),i=e.getDepth(J.RIGHT),r=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,r)!==i)throw new fe("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var l=this._edgeList.get(a);l.setEdgeDepths(J.RIGHT,s),s=l.getDepth(J.LEFT)}return s}}},{key:"mergeSymLabels",value:function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(e){for(var t=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===t&&o.getEdgeRing()===e&&(t=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==e)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==e)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(F.isTrue(null!==t,"found null for first outgoing dirEdge"),F.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var e=Y.NONE,t=this.iterator();t.hasNext();){var n=t.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=Y.INTERIOR;break}if(i.isInResult()){e=Y.EXTERIOR;break}}}if(e===Y.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===Y.INTERIOR):(s.isInResult()&&(r=Y.EXTERIOR),a.isInResult()&&(r=Y.INTERIOR))}}},{key:"computeLabelling",value:function(e){h(i,"computeLabelling",this,1).call(this,e),this._label=new Pt(Y.NONE);for(var t=this.iterator();t.hasNext();)for(var n=t.next().getEdge().getLabel(),r=0;r<2;r++){var o=n.getLocation(r);o!==Y.INTERIOR&&o!==Y.BOUNDARY||this._label.setLocation(r,Y.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Gn),Yn=function(e){function i(){return n(this,i),t(this,i)}return u(i,e),o(i,[{key:"createNode",value:function(e){return new zt(e,new Hn)}}])}(Kt),Wn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"compareTo",value:function(t){var n=t;return e.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)}},{key:"orientation",value:function(e){return 1===Xe.increasingDirection(e)}},{key:"compareOriented",value:function(e,t,n,i){for(var r=t?1:-1,o=i?1:-1,s=t?e.length:-1,a=i?n.length:-1,l=t?0:e.length-1,u=i?0:n.length-1;;){var c=e[l].compareTo(n[u]);if(0!==c)return c;var d=(l+=r)===s,h=(u+=o)===a;if(d&&!h)return-1;if(!d&&h)return 1;if(d&&h)return 0}}}])}(),Xn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"print",value:function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&e.print(","),e.print(i[r].x+" "+i[r].y);e.println(")")}e.print(")  ")}},{key:"addAll",value:function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())}},{key:"findEdgeIndex",value:function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(e){return this._edges.get(e)}},{key:"findEqualEdge",value:function(e){var t=new Wn(e.getCoordinates());return this._ocaMap.get(t)}},{key:"add",value:function(e){this._edges.add(e);var t=new Wn(e.getCoordinates());this._ocaMap.put(t,e)}}],[{key:"constructor_",value:function(){this._edges=new ge,this._ocaMap=new Yt}}]),$n=o(function e(){n(this,e)},[{key:"processIntersections",value:function(e,t,n,i){}},{key:"isDone",value:function(){}}]),Zn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isTrivialIntersection",value:function(t,n,i,r){if(t===i&&1===this._li.getIntersectionNum()){if(e.isAdjacentSegments(n,r))return!0;if(t.isClosed()){var o=t.size()-1;if(0===n&&r===o||0===r&&n===o)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,t,n,i){if(e===n&&t===i)return null;this.numTests++;var r=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,i)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[$n]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,t){return 1===Math.abs(e-t)}}])}(),Kn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)}},{key:"compareTo",value:function(e){var t=e;return this.compare(t.segmentIndex,t.dist)}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new q(e),this.segmentIndex=t,this.dist=n}}]),Qn=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var i=t.next(),r=this.createSplitEdge(n,i);e.add(r),n=i}}},{key:"addEndpoints",value:function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}},{key:"createSplitEdge",value:function(e,t){var n=t.segmentIndex-e.segmentIndex+2,i=this.edge.pts[t.segmentIndex],r=t.dist>0||!t.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new q(e.coord);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=t.coord),new ri(o,new Pt(this.edge._label))}},{key:"add",value:function(e,t,n){var i=new Kn(e,t,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)}},{key:"isIntersection",value:function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Yt,this.edge=null;var e=arguments[0];this.edge=e}}]),Jn=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])||e.isTrue(this._matrix[Y.INTERIOR][Y.BOUNDARY])||e.isTrue(this._matrix[Y.BOUNDARY][Y.INTERIOR])||e.isTrue(this._matrix[Y.BOUNDARY][Y.BOUNDARY]))&&this._matrix[Y.EXTERIOR][Y.INTERIOR]===Ce.FALSE&&this._matrix[Y.EXTERIOR][Y.BOUNDARY]===Ce.FALSE}},{key:"isCoveredBy",value:function(){return(e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])||e.isTrue(this._matrix[Y.INTERIOR][Y.BOUNDARY])||e.isTrue(this._matrix[Y.BOUNDARY][Y.INTERIOR])||e.isTrue(this._matrix[Y.BOUNDARY][Y.BOUNDARY]))&&this._matrix[Y.INTERIOR][Y.EXTERIOR]===Ce.FALSE&&this._matrix[Y.BOUNDARY][Y.EXTERIOR]===Ce.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),i=t%3;this._matrix[n][i]=Ce.toDimensionValue(e.charAt(t))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._matrix[r][o]=s}}},{key:"isContains",value:function(){return e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])&&this._matrix[Y.EXTERIOR][Y.INTERIOR]===Ce.FALSE&&this._matrix[Y.EXTERIOR][Y.BOUNDARY]===Ce.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),i=t%3;this.setAtLeast(n,i,Ce.toDimensionValue(e.charAt(t)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._matrix[r][o]<s&&(this._matrix[r][o]=s)}}},{key:"setAtLeastIfValid",value:function(e,t,n){e>=0&&t>=0&&this.setAtLeast(e,t,n)}},{key:"isWithin",value:function(){return e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])&&this._matrix[Y.INTERIOR][Y.EXTERIOR]===Ce.FALSE&&this._matrix[Y.BOUNDARY][Y.EXTERIOR]===Ce.FALSE}},{key:"isTouches",value:function(t,n){return t>n?this.isTouches(n,t):(t===Ce.A&&n===Ce.A||t===Ce.L&&n===Ce.L||t===Ce.L&&n===Ce.A||t===Ce.P&&n===Ce.A||t===Ce.P&&n===Ce.L)&&this._matrix[Y.INTERIOR][Y.INTERIOR]===Ce.FALSE&&(e.isTrue(this._matrix[Y.INTERIOR][Y.BOUNDARY])||e.isTrue(this._matrix[Y.BOUNDARY][Y.INTERIOR])||e.isTrue(this._matrix[Y.BOUNDARY][Y.BOUNDARY]))}},{key:"isOverlaps",value:function(t,n){return t===Ce.P&&n===Ce.P||t===Ce.A&&n===Ce.A?e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])&&e.isTrue(this._matrix[Y.INTERIOR][Y.EXTERIOR])&&e.isTrue(this._matrix[Y.EXTERIOR][Y.INTERIOR]):t===Ce.L&&n===Ce.L&&1===this._matrix[Y.INTERIOR][Y.INTERIOR]&&e.isTrue(this._matrix[Y.INTERIOR][Y.EXTERIOR])&&e.isTrue(this._matrix[Y.EXTERIOR][Y.INTERIOR])}},{key:"isEquals",value:function(t,n){return t===n&&e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])&&this._matrix[Y.INTERIOR][Y.EXTERIOR]===Ce.FALSE&&this._matrix[Y.BOUNDARY][Y.EXTERIOR]===Ce.FALSE&&this._matrix[Y.EXTERIOR][Y.INTERIOR]===Ce.FALSE&&this._matrix[Y.EXTERIOR][Y.BOUNDARY]===Ce.FALSE}},{key:"toString",value:function(){for(var e=new Ke("123456789"),t=0;t<3;t++)for(var n=0;n<3;n++)e.setCharAt(3*t+n,Ce.toDimensionSymbol(this._matrix[t][n]));return e.toString()}},{key:"setAll",value:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this._matrix[t][n]=e}},{key:"get",value:function(e,t){return this._matrix[e][t]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(t){if(9!==t.length)throw new x("Should be length 9: "+t);for(var n=0;n<3;n++)for(var i=0;i<3;i++)if(!e.matches(this._matrix[n][i],t.charAt(3*n+i)))return!1;return!0}},{key:"add",value:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this.setAtLeast(t,n,e.get(t,n))}},{key:"isDisjoint",value:function(){return this._matrix[Y.INTERIOR][Y.INTERIOR]===Ce.FALSE&&this._matrix[Y.INTERIOR][Y.BOUNDARY]===Ce.FALSE&&this._matrix[Y.BOUNDARY][Y.INTERIOR]===Ce.FALSE&&this._matrix[Y.BOUNDARY][Y.BOUNDARY]===Ce.FALSE}},{key:"isCrosses",value:function(t,n){return t===Ce.P&&n===Ce.L||t===Ce.P&&n===Ce.A||t===Ce.L&&n===Ce.A?e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])&&e.isTrue(this._matrix[Y.INTERIOR][Y.EXTERIOR]):t===Ce.L&&n===Ce.P||t===Ce.A&&n===Ce.P||t===Ce.A&&n===Ce.L?e.isTrue(this._matrix[Y.INTERIOR][Y.INTERIOR])&&e.isTrue(this._matrix[Y.EXTERIOR][Y.INTERIOR]):t===Ce.L&&n===Ce.L&&0===this._matrix[Y.INTERIOR][Y.INTERIOR]}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Ce.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];e.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof e){var n=arguments[0];e.constructor_.call(this),this._matrix[Y.INTERIOR][Y.INTERIOR]=n._matrix[Y.INTERIOR][Y.INTERIOR],this._matrix[Y.INTERIOR][Y.BOUNDARY]=n._matrix[Y.INTERIOR][Y.BOUNDARY],this._matrix[Y.INTERIOR][Y.EXTERIOR]=n._matrix[Y.INTERIOR][Y.EXTERIOR],this._matrix[Y.BOUNDARY][Y.INTERIOR]=n._matrix[Y.BOUNDARY][Y.INTERIOR],this._matrix[Y.BOUNDARY][Y.BOUNDARY]=n._matrix[Y.BOUNDARY][Y.BOUNDARY],this._matrix[Y.BOUNDARY][Y.EXTERIOR]=n._matrix[Y.BOUNDARY][Y.EXTERIOR],this._matrix[Y.EXTERIOR][Y.INTERIOR]=n._matrix[Y.EXTERIOR][Y.INTERIOR],this._matrix[Y.EXTERIOR][Y.BOUNDARY]=n._matrix[Y.EXTERIOR][Y.BOUNDARY],this._matrix[Y.EXTERIOR][Y.EXTERIOR]=n._matrix[Y.EXTERIOR][Y.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return n===Ce.SYM_DONTCARE||n===Ce.SYM_TRUE&&(t>=0||t===Ce.TRUE)||n===Ce.SYM_FALSE&&t===Ce.FALSE||n===Ce.SYM_P&&t===Ce.P||n===Ce.SYM_L&&t===Ce.L||n===Ce.SYM_A&&t===Ce.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var i=arguments[1];return new e(arguments[0]).matches(i)}}},{key:"isTrue",value:function(e){return e>=0||e===Ce.TRUE}}])}(),ei=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return null===e||0===e.length?null:(this.ensureCapacity(this._size+e.length),xe.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var t=Math.max(e,2*this._data.length);this._data=Pe.copyOf(this._data,t)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return xe.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)e.constructor_.call(this,10);else if(1===arguments.length){var t=arguments[0];this._data=new Array(t).fill(null)}}}])}(),ti=function(){function e(){n(this,e)}return o(e,[{key:"getChainStartIndices",value:function(e){var t=0,n=new ei(Math.trunc(e.length/2));n.add(t);do{var i=this.findChainEnd(e,t);n.add(i),t=i}while(t<e.length-1);return n.toArray()}},{key:"findChainEnd",value:function(e,t){for(var n=Xt.quadrant(e[t],e[t+1]),i=t+1;i<e.length&&Xt.quadrant(e[i-1],e[i])===n;)i++;return i-1}},{key:"OLDgetChainStartIndices",value:function(t){var n=0,i=new ge;i.add(n);do{var r=this.findChainEnd(t,n);i.add(r),n=r}while(n<t.length-1);return e.toIntArray(i)}}],[{key:"toIntArray",value:function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t}}])}(),ni=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n}},{key:"getMinX",value:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5];if(o-r==1&&l-a==1)return u.addIntersections(this.e,r,s.e,a),null;if(!this.overlaps(r,o,s,a,l))return null;var c=Math.trunc((r+o)/2),d=Math.trunc((a+l)/2);r<c&&(a<d&&this.computeIntersectsForChain(r,c,s,a,d,u),d<l&&this.computeIntersectsForChain(r,c,s,d,l,u)),c<o&&(a<d&&this.computeIntersectsForChain(c,o,s,a,d,u),d<l&&this.computeIntersectsForChain(c,o,s,d,l,u))}}},{key:"overlaps",value:function(e,t,n,i,r){return G.intersects(this.pts[e],this.pts[t],n.pts[i],n.pts[r])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<e.startIndex.length-1;i++)this.computeIntersectsForChain(n,e,i,t)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new ti;this.startIndex=t.getChainStartIndices(this.pts)}}]),ii=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"getDepth",value:function(e,t){return this._depth[e][t]}},{key:"setDepth",value:function(e,t,n){this._depth[e][t]=n}},{key:"isNull",value:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(this._depth[t][n]!==e.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===e.NULL_VALUE}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._depth[r][o]===e.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var i=0;this._depth[e][n]>t&&(i=1),this._depth[e][n]=i}}}},{key:"getDelta",value:function(e){return this._depth[e][J.RIGHT]-this._depth[e][J.LEFT]}},{key:"getLocation",value:function(e,t){return this._depth[e][t]<=0?Y.EXTERIOR:Y.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var t=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var r=t.getLocation(n,i);r!==Y.EXTERIOR&&r!==Y.INTERIOR||(this.isNull(n,i)?this._depth[n][i]=e.depthAtLocation(r):this._depth[n][i]+=e.depthAtLocation(r))}else if(3===arguments.length){var o=arguments[0],s=arguments[1];arguments[2]===Y.INTERIOR&&this._depth[o][s]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE}},{key:"depthAtLocation",value:function(t){return t===Y.EXTERIOR?0:t===Y.INTERIOR?1:e.NULL_VALUE}}])}();ii.NULL_VALUE=-1;var ri=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new i(e,Pt.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(e){this._isIsolated=e}},{key:"setName",value:function(e){this._name=e}},{key:"equals",value:function(e){if(!(e instanceof i))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var n=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(t.pts[s])||(n=!1),this.pts[s].equals2D(t.pts[--o])||(r=!1),!n&&!r)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}}},{key:"print",value:function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(e){i.updateIM(this._label,e)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new ni(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new G;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}},{key:"addIntersection",value:function(e,t,n,i){var r=new q(e.getIntersection(i)),o=t,s=e.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var l=this.pts[a];r.equals2D(l)&&(o=a,s=0)}this.eiList.add(r,o,s)}},{key:"toString",value:function(){var e=new Ke;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()}},{key:"isPointwiseEqual",value:function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0}},{key:"setDepthDelta",value:function(e){this._depthDelta=e}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(e,t,n){for(var i=0;i<e.getIntersectionNum();i++)this.addIntersection(e,t,n,i)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ii,this._depthDelta=0,1===arguments.length){var e=arguments[0];i.constructor_.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.pts=t,this._label=n}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Jn&&arguments[0]instanceof Pt))return h(i,"updateIM",this).apply(this,arguments);var e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,J.ON),e.getLocation(1,J.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,J.LEFT),e.getLocation(1,J.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,J.RIGHT),e.getLocation(1,J.RIGHT),2))}}])}(Ft),oi=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(t){var n=this._edgeList.findEqualEdge(t);if(null!==n){var i=n.getLabel(),r=t.getLabel();n.isPointwiseEqual(t)||(r=new Pt(t.getLabel())).flip(),i.merge(r);var o=e.depthDelta(r),s=n.getDepthDelta()+o;n.setDepthDelta(s)}else this._edgeList.add(t),t.setDepthDelta(e.depthDelta(t.getLabel()))}},{key:"buildSubgraphs",value:function(e,t){for(var n=new ge,i=e.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new An(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),t.add(r.getDirectedEdges(),r.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var t=new ge,n=e.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new me;r.create(i),t.add(r)}}return sn.sort(t,sn.reverseOrder()),t}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new In,n=new Tt;return n.setPrecisionModel(e),t.setSegmentIntersector(new Zn(n)),t}},{key:"buffer",value:function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var i=new Pn(n,this._bufParams),r=new Bn(e,t,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Qt(new Yn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Jt(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)}},{key:"computeNodedEdges",value:function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new ri(r.getCoordinates(),new Pt(s));this.insertUniqueEdge(a)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Xn;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var t=e.getLocation(0,J.LEFT),n=e.getLocation(0,J.RIGHT);return t===Y.INTERIOR&&n===Y.EXTERIOR?1:t===Y.EXTERIOR&&n===Y.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var t=new st,n=new ge;e.hasNext();){var i=e.next(),r=t.createLineString(i.getCoordinates());n.add(r)}return t.buildGeometry(n)}}])}(),si=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"rescale",value:function(){if(re(arguments[0],W))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&xe.out.println(n)}}},{key:"scale",value:function(){if(re(arguments[0],W)){for(var e=arguments[0],t=new ge(e.size()),n=e.iterator();n.hasNext();){var i=n.next();t.add(new bn(this.scale(i.getCoordinates()),i.getData()))}return t}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new q(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].getZ());return Xe.removeRepeatedPoints(o)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}},{key:"interfaces_",get:function(){return[Nn]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],n=arguments[1];e.constructor_.call(this,t,n,0,0)}else if(4===arguments.length){var i=arguments[0],r=arguments[1];this._noder=i,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}}])}(),ai=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new M("found endpt/interior pt intersection at index "+o+" :pt "+n)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(t,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),l=0;l<s.length-1;l++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(r,l,o,u);else if(4===arguments.length){var c=arguments[0],d=arguments[1],h=arguments[2],f=arguments[3];if(c===h&&d===f)return null;var p=c.getCoordinates()[d],g=c.getCoordinates()[d+1],v=h.getCoordinates()[f],m=h.getCoordinates()[f+1];if(this._li.computeIntersection(p,g,v,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,g)||this.hasInteriorIntersection(this._li,v,m)))throw new M("found non-noded intersection at "+p+"-"+g+" and "+v+"-"+m)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])}},{key:"hasInteriorIntersection",value:function(e,t,n){for(var i=0;i<e.getIntersectionNum();i++){var r=e.getIntersection(i);if(!r.equals(t)&&!r.equals(n))return!0}return!1}},{key:"checkCollapse",value:function(t,n,i){if(t.equals(i))throw new M("found non-noded collapse at "+e.fact.createLineString([t,n,i]))}}],[{key:"constructor_",value:function(){this._li=new Tt,this._segStrings=null;var e=arguments[0];this._segStrings=e}}])}();ai.fact=new st;var li=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"intersectsScaled",value:function(e,t){var n=Math.min(e.x,t.x),i=Math.max(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.y,t.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(e,t);return F.isTrue(!(s&&a),"Found bad envelope test"),a}},{key:"initCorners",value:function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new q(this._maxx,this._maxy),this._corner[1]=new q(this._minx,this._maxy),this._corner[2]=new q(this._minx,this._miny),this._corner[3]=new q(this._maxx,this._miny)}},{key:"intersects",value:function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var t=e.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new G(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(e,t){var n=!1,i=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!i)||!!e.equals(this._pt)||!!t.equals(this._pt))))}},{key:"addSnappedNode",value:function(e,t){var n=e.getCoordinate(t),i=e.getCoordinate(t+1);return!!this.intersects(n,i)&&(e.addIntersection(this.getCoordinate(),t),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new x("Scale factor must be non-zero");1!==t&&(this._pt=new q(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new q,this._p1Scaled=new q),this.initCorners(this._pt)}}])}();li.SAFE_ENV_EXPANSION_FACTOR=.75;var ui=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new kn}}]),ci=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],i=arguments[1],r=arguments[2],s=t.getSafeEnvelope(),a=new di(t,i,r);return this._index.query(s,new(o(function e(){n(this,e)},[{key:"interfaces_",get:function(){return[un]}},{key:"visitItem",value:function(e){e.select(s,a)}}]))),a.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var e=arguments[0];this._index=e}}]),di=function(e){function i(){var e;return n(this,i),e=t(this,i),i.constructor_.apply(e,arguments),e}return u(i,e),o(i,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof Sn))return h(i,"select",this,1).apply(this,arguments);var e=arguments[1],t=arguments[0].getContext();if(this._parentEdge===t&&(e===this._hotPixelVertexIndex||e+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(t,e)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=n}}])}(ui);ci.HotPixelSnapAction=di;var hi=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(e,t,n,i){if(e===n&&t===i)return null;var r=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,i,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[$n]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ge}}]),fi=o(function e(){n(this,e),e.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(e){var t=bn.getNodedSubstrings(e),n=new ai(t);try{n.checkValid()}catch(e){if(!(e instanceof y))throw e;e.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return bn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)}},{key:"findInteriorIntersections",value:function(e,t){var n=new hi(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(re(arguments[0],W))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof bn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new li(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e,this._noder=new In,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(e,this._li)}},{key:"computeIntersectionSnaps",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),i=new li(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}}},{key:"interfaces_",get:function(){return[Nn]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Tt,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}}]),pi=function(){function e(){n(this,e),e.constructor_.apply(this,arguments)}return o(e,[{key:"bufferFixedPrecision",value:function(e){var t=new si(new fi(new it(1)),e.getScale()),n=new oi(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var t=e.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(e){if(!(e instanceof fe))throw e;this._saveException=e}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=e.precisionScaleFactor(this._argGeom,this._distance,n),r=new it(i);this.bufferFixedPrecision(r)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===it.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new oi(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof M))throw e;this._saveException=e}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new m,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}}},{key:"bufferOp",value:function(){if(2===arguments.length){var t=arguments[1];return new e(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof H&&"number"==typeof arguments[1]){var n=arguments[1],i=arguments[2],r=new e(arguments[0]);return r.setQuadrantSegments(i),r.getResultGeometry(n)}if(arguments[2]instanceof m&&arguments[0]instanceof H&&"number"==typeof arguments[1]){var o=arguments[1];return new e(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var s=arguments[1],a=arguments[2],l=arguments[3],u=new e(arguments[0]);return u.setQuadrantSegments(a),u.setEndCapStyle(l),u.getResultGeometry(s)}}},{key:"precisionScaleFactor",value:function(e,t,n){var i=e.getEnvelopeInternal(),r=_e.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(t>0?t:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)}}])}();pi.CAP_ROUND=m.CAP_ROUND,pi.CAP_BUTT=m.CAP_FLAT,pi.CAP_FLAT=m.CAP_FLAT,pi.CAP_SQUARE=m.CAP_SQUARE,pi.MAX_PRECISION_DIGITS=12;var gi=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],vi=o(function e(t){n(this,e),this.geometryFactory=t||new st},[{key:"read",value:function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!mi[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==gi.indexOf(n)?mi[n].call(this,t.coordinates):"GeometryCollection"===n?mi[n].call(this,t.geometries):mi[n].call(this,t)}},{key:"write",value:function(e){var t=e.getGeometryType();if(!yi[t])throw new Error("Geometry is not supported");return yi[t].call(this,e)}}]),mi={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var i=e.geometry.type;if(!mi[i])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=mi.bbox.call(this,e.bbox)),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.call(this,e.bbox)),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(i(q,f(r)))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new q(e[0],e[1]),new q(e[2],e[1]),new q(e[2],e[3]),new q(e[0],e[3]),new q(e[0],e[1])])},Point:function(e){var t=i(q,f(e));return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(mi.Point.call(this,e[n]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=mi.coordinates.call(this,e);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(mi.LineString.call(this,e[n]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=mi.coordinates.call(this,e[0]),n=this.geometryFactory.createLinearRing(t),i=[],r=1;r<e.length;++r){var o=e[r],s=mi.coordinates.call(this,o),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(mi.Polygon.call(this,i))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(this.read(i))}return this.geometryFactory.createGeometryCollection(t)}},yi={coordinate:function(e){var t=[e.x,e.y];return e.z&&t.push(e.z),e.m&&t.push(e.m),t},Point:function(e){return{type:"Point",coordinates:yi.coordinate.call(this,e.getCoordinate())}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=yi.Point.call(this,i);t.push(r.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),i=0;i<n.length;++i){var r=n[i];t.push(yi.coordinate.call(this,r))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=yi.LineString.call(this,i);t.push(r.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=yi.LineString.call(this,e._shell);t.push(n.coordinates);for(var i=0;i<e._holes.length;++i){var r=e._holes[i],o=yi.LineString.call(this,r);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=yi.Polygon.call(this,i);t.push(r.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var i=e._geometries[n],r=i.getGeometryType();t.push(yi[r].call(this,i))}return{type:"GeometryCollection",geometries:t}}};return{BufferOp:pi,GeoJSONReader:o(function e(t){n(this,e),this.parser=new vi(t||new st)},[{key:"read",value:function(e){return this.parser.read(e)}}]),GeoJSONWriter:o(function e(){n(this,e),this.parser=new vi(this.geometryFactory)},[{key:"write",value:function(e){return this.parser.write(e)}}])}}()},219:(e,t,n)=>{"use strict";var i=n(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&e(t,r,i)}var s=c(n);d&&(s=s.concat(d(n)));for(var a=l(t),g=l(n),v=0;v<s.length;++v){var m=s[v];if(!o[m]&&(!i||!i[m])&&(!g||!g[m])&&(!a||!a[m])){var y=h(n,m);try{u(t,m,y)}catch(x){}}}}return t}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var _=x.prototype=new y;_.constructor=x,g(_,m.prototype),_.isPureReactComponent=!0;var b=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},w=Object.prototype.hasOwnProperty;function S(e,t,i,r,o,s){return i=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function j(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case i:c=!0;break;case h:return j((c=e._init)(e._payload),t,r,o,s)}}if(c)return s=s(e),c=""===o?"."+C(e,0):o,b(s)?(r="",null!=c&&(r=c.replace(N,"$&/")+"/"),j(s,t,r,"",function(e){return e})):null!=s&&(E(s)&&(l=s,u=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+c,s=S(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var d,p=""===o?".":o+":";if(b(e))for(var g=0;g<e.length;g++)c+=j(o=e[g],t,r,a=p+C(o,g),s);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)c+=j(o=o.value,t,r,a=p+C(o,g++),s);else if("object"===a){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function T(e,t,n){if(null==e)return e;var i=[],r=0;return j(e,i,"","",function(e){return t.call(n,e,r++)}),i}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=s,t.PureComponent=x,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!w.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(i[o]=t[o]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];i.children=s}return S(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,r={},o=null;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return S(e,o,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var i=e(),r=k.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(L,O)}catch(o){O(o)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=u(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},763:(e,t,n)=>{"use strict";e.exports=n(983)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var o in i={},t)"key"!==o&&(i[o]=t[o]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},914:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[a]=n,i=a);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function k(e){if(v=!1,b(e),!g)if(null!==i(u))g=!0,S||(S=!0,w());else{var t=i(c);null!==t&&O(k,t.startTime-e)}}var w,S=!1,E=-1,N=5,C=-1;function I(){return!!m||!(t.unstable_now()-C<N)}function j(){if(m=!1,S){var e=t.unstable_now();C=e;var n=!0;try{e:{g=!1,v&&(v=!1,x(E),E=-1),p=!0;var o=f;try{t:{for(b(e),h=i(u);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,b(e),n=!0;break t}h===i(u)&&r(u),b(e)}else r(u);h=i(u)}if(null!==h)n=!0;else{var l=i(c);null!==l&&O(k,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?w():S=!1}}}if("function"===typeof _)w=function(){_(j)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=j,w=function(){R.postMessage(null)}}else w=function(){y(j,0)};function O(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(v?(x(E),E=-1):v=!0,O(k,o-s))):(e.sortIndex=a,n(u,e),g||p||(g=!0,S||(S=!0,w()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case v:case g:case l:return e;default:return t}}case r:return t}}}function k(e){return b(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||b(e)===c},t.isConcurrentMode=k,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===a},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===_||e.$$typeof===m)},t.typeOf=b}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>i[e]);return s.default=()=>i,n.d(o,s),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".4b17ad0e.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="zoning-viewer:";n.l=(i,r,o,s)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=i),e[i]=[r];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((n,i)=>r=e[t]=[n,i]);i.push(r[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,o,s=i[0],a=i[1],l=i[2],u=0;if(s.some(t=>0!==e[t])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkzoning_viewer=self.webpackChunkzoning_viewer||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>So,hasStandardBrowserEnv:()=>No,hasStandardBrowserWebWorkerEnv:()=>Co,navigator:()=>Eo,origin:()=>Io});var t=n(43),i=n.t(t,2),r=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g.apply(null,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}function _(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(ln){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),w=Math.abs,S=String.fromCharCode,E=Object.assign;function N(e){return e.trim()}function C(e,t,n){return e.replace(t,n)}function I(e,t){return e.indexOf(t)}function j(e,t){return 0|e.charCodeAt(t)}function T(e,t,n){return e.slice(t,n)}function R(e){return e.length}function O(e){return e.length}function L(e,t){return t.push(e),e}var P=1,A=1,M=0,D=0,F=0,z="";function B(e,t,n,i,r,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:P,column:A,length:s,return:""}}function U(e,t){return E(B("",null,null,"",null,null,0),e,{length:-e.length},t)}function q(){return F=D>0?j(z,--D):0,A--,10===F&&(A=1,P--),F}function V(){return F=D<M?j(z,D++):0,A++,10===F&&(A=1,P++),F}function G(){return j(z,D)}function H(){return D}function Y(e,t){return T(z,e,t)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function X(e){return P=A=1,M=R(z=e),D=0,[]}function $(e){return z="",e}function Z(e){return N(Y(D-1,J(91===e?e+2:40===e?e+1:e)))}function K(e){for(;(F=G())&&F<33;)V();return W(e)>2||W(F)>3?"":" "}function Q(e,t){for(;--t&&V()&&!(F<48||F>102||F>57&&F<65||F>70&&F<97););return Y(e,H()+(t<6&&32==G()&&32==V()))}function J(e){for(;V();)switch(F){case e:return D;case 34:case 39:34!==e&&39!==e&&J(F);break;case 40:41===e&&J(e);break;case 92:V()}return D}function ee(e,t){for(;V()&&e+F!==57&&(e+F!==84||47!==G()););return"/*"+Y(t,D-1)+"*"+S(47===e?e:V())}function te(e){for(;!W(G());)V();return Y(e,D)}var ne="-ms-",ie="-moz-",re="-webkit-",oe="comm",se="rule",ae="decl",le="@keyframes";function ue(e,t){for(var n="",i=O(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function ce(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ae:return e.return=e.return||e.value;case oe:return"";case le:return e.return=e.value+"{"+ue(e.children,i)+"}";case se:e.value=e.props.join(",")}return R(n=ue(e.children,i))?e.return=e.value+"{"+n+"}":""}function de(e){return $(he("",null,null,null,[""],e=X(e),0,[0],e))}function he(e,t,n,i,r,o,s,a,l){for(var u=0,c=0,d=s,h=0,f=0,p=0,g=1,v=1,m=1,y=0,x="",_=r,b=o,k=i,w=x;v;)switch(p=y,y=V()){case 40:if(108!=p&&58==j(w,d-1)){-1!=I(w+=C(Z(y),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:w+=Z(y);break;case 9:case 10:case 13:case 32:w+=K(p);break;case 92:w+=Q(H()-1,7);continue;case 47:switch(G()){case 42:case 47:L(pe(ee(V(),H()),t,n),l);break;default:w+="/"}break;case 123*g:a[u++]=R(w)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:-1==m&&(w=C(w,/\f/g,"")),f>0&&R(w)-d&&L(f>32?ge(w+";",i,n,d-1):ge(C(w," ","")+";",i,n,d-2),l);break;case 59:w+=";";default:if(L(k=fe(w,t,n,u,c,r,a,x,_=[],b=[],d),o),123===y)if(0===c)he(w,t,k,k,_,o,d,a,b);else switch(99===h&&110===j(w,3)?100:h){case 100:case 108:case 109:case 115:he(e,k,k,i&&L(fe(e,k,k,0,0,r,a,x,r,_=[],d),b),r,b,d,a,i?_:b);break;default:he(w,k,k,k,[""],b,0,a,b)}}u=c=f=0,g=m=1,x=w="",d=s;break;case 58:d=1+R(w),f=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==q())continue;switch(w+=S(y),y*g){case 38:m=c>0?1:(w+="\f",-1);break;case 44:a[u++]=(R(w)-1)*m,m=1;break;case 64:45===G()&&(w+=Z(V())),h=G(),c=d=R(x=w+=te(H())),y++;break;case 45:45===p&&2==R(w)&&(g=0)}}return o}function fe(e,t,n,i,r,o,s,a,l,u,c){for(var d=r-1,h=0===r?o:[""],f=O(h),p=0,g=0,v=0;p<i;++p)for(var m=0,y=T(e,d+1,d=w(g=s[p])),x=e;m<f;++m)(x=N(g>0?h[m]+" "+y:C(y,/&\f/g,h[m])))&&(l[v++]=x);return B(e,t,n,0===r?se:a,l,u,c)}function pe(e,t,n){return B(e,t,n,oe,S(F),T(e,2,-2),0)}function ge(e,t,n,i){return B(e,t,n,ae,T(e,0,i),T(e,i+1,-1),i)}var ve=function(e,t,n){for(var i=0,r=0;i=r,r=G(),38===i&&12===r&&(t[n]=1),!W(r);)V();return Y(e,D)},me=function(e,t){return $(function(e,t){var n=-1,i=44;do{switch(W(i)){case 0:38===i&&12===G()&&(t[n]=1),e[n]+=ve(D-1,t,n);break;case 2:e[n]+=Z(i);break;case 4:if(44===i){e[++n]=58===G()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=S(i)}}while(i=V());return e}(X(e),t))},ye=new WeakMap,xe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ye.get(n))&&!i){ye.set(e,!0);for(var r=[],o=me(t,r),s=n.props,a=0,l=0;a<o.length;a++)for(var u=0;u<s.length;u++,l++)e.props[l]=r[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},_e=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function be(e,t){switch(function(e,t){return 45^j(e,0)?(((t<<2^j(e,0))<<2^j(e,1))<<2^j(e,2))<<2^j(e,3):0}(e,t)){case 5103:return re+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return re+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return re+e+ie+e+ne+e+e;case 6828:case 4268:return re+e+ne+e+e;case 6165:return re+e+ne+"flex-"+e+e;case 5187:return re+e+C(e,/(\w+).+(:[^]+)/,re+"box-$1$2"+ne+"flex-$1$2")+e;case 5443:return re+e+ne+"flex-item-"+C(e,/flex-|-self/,"")+e;case 4675:return re+e+ne+"flex-line-pack"+C(e,/align-content|flex-|-self/,"")+e;case 5548:return re+e+ne+C(e,"shrink","negative")+e;case 5292:return re+e+ne+C(e,"basis","preferred-size")+e;case 6060:return re+"box-"+C(e,"-grow","")+re+e+ne+C(e,"grow","positive")+e;case 4554:return re+C(e,/([^-])(transform)/g,"$1"+re+"$2")+e;case 6187:return C(C(C(e,/(zoom-|grab)/,re+"$1"),/(image-set)/,re+"$1"),e,"")+e;case 5495:case 3959:return C(e,/(image-set\([^]*)/,re+"$1$`$1");case 4968:return C(C(e,/(.+:)(flex-)?(.*)/,re+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+re+e+e;case 4095:case 3583:case 4068:case 2532:return C(e,/(.+)-inline(.+)/,re+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(R(e)-1-t>6)switch(j(e,t+1)){case 109:if(45!==j(e,t+4))break;case 102:return C(e,/(.+:)(.+)-([^]+)/,"$1"+re+"$2-$3$1"+ie+(108==j(e,t+3)?"$3":"$2-$3"))+e;case 115:return~I(e,"stretch")?be(C(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==j(e,t+1))break;case 6444:switch(j(e,R(e)-3-(~I(e,"!important")&&10))){case 107:return C(e,":",":"+re)+e;case 101:return C(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+re+(45===j(e,14)?"inline-":"")+"box$3$1"+re+"$2$3$1"+ne+"$2box$3")+e}break;case 5936:switch(j(e,t+11)){case 114:return re+e+ne+C(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return re+e+ne+C(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return re+e+ne+C(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return re+e+ne+e+e}return e}var ke=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case ae:e.return=be(e.value,e.length);break;case le:return ue([U(e,{value:C(e.value,"@","@"+re)})],i);case se:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ue([U(e,{props:[C(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return ue([U(e,{props:[C(t,/:(plac\w+)/,":"+re+"input-$1")]}),U(e,{props:[C(t,/:(plac\w+)/,":-moz-$1")]}),U(e,{props:[C(t,/:(plac\w+)/,ne+"input-$1")]})],i)}return""})}}],we=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i,r,o=e.stylisPlugins||ke,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)});var l,u,c=[ce,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=O(e);return function(n,i,r,o){for(var s="",a=0;a<t;a++)s+=e[a](n,i,r,o)||"";return s}}([xe,_e].concat(o,c));r=function(e,t,n,i){l=n,ue(de(e?e+"{"+t.styles+"}":t.styles),d),i&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new k({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:r};return h.sheet.hydrate(a),h};var Se=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};var Ee={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ne(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ce=/[A-Z]|^ms/g,Ie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,je=function(e){return 45===e.charCodeAt(1)},Te=function(e){return null!=e&&"boolean"!==typeof e},Re=Ne(function(e){return je(e)?e:e.replace(Ce,"-$&").toLowerCase()}),Oe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ie,function(e,t,n){return Pe={name:t,styles:n,next:Pe},t})}return 1===Ee[e]||je(e)||"number"!==typeof t||0===t?t:t+"px"};function Le(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return Pe={name:r.name,styles:r.styles,next:Pe},r.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)Pe={name:s.name,styles:s.styles,next:Pe},s=s.next;return o.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Le(e,t,n[r])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":Te(a)&&(i+=Re(o)+":"+Oe(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Le(e,t,s);switch(o){case"animation":case"animationName":i+=Re(o)+":"+l+";";break;default:i+=o+"{"+l+"}"}}else for(var u=0;u<s.length;u++)Te(s[u])&&(i+=Re(o)+":"+Oe(o,s[u])+";")}return i}(e,t,n);case"function":if(void 0!==e){var a=Pe,l=n(e);return Pe=a,Le(e,t,l)}}var u=n;if(null==t)return u;var c=t[u];return void 0!==c?c:u}var Pe,Ae=/label:\s*([^\s;{]+)\s*(;|$)/g;function Me(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";Pe=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=Le(n,t,o)):r+=o[0];for(var s=1;s<e.length;s++){if(r+=Le(n,t,e[s]),i)r+=o[s]}Ae.lastIndex=0;for(var a,l="";null!==(a=Ae.exec(r));)l+="-"+a[1];var u=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:Pe}}var De=!!i.useInsertionEffect&&i.useInsertionEffect,Fe=De||function(e){return e()},ze=(De||t.useLayoutEffect,t.createContext("undefined"!==typeof HTMLElement?we({key:"css"}):null)),Be=(ze.Provider,function(e){return(0,t.forwardRef)(function(n,i){var r=(0,t.useContext)(ze);return e(n,r,i)})}),Ue=t.createContext({});var qe={}.hasOwnProperty,Ve="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ge=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return Se(t,n,i),Fe(function(){return function(e,t,n){Se(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)}),null},He=Be(function(e,n,i){var r=e.css;"string"===typeof r&&void 0!==n.registered[r]&&(r=n.registered[r]);var o=e[Ve],s=[r],a="";"string"===typeof e.className?a=function(e,t,n){var i="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(i+=n+" ")}),i}(n.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=Me(s,void 0,t.useContext(Ue));a+=n.key+"-"+l.name;var u={};for(var c in e)qe.call(e,c)&&"css"!==c&&c!==Ve&&(u[c]=e[c]);return u.className=a,i&&(u.ref=i),t.createElement(t.Fragment,null,t.createElement(Ge,{cache:n,serialized:l,isStringTag:"string"===typeof o}),t.createElement(o,u))}),Ye=He,We=(n(219),function(e,n){var i=arguments;if(null==n||!qe.call(n,"css"))return t.createElement.apply(void 0,i);var r=i.length,o=new Array(r);o[0]=Ye,o[1]=function(e,t){var n={};for(var i in t)qe.call(t,i)&&(n[i]=t[i]);return n[Ve]=e,n}(e,n);for(var s=2;s<r;s++)o[s]=i[s];return t.createElement.apply(null,o)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(We||(We={}));function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me(t)}var $e=n(950);const Ze=Math.min,Ke=Math.max,Qe=Math.round,Je=Math.floor,et=e=>({x:e,y:e});function tt(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function nt(){return"undefined"!==typeof window}function it(e){return st(e)?(e.nodeName||"").toLowerCase():"#document"}function rt(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ot(e){var t;return null==(t=(st(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function st(e){return!!nt()&&(e instanceof Node||e instanceof rt(e).Node)}function at(e){return!!nt()&&(e instanceof Element||e instanceof rt(e).Element)}function lt(e){return!!nt()&&(e instanceof HTMLElement||e instanceof rt(e).HTMLElement)}function ut(e){return!(!nt()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof rt(e).ShadowRoot)}const ct=new Set(["inline","contents"]);function dt(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=gt(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!ct.has(r)}function ht(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const ft=new Set(["html","body","#document"]);function pt(e){return ft.has(it(e))}function gt(e){return rt(e).getComputedStyle(e)}function vt(e){if("html"===it(e))return e;const t=e.assignedSlot||e.parentNode||ut(e)&&e.host||ot(e);return ut(t)?t.host:t}function mt(e){const t=vt(e);return pt(t)?e.ownerDocument?e.ownerDocument.body:e.body:lt(t)&&dt(t)?t:mt(t)}function yt(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=mt(e),o=r===(null==(i=e.ownerDocument)?void 0:i.body),s=rt(r);if(o){const e=xt(s);return t.concat(s,s.visualViewport||[],dt(r)?r:[],e&&n?yt(e):[])}return t.concat(r,yt(r,[],n))}function xt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _t(e){const t=gt(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=lt(e),o=r?e.offsetWidth:n,s=r?e.offsetHeight:i,a=Qe(n)!==o||Qe(i)!==s;return a&&(n=o,i=s),{width:n,height:i,$:a}}function bt(e){return at(e)?e:e.contextElement}function kt(e){const t=bt(e);if(!lt(t))return et(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:o}=_t(t);let s=(o?Qe(n.width):n.width)/i,a=(o?Qe(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const wt=et(0);function St(e){const t=rt(e);return ht()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:wt}function Et(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),o=bt(e);let s=et(1);t&&(i?at(i)&&(s=kt(i)):s=kt(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==rt(e))&&t}(o,n,i)?St(o):et(0);let l=(r.left+a.x)/s.x,u=(r.top+a.y)/s.y,c=r.width/s.x,d=r.height/s.y;if(o){const e=rt(o),t=i&&at(i)?rt(i):i;let n=e,r=xt(n);for(;r&&i&&t!==n;){const e=kt(r),t=r.getBoundingClientRect(),i=gt(r),o=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=s,n=rt(r),r=xt(n)}}return tt({width:c,height:d,x:l,y:u})}function Nt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ct(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:l=!1}=i,c=bt(e),d=r||o?[...c?yt(c):[],...yt(t)]:[];d.forEach(e=>{r&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const h=c&&a?function(e,t){let n,i=null;const r=ot(e);function o(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(a||t(),!f||!p)return;const g={rootMargin:-Je(h)+"px "+-Je(r.clientWidth-(d+f))+"px "+-Je(r.clientHeight-(h+p))+"px "+-Je(d)+"px",threshold:Ke(0,Ze(1,l))||1};let v=!0;function m(t){const i=t[0].intersectionRatio;if(i!==l){if(!v)return s();i?s(!1,i):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==i||Nt(c,e.getBoundingClientRect())||s(),v=!1}try{i=new IntersectionObserver(m,u(u({},g),{},{root:r.ownerDocument}))}catch(y){i=new IntersectionObserver(m,g)}i.observe(e)}(!0),o}(c,n):null;let f,p=-1,g=null;s&&(g=new ResizeObserver(e=>{let[i]=e;i&&i.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let v=l?Et(e):null;return l&&function t(){const i=Et(e);v&&!Nt(v,i)&&n();v=i,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{r&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(f)}}var It=t.useLayoutEffect,jt=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Tt=function(){};function Rt(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Ot(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=[].concat(i);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&o.push("".concat(Rt(e,s)));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var Lt=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===o(e)&&null!==e?[e]:[];var t},Pt=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,u({},f(e,jt))},At=function(e,t,n){var i=e.cx,r=e.getStyles,o=e.getClassNames,s=e.className;return{css:r(t,e),className:i(null!==n&&void 0!==n?n:{},o(t,e),s)}};function Mt(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Dt(e){return Mt(e)?window.pageYOffset:e.scrollTop}function Ft(e,t){Mt(e)?window.scrollTo(0,t):e.scrollTop=t}function zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tt,r=Dt(e),o=t-r,s=0;!function t(){var a,l=o*((a=(a=s+=10)/n-1)*a*a+1)+r;Ft(e,l),s<n?window.requestAnimationFrame(t):i(e)}()}function Bt(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?Ft(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&Ft(e,Math.max(t.offsetTop-r,0))}function Ut(){try{return document.createEvent("TouchEvent"),!0}catch(ln){return!1}}var qt=!1,Vt={get passive(){return qt=!0}},Gt="undefined"!==typeof window?window:{};Gt.addEventListener&&Gt.removeEventListener&&(Gt.addEventListener("p",Tt,Vt),Gt.removeEventListener("p",Tt,!1));var Ht=qt;function Yt(e){return null!=e}function Wt(e,t,n){return e?t:n}var Xt=["children","innerProps"],$t=["children","innerProps"];function Zt(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,o=e.shouldScroll,s=e.isFixedPosition,a=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c,d=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),f=h.bottom,p=h.height,g=h.top,v=n.offsetParent.getBoundingClientRect().top,m=s?window.innerHeight:Mt(c=l)?window.innerHeight:c.clientHeight,y=Dt(l),x=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),b=v-_,k=m-g,w=b+y,S=d-y-g,E=f-m+y+x,N=y+g-_,C=160;switch(r){case"auto":case"bottom":if(k>=p)return{placement:"bottom",maxHeight:t};if(S>=p&&!s)return o&&zt(l,E,C),{placement:"bottom",maxHeight:t};if(!s&&S>=i||s&&k>=i)return o&&zt(l,E,C),{placement:"bottom",maxHeight:s?k-x:S-x};if("auto"===r||s){var I=t,j=s?b:w;return j>=i&&(I=Math.min(j-x-a,t)),{placement:"top",maxHeight:I}}if("bottom"===r)return o&&Ft(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(b>=p)return{placement:"top",maxHeight:t};if(w>=p&&!s)return o&&zt(l,N,C),{placement:"top",maxHeight:t};if(!s&&w>=i||s&&b>=i){var T=t;return(!s&&w>=i||s&&b>=i)&&(T=s?b-_:w-_),o&&zt(l,N,C),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return u}var Kt,Qt=function(e){return"auto"===e?"bottom":e},Jt=(0,t.createContext)(null),en=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=((0,t.useContext)(Jt)||{}).setPortalPlacement,d=(0,t.useRef)(null),f=h((0,t.useState)(r),2),p=f[0],g=f[1],v=h((0,t.useState)(null),2),m=v[0],y=v[1],x=l.spacing.controlHeight;return It(function(){var e=d.current;if(e){var t="fixed"===s,n=Zt({maxHeight:r,menuEl:e,minHeight:i,placement:o,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:x});g(n.maxHeight),y(n.placement),null===c||void 0===c||c(n.placement)}},[r,o,s,a,i,c,x]),n({ref:d,placerProps:u(u({},e),{},{placement:m||Qt(o),maxHeight:p})})},tn=function(e){var t=e.children,n=e.innerRef,i=e.innerProps;return We("div",g({},At(e,"menu",{menu:!0}),{ref:n},i),t)},nn=function(e,t){var n=e.theme,i=n.spacing.baseUnit,r=n.colors;return u({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},rn=nn,on=nn,sn=["size"],an=["innerProps","isRtl","size"];var ln,un,cn={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dn=function(e){var t=e.size,n=f(e,sn);return We("svg",g({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cn},n))},hn=function(e){return We(dn,g({size:20},e),We("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fn=function(e){return We(dn,g({size:20},e),We("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},pn=function(e,t){var n=e.isFocused,i=e.theme,r=i.spacing.baseUnit,o=i.colors;return u({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r,":hover":{color:n?o.neutral80:o.neutral40}})},gn=pn,vn=pn,mn=function(){var e=Xe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Kt||(ln=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],un||(un=ln.slice(0)),Kt=Object.freeze(Object.defineProperties(ln,{raw:{value:Object.freeze(un)}})))),yn=function(e){var t=e.delay,n=e.offset;return We("span",{css:Xe({animation:"".concat(mn," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},xn=function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.innerRef,o=e.innerProps,s=e.menuIsOpen;return We("div",g({ref:r},At(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":n||void 0}),t)},_n=["data"],bn=function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.getClassNames,o=e.Heading,s=e.headingProps,a=e.innerProps,l=e.label,u=e.theme,c=e.selectProps;return We("div",g({},At(e,"group",{group:!0}),a),We(o,g({},s,{selectProps:c,theme:u,getStyles:i,getClassNames:r,cx:n}),l),We("div",null,t))},kn=["innerRef","isDisabled","isHidden","inputClassName"],wn={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Sn={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":u({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},wn)},En=function(e){return u({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},wn)},Nn=function(e){var t=e.children,n=e.innerProps;return We("div",n,t)};var Cn=function(e){var t=e.children,n=e.components,i=e.data,r=e.innerProps,o=e.isDisabled,s=e.removeProps,a=e.selectProps,l=n.Container,c=n.Label,d=n.Remove;return We(l,{data:i,innerProps:u(u({},At(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),r),selectProps:a},We(c,{data:i,innerProps:u({},At(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),We(d,{data:i,innerProps:u(u({},At(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:a}))},In={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return We("div",g({},At(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||We(hn,null))},Control:xn,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return We("div",g({},At(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||We(fn,null))},DownChevron:fn,CrossIcon:hn,Group:bn,GroupHeading:function(e){var t=Pt(e);t.data;var n=f(t,_n);return We("div",g({},At(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return We("div",g({},At(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return We("span",g({},t,At(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,i=Pt(e),r=i.innerRef,o=i.isDisabled,s=i.isHidden,a=i.inputClassName,l=f(i,kn);return We("div",g({},At(e,"input",{"input-container":!0}),{"data-value":n||""}),We("input",g({className:t({input:!0},a),ref:r,style:En(s),disabled:o},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,i=e.size,r=void 0===i?4:i,o=f(e,an);return We("div",g({},At(u(u({},o),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),We(yn,{delay:0,offset:n}),We(yn,{delay:160,offset:!0}),We(yn,{delay:320,offset:!n}))},Menu:tn,MenuList:function(e){var t=e.children,n=e.innerProps,i=e.innerRef,r=e.isMulti;return We("div",g({},At(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},n),t)},MenuPortal:function(e){var n=e.appendTo,i=e.children,r=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,l=(0,t.useRef)(null),c=(0,t.useRef)(null),d=h((0,t.useState)(Qt(s)),2),f=d[0],p=d[1],v=(0,t.useMemo)(function(){return{setPortalPlacement:p}},[]),m=h((0,t.useState)(null),2),y=m[0],x=m[1],_=(0,t.useCallback)(function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===a?0:window.pageYOffset,n=e[f]+t;n===(null===y||void 0===y?void 0:y.offset)&&e.left===(null===y||void 0===y?void 0:y.rect.left)&&e.width===(null===y||void 0===y?void 0:y.rect.width)||x({offset:n,rect:e})}},[r,a,f,null===y||void 0===y?void 0:y.offset,null===y||void 0===y?void 0:y.rect.left,null===y||void 0===y?void 0:y.rect.width]);It(function(){_()},[_]);var b=(0,t.useCallback)(function(){"function"===typeof c.current&&(c.current(),c.current=null),r&&l.current&&(c.current=Ct(r,l.current,_,{elementResize:"ResizeObserver"in window}))},[r,_]);It(function(){b()},[b]);var k=(0,t.useCallback)(function(e){l.current=e,b()},[b]);if(!n&&"fixed"!==a||!y)return null;var w=We("div",g({ref:k},At(u(u({},e),{},{offset:y.offset,position:a,rect:y.rect}),"menuPortal",{"menu-portal":!0}),o),i);return We(Jt.Provider,{value:v},n?(0,$e.createPortal)(w,n):w)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,i=e.innerProps,r=f(e,$t);return We("div",g({},At(u(u({},r),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,i=e.innerProps,r=f(e,Xt);return We("div",g({},At(u(u({},r),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},MultiValue:Cn,MultiValueContainer:Nn,MultiValueLabel:Nn,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return We("div",g({role:"button"},n),t||We(hn,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.isSelected,o=e.innerRef,s=e.innerProps;return We("div",g({},At(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":r}),{ref:o,"aria-disabled":n},s),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return We("div",g({},At(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,i=e.isDisabled,r=e.isRtl;return We("div",g({},At(e,"container",{"--is-disabled":i,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,i=e.innerProps;return We("div",g({},At(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,i=e.isMulti,r=e.hasValue;return We("div",g({},At(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),n),t)}},jn=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Tn(e,t){return e===t||!(!jn(e)||!jn(t))}function Rn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}for(var On={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ln=function(e){return We("span",g({css:On},e))},Pn={guidance:function(e){var t=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,r=e.context,o=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,i=void 0===n?"":n,r=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,i=e.options,r=e.label,o=void 0===r?"":r,s=e.selectValue,a=e.isDisabled,l=e.isSelected,u=e.isAppleDevice,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(o," focused, ").concat(c(s,n),".");if("menu"===t&&u){var d=a?" disabled":"",h="".concat(l?" selected":"").concat(d);return"".concat(o).concat(h,", ").concat(c(i,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},An=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,g=l.isMulti,v=l.isOptionDisabled,m=l.isSearchable,y=l.menuIsOpen,x=l.options,_=l.screenReaderStatus,b=l.tabSelectsValue,k=l.isLoading,w=l["aria-label"],S=l["aria-live"],E=(0,t.useMemo)(function(){return u(u({},Pn),h||{})},[h]),N=(0,t.useMemo)(function(){var e,t="";if(n&&E.onChange){var i=n.option,r=n.options,o=n.removedValue,s=n.removedValues,l=n.value,c=o||i||(e=l,Array.isArray(e)?null:e),d=c?f(c):"",h=r||s||void 0,p=h?h.map(f):[],g=u({isDisabled:c&&v(c,a),label:d,labels:p},n);t=E.onChange(g)}return t},[n,E,v,a,f]),C=(0,t.useMemo)(function(){var e="",t=i||r,n=!!(i&&a&&a.includes(i));if(t&&E.onFocus){var s={focused:t,label:f(t),isDisabled:v(t,a),isSelected:n,options:o,context:t===i?"menu":"value",selectValue:a,isAppleDevice:d};e=E.onFocus(s)}return e},[i,r,f,v,E,o,a,d]),I=(0,t.useMemo)(function(){var e="";if(y&&x.length&&!k&&E.onFilter){var t=_({count:o.length});e=E.onFilter({inputValue:p,resultsMessage:t})}return e},[o,p,y,E,x,_,k]),j="initial-input-focus"===(null===n||void 0===n?void 0:n.action),T=(0,t.useMemo)(function(){var e="";if(E.guidance){var t=r?"value":y?"menu":"input";e=E.guidance({"aria-label":w,context:t,isDisabled:i&&v(i,a),isMulti:g,isSearchable:m,tabSelectsValue:b,isInitialFocus:j})}return e},[w,i,r,g,v,m,y,E,a,b,j]),R=We(t.Fragment,null,We("span",{id:"aria-selection"},N),We("span",{id:"aria-focused"},C),We("span",{id:"aria-results"},I),We("span",{id:"aria-guidance"},T));return We(t.Fragment,null,We(Ln,{id:c},j&&R),We(Ln,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!j&&R))},Mn=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Dn=new RegExp("["+Mn.map(function(e){return e.letters}).join("")+"]","g"),Fn={},zn=0;zn<Mn.length;zn++)for(var Bn=Mn[zn],Un=0;Un<Bn.letters.length;Un++)Fn[Bn.letters[Un]]=Bn.base;var qn=function(e){return e.replace(Dn,function(e){return Fn[e]})},Vn=function(e,t){void 0===t&&(t=Rn);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return i.clear=function(){n=null},i}(qn),Gn=function(e){return e.replace(/^\s+|\s+$/g,"")},Hn=function(e){return"".concat(e.label," ").concat(e.value)},Yn=["innerRef"];function Wn(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Object.entries(e).filter(function(e){var t=h(e,1)[0];return!n.includes(t)});return r.reduce(function(e,t){var n=h(t,2),i=n[0],r=n[1];return e[i]=r,e},{})}(f(e,Yn),"onExited","in","enter","exit","appear");return We("input",g({ref:t},n,{css:Xe({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Xn=["boxSizing","height","overflow","paddingRight","position"],$n={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Zn(e){e.cancelable&&e.preventDefault()}function Kn(e){e.stopPropagation()}function Qn(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Jn(){return"ontouchstart"in window||navigator.maxTouchPoints}var ei=!("undefined"===typeof window||!window.document||!window.document.createElement),ti=0,ni={capture:!1,passive:!1};var ii=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},ri={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function oi(e){var n=e.children,i=e.lockEnabled,r=e.captureEnabled,o=function(e){var n=e.isEnabled,i=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,s=e.onTopLeave,a=(0,t.useRef)(!1),l=(0,t.useRef)(!1),u=(0,t.useRef)(0),c=(0,t.useRef)(null),d=(0,t.useCallback)(function(e,t){if(null!==c.current){var n=c.current,u=n.scrollTop,d=n.scrollHeight,h=n.clientHeight,f=c.current,p=t>0,g=d-h-u,v=!1;g>t&&a.current&&(r&&r(e),a.current=!1),p&&l.current&&(s&&s(e),l.current=!1),p&&t>g?(i&&!a.current&&i(e),f.scrollTop=d,v=!0,a.current=!0):!p&&-t>u&&(o&&!l.current&&o(e),f.scrollTop=0,v=!0,l.current=!0),v&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[i,r,o,s]),h=(0,t.useCallback)(function(e){d(e,e.deltaY)},[d]),f=(0,t.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),p=(0,t.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;d(e,t)},[d]),g=(0,t.useCallback)(function(e){if(e){var t=!!Ht&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}},[p,f,h]),v=(0,t.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))},[p,f,h]);return(0,t.useEffect)(function(){if(n){var e=c.current;return g(e),function(){v(e)}}},[n,g,v]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(e){var n=e.isEnabled,i=e.accountForScrollbars,r=void 0===i||i,o=(0,t.useRef)({}),s=(0,t.useRef)(null),a=(0,t.useCallback)(function(e){if(ei){var t=document.body,n=t&&t.style;if(r&&Xn.forEach(function(e){var t=n&&n[e];o.current[e]=t}),r&&ti<1){var i=parseInt(o.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,a=window.innerWidth-s+i||0;Object.keys($n).forEach(function(e){var t=$n[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(a,"px"))}t&&Jn()&&(t.addEventListener("touchmove",Zn,ni),e&&(e.addEventListener("touchstart",Qn,ni),e.addEventListener("touchmove",Kn,ni))),ti+=1}},[r]),l=(0,t.useCallback)(function(e){if(ei){var t=document.body,n=t&&t.style;ti=Math.max(ti-1,0),r&&ti<1&&Xn.forEach(function(e){var t=o.current[e];n&&(n[e]=t)}),t&&Jn()&&(t.removeEventListener("touchmove",Zn,ni),e&&(e.removeEventListener("touchstart",Qn,ni),e.removeEventListener("touchmove",Kn,ni)))}},[r]);return(0,t.useEffect)(function(){if(n){var e=s.current;return a(e),function(){l(e)}}},[n,a,l]),function(e){s.current=e}}({isEnabled:i});return We(t.Fragment,null,i&&We("div",{onClick:ii,css:ri}),n(function(e){o(e),s(e)}))}var si={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},ai=function(e){var t=e.name,n=e.onFocus;return We("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:si,value:"",onChange:function(){}})};function li(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function ui(){return li(/^Mac/i)}function ci(){return li(/^iPhone/i)||li(/^iPad/i)||ui()&&navigator.maxTouchPoints>1}var di={clearIndicator:vn,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.theme,o=r.colors,s=r.borderRadius;return u({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},dropdownIndicator:gn,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,i=n.colors,r=n.spacing;return u({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing.baseUnit,o=i.colors;return u({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,i=e.value,r=e.theme,o=r.spacing,s=r.colors;return u(u({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},Sn),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,i=e.size,r=e.theme,o=r.colors,s=r.spacing.baseUnit;return u({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*s})},loadingMessage:on,menu:function(e,t){var n,i=e.placement,r=e.theme,o=r.borderRadius,s=r.spacing,l=r.colors;return u((a(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),a(n,"position","absolute"),a(n,"width","100%"),a(n,"zIndex",1),n),t?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return u({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,o=n.colors;return u({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,i=n.borderRadius,r=n.colors,o=e.cropWithEllipsis;return u({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,o=n.colors,s=e.isFocused;return u({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:rn,option:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.isSelected,o=e.theme,s=o.spacing,a=o.colors;return u({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?a.primary:i?a.primary25:"transparent",color:n?a.neutral20:r?a.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?a.primary:a.primary50}})},placeholder:function(e,t){var n=e.theme,i=n.spacing,r=n.colors;return u({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing,o=i.colors;return u({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,i=e.isMulti,r=e.hasValue,o=e.selectProps.controlShouldRenderValue;return u({alignItems:"center",display:i&&r&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var hi,fi={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},pi={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ut(),captureMenuScroll:!Ut(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=u({ignoreCase:!0,ignoreAccents:!0,stringify:Hn,trim:!0,matchFrom:"any"},hi),i=n.ignoreCase,r=n.ignoreAccents,o=n.stringify,s=n.trim,a=n.matchFrom,l=s?Gn(t):t,c=s?Gn(o(e)):o(e);return i&&(l=l.toLowerCase(),c=c.toLowerCase()),r&&(l=Vn(l),c=qn(c)),"start"===a?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(ln){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function gi(e,t,n,i){return{type:"option",data:t,isDisabled:wi(e,t,n),isSelected:Si(e,t,n),label:bi(e,t),value:ki(e,t),index:i}}function vi(e,t){return e.options.map(function(n,i){if("options"in n){var r=n.options.map(function(n,i){return gi(e,n,t,i)}).filter(function(t){return xi(e,t)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var o=gi(e,n,t,i);return xi(e,o)?o:void 0}).filter(Yt)}function mi(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,b(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function yi(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,b(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function xi(e,t){var n=e.inputValue,i=void 0===n?"":n,r=t.data,o=t.isSelected,s=t.label,a=t.value;return(!Ni(e)||!o)&&Ei(e,{label:s,value:a,data:r},i)}var _i=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},bi=function(e,t){return e.getOptionLabel(t)},ki=function(e,t){return e.getOptionValue(t)};function wi(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Si(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var i=ki(e,t);return n.some(function(t){return ki(e,t)===i})}function Ei(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Ni=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Ci=1,Ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(i,e);var n=function(e){var t=x();return function(){var n,i=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _(this,n)}}(i);function i(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var i=t.props,r=i.onChange,o=i.name;n.name=o,t.ariaOnChange(e,n),r(e,n)},t.setValue=function(e,n,i){var r=t.props,o=r.closeMenuOnSelect,s=r.isMulti,a=r.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:a}),o&&(t.setState({inputIsHiddenAfterUpdate:!s}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:i})},t.selectOption=function(e){var n=t.props,i=n.blurInputOnSelect,r=n.isMulti,o=n.name,s=t.state.selectValue,a=r&&t.isOptionSelected(e,s),l=t.isOptionDisabled(e,s);if(a){var u=t.getOptionValue(e);t.setValue(s.filter(function(e){return t.getOptionValue(e)!==u}),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});r?t.setValue([].concat(b(s),[e]),"select-option",e):t.setValue(e,"select-option")}i&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,i=t.state.selectValue,r=t.getOptionValue(e),o=i.filter(function(e){return t.getOptionValue(e)!==r}),s=Wt(n,o,o[0]||null);t.onChange(s,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Wt(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,i=n[n.length-1],r=n.slice(0,n.length-1),o=Wt(e,r,r[0]||null);i&&t.onChange(o,{action:"pop-value",removedValue:i})},t.getFocusedOptionId=function(e){return _i(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return yi(vi(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ot.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return bi(t.props,e)},t.getOptionValue=function(e){return ki(t.props,e)},t.getStyles=function(e,n){var i=t.props.unstyled,r=di[e](n,i);r.boxSizing="border-box";var o=t.props.styles[e];return o?o(r,n):r},t.getClassNames=function(e,n){var i,r;return null===(i=(r=t.props.classNames)[e])||void 0===i?void 0:i.call(r,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,u(u({},In),e.components);var e},t.buildCategorizedOptions=function(){return vi(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return mi(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:u({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,i=n.isMulti,r=n.menuIsOpen;t.focusInput(),r?(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Mt(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,i=n&&n.item(0);i&&(t.initialTouchX=i.clientX,t.initialTouchY=i.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,i=n&&n.item(0);if(i){var r=Math.abs(i.clientX-t.initialTouchX),o=Math.abs(i.clientY-t.initialTouchY);t.userIsDragging=r>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,i=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(i,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return Ni(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,i=n.isMulti,r=n.backspaceRemovesValue,o=n.escapeClearsValue,s=n.inputValue,a=n.isClearable,l=n.isDisabled,u=n.menuIsOpen,c=n.onKeyDown,d=n.tabSelectsValue,h=n.openMenuOnFocus,f=t.state,p=f.focusedOption,g=f.focusedValue,v=f.selectValue;if(!l&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||s)return;t.focusValue("previous");break;case"ArrowRight":if(!i||s)return;t.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(g)t.removeValue(g);else{if(!r)return;i?t.popValue():a&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!u||!d||!p||h&&t.isOptionSelected(p,v))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":u?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:s}),t.onMenuClose()):a&&o&&t.clearValue();break;case" ":if(s)return;if(!u){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":u?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":u?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!u)return;t.focusOption("pageup");break;case"PageDown":if(!u)return;t.focusOption("pagedown");break;case"Home":if(!u)return;t.focusOption("first");break;case"End":if(!u)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++Ci),t.state.selectValue=Lt(e.value),e.menuIsOpen&&t.state.selectValue.length){var r=t.getFocusableOptionsWithIds(),o=t.buildFocusableOptions(),s=o.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=r,t.state.focusedOption=o[s],t.state.focusedOptionId=_i(r,o[s])}return t}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Bt(this.menuListRef,this.focusedOptionRef),(ui()||ci())&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,i=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&i&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Bt(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,i=n.selectValue,r=n.isFocused,o=this.buildFocusableOptions(),s="first"===e?0:o.length-1;if(!this.props.isMulti){var a=o.indexOf(i[0]);a>-1&&(s=a)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[s],focusedOptionId:this.getFocusedOptionId(o[s])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,i=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(i);i||(r=-1);var o=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===r?0:-1===r?o:r-1;break;case"next":r>-1&&r<o&&(s=r+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var r=0,o=i.indexOf(n);n||(o=-1),"up"===e?r=o>0?o-1:i.length-1:"down"===e?r=(o+1)%i.length:"pageup"===e?(r=o-t)<0&&(r=0):"pagedown"===e?(r=o+t)>i.length-1&&(r=i.length-1):"last"===e&&(r=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[r],focusedValue:null,focusedOptionId:this.getFocusedOptionId(i[r])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(fi):u(u({},fi),this.props.theme):fi}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,i=this.getClassNames,r=this.getValue,o=this.selectOption,s=this.setValue,a=this.props,l=a.isMulti,u=a.isRtl,c=a.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:i,getValue:r,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:o,selectProps:a,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return wi(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Si(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Ei(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,i=e.isSearchable,r=e.inputId,o=e.inputValue,s=e.tabIndex,a=e.form,l=e.menuIsOpen,c=e.required,d=this.getComponents().Input,h=this.state,f=h.inputIsHidden,p=h.ariaSelection,v=this.commonProps,m=r||this.getElementId("input"),y=u(u(u({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===p||void 0===p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?t.createElement(d,g({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:n,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:a,type:"text",value:o},y)):t.createElement(Wn,g({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Tt,onFocus:this.onInputFocus,disabled:n,tabIndex:s,inputMode:"none",form:a,value:""},y))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),i=n.MultiValue,r=n.MultiValueContainer,o=n.MultiValueLabel,s=n.MultiValueRemove,a=n.SingleValue,l=n.Placeholder,u=this.commonProps,c=this.props,d=c.controlShouldRenderValue,h=c.isDisabled,f=c.isMulti,p=c.inputValue,v=c.placeholder,m=this.state,y=m.selectValue,x=m.focusedValue,_=m.isFocused;if(!this.hasValue()||!d)return p?null:t.createElement(l,g({},u,{key:"placeholder",isDisabled:h,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),v);if(f)return y.map(function(n,a){var l=n===x,c="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(i,g({},u,{components:{Container:r,Label:o,Remove:s},isFocused:l,isDisabled:h,key:c,index:a,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))});if(p)return null;var b=y[0];return t.createElement(a,g({},u,{data:b,isDisabled:h}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,o=i.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,g({},n,{innerProps:a,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,o=i.isLoading,s=this.state.isFocused;if(!e||!o)return null;return t.createElement(e,g({},n,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,i=e.IndicatorSeparator;if(!n||!i)return null;var r=this.commonProps,o=this.props.isDisabled,s=this.state.isFocused;return t.createElement(i,g({},r,{isDisabled:o,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,i=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,g({},n,{innerProps:o,isDisabled:i,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),i=n.Group,r=n.GroupHeading,o=n.Menu,s=n.MenuList,a=n.MenuPortal,l=n.LoadingMessage,u=n.NoOptionsMessage,c=n.Option,d=this.commonProps,h=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,v=f.inputValue,m=f.isLoading,y=f.loadingMessage,x=f.minMenuHeight,_=f.maxMenuHeight,b=f.menuIsOpen,k=f.menuPlacement,w=f.menuPosition,S=f.menuPortalTarget,E=f.menuShouldBlockScroll,N=f.menuShouldScrollIntoView,C=f.noOptionsMessage,I=f.onMenuScrollToTop,j=f.onMenuScrollToBottom;if(!b)return null;var T,R=function(n,i){var r=n.type,o=n.data,s=n.isDisabled,a=n.isSelected,l=n.label,u=n.value,f=h===o,p=s?void 0:function(){return e.onOptionHover(o)},v=s?void 0:function(){return e.selectOption(o)},m="".concat(e.getElementId("option"),"-").concat(i),y={id:m,onClick:v,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.state.isAppleDevice?void 0:a};return t.createElement(c,g({},d,{innerProps:y,data:o,isDisabled:s,isSelected:a,key:m,label:l,type:r,value:u,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map(function(n){if("group"===n.type){var o=n.data,s=n.options,a=n.index,l="".concat(e.getElementId("group"),"-").concat(a),u="".concat(l,"-heading");return t.createElement(i,g({},d,{key:l,data:o,options:s,Heading:r,headingProps:{id:u,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map(function(e){return R(e,"".concat(a,"-").concat(e.index))}))}if("option"===n.type)return R(n,"".concat(n.index))});else if(m){var O=y({inputValue:v});if(null===O)return null;T=t.createElement(l,d,O)}else{var L=C({inputValue:v});if(null===L)return null;T=t.createElement(u,d,L)}var P={minMenuHeight:x,maxMenuHeight:_,menuPlacement:k,menuPosition:w,menuShouldScrollIntoView:N},A=t.createElement(en,g({},d,P),function(n){var i=n.ref,r=n.placerProps,a=r.placement,l=r.maxHeight;return t.createElement(o,g({},d,P,{innerRef:i,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:m,placement:a}),t.createElement(oi,{captureEnabled:p,onTopArrive:I,onBottomArrive:j,lockEnabled:E},function(n){return t.createElement(s,g({},d,{innerRef:function(t){e.getMenuListRef(t),n(t)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:m,maxHeight:l,focusedOption:h}),T)}))});return S||"fixed"===w?t.createElement(a,g({},d,{appendTo:S,controlElement:this.controlRef,menuPlacement:k,menuPosition:w}),A):A}},{key:"renderFormField",value:function(){var e=this,n=this.props,i=n.delimiter,r=n.isDisabled,o=n.isMulti,s=n.name,a=n.required,l=this.state.selectValue;if(a&&!this.hasValue()&&!r)return t.createElement(ai,{name:s,onFocus:this.onValueInputFocus});if(s&&!r){if(o){if(i){var u=l.map(function(t){return e.getOptionValue(t)}).join(i);return t.createElement("input",{name:s,type:"hidden",value:u})}var c=l.length>0?l.map(function(n,i){return t.createElement("input",{key:"i-".concat(i),name:s,type:"hidden",value:e.getOptionValue(n)})}):t.createElement("input",{name:s,type:"hidden",value:""});return t.createElement("div",null,c)}var d=l[0]?this.getOptionValue(l[0]):"";return t.createElement("input",{name:s,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,i=n.ariaSelection,r=n.focusedOption,o=n.focusedValue,s=n.isFocused,a=n.selectValue,l=this.getFocusableOptions();return t.createElement(An,g({},e,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:r,focusedValue:o,isFocused:s,selectValue:a,focusableOptions:l,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,i=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,s=this.props,a=s.className,l=s.id,u=s.isDisabled,c=s.menuIsOpen,d=this.state.isFocused,h=this.commonProps=this.getCommonProps();return t.createElement(r,g({},h,{className:a,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),t.createElement(n,g({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:c}),t.createElement(o,g({},h,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(i,g({},h,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,i=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,s=t.isFocused,a=t.prevWasFocused,l=t.instancePrefix,c=e.options,d=e.value,h=e.menuIsOpen,f=e.inputValue,p=e.isMulti,g=Lt(d),v={};if(n&&(d!==n.value||c!==n.options||h!==n.menuIsOpen||f!==n.inputValue)){var m=h?function(e,t){return mi(vi(e,t))}(e,g):[],y=h?yi(vi(e,g),"".concat(l,"-option")):[],x=i?function(e,t){var n=e.focusedValue,i=e.selectValue.indexOf(n);if(i>-1){if(t.indexOf(n)>-1)return n;if(i<t.length)return t[i]}return null}(t,g):null,_=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m);v={selectValue:g,focusedOption:_,focusedOptionId:_i(y,_),focusableOptionsWithIds:y,focusedValue:x,clearFocusValueOnUpdate:!1}}var b=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},k=o,w=s&&a;return s&&!w&&(k={value:Wt(p,g,g[0]||null),options:g,action:"initial-input-focus"},w=!a),"initial-input-focus"===(null===o||void 0===o?void 0:o.action)&&(k=null),u(u(u({},v),b),{},{prevProps:e,ariaSelection:k,prevWasFocused:w})}}]),i}(t.Component);Ii.defaultProps=pi;var ji=(0,t.forwardRef)(function(e,n){var i=function(e){var n=e.defaultInputValue,i=void 0===n?"":n,r=e.defaultMenuIsOpen,o=void 0!==r&&r,s=e.defaultValue,a=void 0===s?null:s,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,g=e.onInputChange,v=e.onMenuClose,m=e.onMenuOpen,y=e.value,x=f(e,p),_=h((0,t.useState)(void 0!==l?l:i),2),b=_[0],k=_[1],w=h((0,t.useState)(void 0!==c?c:o),2),S=w[0],E=w[1],N=h((0,t.useState)(void 0!==y?y:a),2),C=N[0],I=N[1],j=(0,t.useCallback)(function(e,t){"function"===typeof d&&d(e,t),I(e)},[d]),T=(0,t.useCallback)(function(e,t){var n;"function"===typeof g&&(n=g(e,t)),k(void 0!==n?n:e)},[g]),R=(0,t.useCallback)(function(){"function"===typeof m&&m(),E(!0)},[m]),O=(0,t.useCallback)(function(){"function"===typeof v&&v(),E(!1)},[v]),L=void 0!==l?l:b,P=void 0!==c?c:S,A=void 0!==y?y:C;return u(u({},x),{},{inputValue:L,menuIsOpen:P,onChange:j,onInputChange:T,onMenuClose:O,onMenuOpen:R,value:A})}(e);return t.createElement(Ii,g({ref:n},i))}),Ti=ji,Ri=6371008.8,Oi={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*Ri,kilometers:6371.0088,kilometres:6371.0088,meters:Ri,metres:Ri,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:Ri/1852,radians:1,yards:6967335.223679999};function Li(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=t||{},i.geometry=e,i}function Pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!qi(e[0])||!qi(e[1]))throw new Error("coordinates must contain numbers");return Li({type:"Point",coordinates:e},t,n)}function Ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const i of e){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<i[i.length-1].length;e++)if(i[i.length-1][e]!==i[0][e])throw new Error("First and last Position are not equivalent.")}return Li({type:"Polygon",coordinates:e},t,n)}function Mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Li({type:"LineString",coordinates:e},t,n)}function Di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Fi(e,t){return Li({type:"MultiPolygon",coordinates:e},t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function zi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers";const n=Oi[t];if(!n)throw new Error(t+" units is invalid");return e*n}function Bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers";const n=Oi[t];if(!n)throw new Error(t+" units is invalid");return e/n}function Ui(e){return e%360*Math.PI/180}function qi(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Vi(e,t,n){if(null!==e)for(var i,r,o,s,a,l,u,c,d=0,h=0,f=e.type,p="FeatureCollection"===f,g="Feature"===f,v=p?e.features.length:1,m=0;m<v;m++){a=(c=!!(u=p?e.features[m].geometry:g?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<a;y++){var x=0,_=0;if(null!==(s=c?u.geometries[y]:u)){l=s.coordinates;var b=s.type;switch(d=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===t(l,h,m,x,_))return!1;h++,x++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===t(l[i],h,m,x,_))return!1;h++,"MultiPoint"===b&&x++}"LineString"===b&&x++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-d;r++){if(!1===t(l[i][r],h,m,x,_))return!1;h++}"MultiLineString"===b&&x++,"Polygon"===b&&_++}"Polygon"===b&&x++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(_=0,r=0;r<l[i].length;r++){for(o=0;o<l[i][r].length-d;o++){if(!1===t(l[i][r][o],h,m,x,_))return!1;h++}_++}x++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===Vi(s.geometries[i],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Gi(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function Hi(e,t){var n,i,r,o,s,a,l,u,c,d,h=0,f="FeatureCollection"===e.type,p="Feature"===e.type,g=f?e.features.length:1;for(n=0;n<g;n++){for(a=f?e.features[n].geometry:p?e.geometry:e,u=f?e.features[n].properties:p?e.properties:{},c=f?e.features[n].bbox:p?e.bbox:void 0,d=f?e.features[n].id:p?e.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=l?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,h,u,c,d))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===t(o.geometries[i],h,u,c,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,h,u,c,d))return!1;h++}}function Yi(e,t){Hi(e,function(e,n,i,r,o){var s,a=null===e?null:e.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Li(e,i,{bbox:r,id:o}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l];if(!1===t(Li({type:s,coordinates:u},i),n,l))return!1}})}function Wi(e,t,n){var i=n,r=!1;return function(e,t){Yi(e,function(e,n,i){var r=0;if(e.geometry){var o=e.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,l=0,u=0;return!1!==Vi(e,function(o,c,d,h,f){if(void 0===s||n>a||h>l||f>u)return s=o,a=n,l=h,u=f,void(r=0);var p=Mi([s,o],e.properties);if(!1===t(p,n,i,f,r))return!1;r++,s=o})&&void 0}}})}(e,function(e,o,s,a,l){i=!1===r&&void 0===n?e:t(i,e,o,s,a,l),r=!0}),i}function Xi(e){return function(e,t,n){var i=n;return Hi(e,function(e,r,o,s,a){i=0===r&&void 0===n?e:t(i,e,r,o,s,a)}),i}(e,(e,t)=>e+function(e){let t,n=0;switch(e.type){case"Polygon":return $i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=$i(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t),0)}function $i(e){let t=0;if(e&&e.length>0){t+=Math.abs(Qi(e[0]));for(let n=1;n<e.length;n++)t-=Math.abs(Qi(e[n]))}return t}var Zi=20294876564838.72,Ki=Math.PI/180;function Qi(e){const t=e.length-1;if(t<=2)return 0;let n=0,i=0;for(;i<t;){const r=e[i],o=e[i+1===t?0:i+1],s=e[i+2>=t?(i+2)%t:i+2],a=r[0]*Ki,l=o[1]*Ki;n+=(s[0]*Ki-a)*Math.sin(l),i++}return n*Zi}function Ji(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return Vi(e,e=>{n[0]>e[0]&&(n[0]=e[0]),n[1]>e[1]&&(n[1]=e[1]),n[2]<e[0]&&(n[2]=e[0]),n[3]<e[1]&&(n[3]=e[1])}),n}function er(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function tr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i=er(e),r=er(t),o=Ui(r[1]-i[1]),s=Ui(r[0]-i[0]),a=Ui(i[1]),l=Ui(r[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(l);return zi(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Wi(e,(e,n)=>{const i=n.geometry.coordinates;return e+tr(i[0],i[1],t)},0)}const ir="",rr={FETCH_PARCEL:"".concat(ir,"/api/fetch-parcel"),VALIDATE_BUILDING_UNITS:"".concat(ir,"/api/validate-building-units"),GENERATE_BUILDING_UNITS:"".concat(ir,"/api/generate-building-units"),FEW_SHOT_EXAMPLES:"".concat(ir,"/api/few-shot/examples"),HF_GENERATE_LOCAL:"".concat(ir,"/api/hf/generate-local"),GENERATION_PROGRESS:e=>"".concat(ir,"/api/generation-progress/").concat(e)},or=e=>"".concat(ir).concat(e);function sr(e){if(!e||!e.geometry)throw new Error("Invalid parcel geometry");try{return Xi(e)}catch(t){throw console.error("Error calculating parcel area:",t),t}}function ar(e){if(!e||!e.properties)return null;const t=e.properties;return{folioId:t.folio_id||t.roll_number,address:t.civic_address||t.full_address,zoningDistrict:t.zoning_district||t.zone,lotArea:t.lot_area||t.area_sqm,geometry:e.geometry}}var lr=n(579);function ur(e,t){if(!e||!t)return null;try{const n=Xi(e),i=Ji(e),r=i[2]-i[0];return{lot_area:n,lot_frontage:r,lot_depth:i[3]-i[1],lot_perimeter:nr(e),max_height:t.max_height||10,zoning_district:t.ZONING_DISTRICT}}catch(n){return console.error("Error analyzing site:",n),null}}function cr(e){let{onParcelSelect:n,selectedParcel:i}=e;const[r,o]=(0,t.useState)(""),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)("address"),f=async()=>{if(r.trim()){c(!0);try{const e=await fetch("/api/fetch-parcel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:d,searchTerm:r})});if(e.ok){const t=await e.json();a([t])}else a([])}catch(e){console.error("Search failed:",e),a([])}finally{c(!1)}}},p=(0,t.useMemo)(()=>s.map((e,t)=>{const n=ar(e);return{value:t,label:"".concat((null===n||void 0===n?void 0:n.address)||"Unknown"," (").concat((null===n||void 0===n?void 0:n.folioId)||"No Folio",")"),parcel:e}}),[s]);return(0,lr.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,lr.jsx)("h4",{children:"Search Vancouver Parcels"}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[(0,lr.jsxs)("select",{value:d,onChange:e=>h(e.target.value),style:{padding:"4px 8px"},children:[(0,lr.jsx)("option",{value:"address",children:"By Address"}),(0,lr.jsx)("option",{value:"folio",children:"By Folio ID"})]}),(0,lr.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"address"===d?"Enter address...":"Enter folio ID...",style:{flex:1,padding:"4px 8px",border:"1px solid #ccc",borderRadius:"4px"},onKeyPress:e=>"Enter"===e.key&&f()}),(0,lr.jsx)("button",{onClick:f,disabled:l,style:{padding:"4px 12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:l?"not-allowed":"pointer"},children:l?"Searching...":"Search"})]}),s.length>0&&(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Select Parcel:"}),(0,lr.jsx)(Ti,{options:p,onChange:e=>{e&&n(e.parcel)},placeholder:"Choose a parcel...",styles:{control:e=>u(u({},e),{},{minHeight:"32px"})}})]})]})}function dr(e){var n;let{parcel:i,zoning:r,lockedValues:o}=e;const[s,a]=(0,t.useState)(!1),[l,u]=(0,t.useState)([]),[c,d]=(0,t.useState)(null);return(0,lr.jsxs)("div",{style:{margin:"20px 0"},children:[(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,lr.jsx)("h3",{children:"AI-Generated 3D Renders"}),(0,lr.jsx)("button",{onClick:async()=>{if(i&&r){a(!0),d(null);try{var e;const t=ur(i,r),n=(null===t||void 0===t?void 0:t.lot_area)||200,o=(null===r||void 0===r?void 0:r.max_height)||10,s=(null===r||void 0===r?void 0:r.ZONING_DISTRICT)||"R1-1",a=(null===(e=i.properties)||void 0===e?void 0:e.address)||"Vancouver property",l=["A modern single-family house on a ".concat(n.toFixed(0)," square meter lot in Vancouver. Maximum height ").concat(o," meters. Clean contemporary design with large windows. Residential zoning ").concat(s,"."),"A traditional Vancouver character house on a ".concat(n.toFixed(0)," square meter lot. Maximum height ").concat(o," meters. Classic design with pitched roof and front porch. Residential zoning ").concat(s,"."),"A contemporary townhouse development on a ".concat(n.toFixed(0)," square meter lot in Vancouver. Maximum height ").concat(o," meters. Modern design with clean lines and outdoor space. Residential zoning ").concat(s,"."),"A sustainable eco-friendly house on a ".concat(n.toFixed(0)," square meter lot in Vancouver. Maximum height ").concat(o," meters. Green design with solar panels and natural materials. Residential zoning ").concat(s,".")],c=[];for(let e=0;e<l.length;e++){const i=l[e],o=await fetch("/api/hf/generate-local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:i,site_data:{lot_area:n,lot_frontage:(null===t||void 0===t?void 0:t.lot_frontage)||15,address:a},zoning_data:r})});if(o.ok){const t=await o.json();console.log("Render ".concat(e," result:"),t),c.push({id:e,prompt:i,model_url:t.model_url,metadata:t.metadata,variant_name:["Modern Home","Traditional House","Townhouse","Sustainable Home"][e]})}else console.error("Failed to generate render ".concat(e,":"),o.statusText)}u(c)}catch(c){console.error("Error generating AI renders:",c),d("Failed to generate AI renders")}finally{a(!1)}}else d("Parcel and zoning data required")},disabled:s,style:{padding:"8px 16px",backgroundColor:s?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer"},children:s?"Generating...":"Generate AI Renders"})]}),c&&(0,lr.jsx)("div",{style:{padding:"10px",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"4px",marginBottom:"10px"},children:c}),s&&(0,lr.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#e9ecef",borderRadius:"4px"},children:[(0,lr.jsx)("p",{children:"\ud83e\udd16 Generating AI 3D renders using local Shap-E model..."}),(0,lr.jsx)("p",{children:"This may take a few minutes for each variant."})]}),l.length>0&&(0,lr.jsxs)("div",{style:{marginTop:"10px",padding:"15px",backgroundColor:"#d4edda",borderRadius:"8px",fontSize:"14px"},children:[(0,lr.jsxs)("h4",{style:{margin:"0 0 15px 0",color:"#155724"},children:["\u2705 Generated ",l.length," AI renders"]}),(0,lr.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:l.map((e,t)=>{var n,i,r;return(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #c3e6cb"},children:[(0,lr.jsx)("h5",{style:{margin:"0 0 10px 0",color:"#155724"},children:e.variant_name}),(0,lr.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"10px"},children:[e.prompt.substring(0,120),"..."]}),e.model_url?(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"3D Model:"}),(0,lr.jsxs)("div",{style:{marginTop:"5px"},children:[(0,lr.jsx)("a",{href:e.model_url,download:!0,style:{display:"inline-block",padding:"8px 12px",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px",fontSize:"12px",marginRight:"8px"},children:"\ud83d\udce5 Download OBJ File"}),(0,lr.jsx)("span",{style:{fontSize:"11px",color:"#666"},children:"(Mock 3D model for demonstration)"})]}),(0,lr.jsxs)("div",{style:{marginTop:"5px",fontSize:"11px",color:"#666"},children:[(0,lr.jsx)("strong",{children:"File:"})," ",(null===(n=e.metadata)||void 0===n?void 0:n.model_id)||"unknown",".obj",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Format:"})," ",(null===(i=e.metadata)||void 0===i?void 0:i.file_format)||"obj",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Generated:"})," ",new Date(null===(r=e.metadata)||void 0===r?void 0:r.generated_at).toLocaleString()]})]}):(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Status:"}),(0,lr.jsx)("div",{style:{marginTop:"5px",padding:"5px",backgroundColor:"#fff3cd",color:"#856404",borderRadius:"3px",fontSize:"11px"},children:"\u26a0\ufe0f 3D model file not available"})]}),e.metadata&&(0,lr.jsxs)("div",{style:{fontSize:"11px",color:"#666"},children:[(0,lr.jsx)("strong",{children:"Metadata:"}),(0,lr.jsx)("pre",{style:{margin:"5px 0 0 0",fontSize:"10px",backgroundColor:"#f8f9fa",padding:"5px",borderRadius:"3px",overflow:"auto"},children:JSON.stringify(e.metadata,null,2)})]})]},e.id)})}),(0,lr.jsxs)("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,lr.jsx)("strong",{children:"Parcel:"})," ",(null===i||void 0===i||null===(n=i.properties)||void 0===n?void 0:n.address)||"Unknown",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Zoning:"})," ",(null===r||void 0===r?void 0:r.ZONING_DISTRICT)||"Unknown",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Generated:"})," ",(new Date).toLocaleString()]})]})]})}function hr(e){if(!e)return 0;try{return Xi({type:"Feature",geometry:e})}catch(t){return console.error("Error calculating area from geometry:",t),0}}function fr(e){var t,n,i,r,o;if(!e)return null;if(!e.geometry)return console.warn("No geometry data available for parcel:",e),console.log("Parcel structure:",Object.keys(e)),e.properties&&console.log("Properties:",Object.keys(e.properties)),null;const s={type:"Feature",geometry:e.geometry,properties:{address:(null===(t=e.properties)||void 0===t?void 0:t.address)||(null===(n=e.properties)||void 0===n?void 0:n.full_address),folio_id:(null===(i=e.properties)||void 0===i?void 0:i.folio_id)||(null===(r=e.properties)||void 0===r?void 0:r.site_id),zoning_district:null===(o=e.properties)||void 0===o?void 0:o.zoning_district}};return console.log("Converted to GeoJSON:",s),s}const pr=function(e){var n,i,r,o,s,a,l,u,c,d;let{lockedValues:h,lockedParcelData:f,siteAreaData:p,zoningEditorAddress:g,zoningEditorAddressData:v}=e;const[m,y]=(0,t.useState)(null),[x,_]=(0,t.useState)(null),[b,k]=(0,t.useState)(null);return(0,t.useEffect)(()=>{f&&(y(f.parcel),_(f.zoning))},[f]),(0,t.useEffect)(()=>{if(v&&p){var e,t,n,i,r,o,s;const a=p.geometry||v.parcel_geometry||v.geometry||(null===(e=v.api_response)||void 0===e?void 0:e.geometry),l=p.siteArea||(a?hr(a):0),u={geometry:a,properties:{address:v.full_address||v.address,folio_id:v.folio_id||v.site_id,zoning_district:p.zoningDistrict,site_area:l}};y(u);const c={ZONING_DISTRICT:p.zoningDistrict,max_height:(null===(t=p.zoningConditions)||void 0===t?void 0:t.max_height)||11.5,FAR:(null===(n=p.zoningConditions)||void 0===n?void 0:n.FAR)||.6,coverage:(null===(i=p.zoningConditions)||void 0===i?void 0:i.coverage)||.4,front:(null===(r=p.setbacks)||void 0===r?void 0:r.front)||6,side:(null===(o=p.setbacks)||void 0===o?void 0:o.side)||1.2,rear:(null===(s=p.setbacks)||void 0===s?void 0:s.rear)||7.5};_(c),console.log("Created parcel from ZoningEditor data:",u),console.log("Geometry available:",!!a),console.log("Site area data received:",p)}},[v,p]),(0,t.useEffect)(()=>{if(m&&x){const e=fr(m);if(e){const t=ur(e,x);k(t)}}},[m,x]),(0,lr.jsxs)("div",{style:{padding:"20px"},children:[(0,lr.jsx)("h2",{children:"Live Parcel Viewer"}),(0,lr.jsx)(cr,{onParcelSelect:y,selectedParcel:m}),b&&(0,lr.jsxs)("div",{style:{marginTop:"20px"},children:[(0,lr.jsx)("h4",{children:"Site Analysis"}),(0,lr.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"4px",fontSize:"12px"},children:[(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Site Measurements:"}),(0,lr.jsx)("br",{}),"\u2022 Lot Area: ",b.lot_area.toFixed(1)," m\xb2",(0,lr.jsx)("br",{}),"\u2022 Frontage: ",b.lot_frontage.toFixed(1)," m",(0,lr.jsx)("br",{}),"\u2022 Depth: ",b.lot_depth.toFixed(1)," m",(0,lr.jsx)("br",{}),"\u2022 Perimeter: ",b.lot_perimeter.toFixed(1)," m"]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Zoning:"}),(0,lr.jsx)("br",{}),"\u2022 District: ",b.zoning_district,(0,lr.jsx)("br",{}),"\u2022 Max Height: ",b.max_height,"m"]})]})]}),p&&(0,lr.jsxs)("div",{style:{marginTop:"20px"},children:[(0,lr.jsx)("h4",{children:"Data from Zoning Editor"}),(0,lr.jsxs)("div",{style:{backgroundColor:"#e3f2fd",padding:"15px",borderRadius:"4px",fontSize:"12px"},children:[(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Selected Address:"})," ",g||"None selected"]}),(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",(p.siteArea||(p.geometry?hr(p.geometry):0)).toLocaleString()," m\xb2",p.geometry&&(0,lr.jsx)("span",{style:{color:"#666",fontSize:"10px"},children:" (calculated from geometry)"})]}),(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Zoning District:"})," ",p.zoningDistrict]}),(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Setbacks:"}),(0,lr.jsx)("br",{}),"\u2022 Front: ",null===(n=p.setbacks)||void 0===n?void 0:n.front,"m",(0,lr.jsx)("br",{}),"\u2022 Side: ",null===(i=p.setbacks)||void 0===i?void 0:i.side,"m",(0,lr.jsx)("br",{}),"\u2022 Rear: ",null===(r=p.setbacks)||void 0===r?void 0:r.rear,"m"]}),(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Building Constraints:"}),(0,lr.jsx)("br",{}),"\u2022 Max Height: ",(null===(o=p.zoningConditions)||void 0===o?void 0:o.max_height)||11.5,"m",(0,lr.jsx)("br",{}),"\u2022 FAR: ",(null===(s=p.zoningConditions)||void 0===s?void 0:s.FAR)||.6,(0,lr.jsx)("br",{}),"\u2022 Coverage: ",p.siteCoverageLimit||50,"%"]}),(0,lr.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,lr.jsx)("strong",{children:"Dedications:"}),(0,lr.jsx)("br",{}),"\u2022 Lane: ",Object.values((null===(a=p.dedicationDetails)||void 0===a?void 0:a.lane_dedication)||{}).reduce((e,t)=>e+(parseFloat(t)||0),0).toFixed(1)," m\xb2",(0,lr.jsx)("br",{}),"\u2022 Street Widening: ",Object.values((null===(l=p.dedicationDetails)||void 0===l?void 0:l.street_widening)||{}).reduce((e,t)=>e+(parseFloat(t)||0),0).toFixed(1)," m\xb2",(0,lr.jsx)("br",{}),"\u2022 Statutory Right of Way: ",Object.values((null===(u=p.dedicationDetails)||void 0===u?void 0:u.statutory_right_of_way)||{}).reduce((e,t)=>e+(parseFloat(t)||0),0).toFixed(1)," m\xb2"]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Outdoor Space:"})," ",(null===(c=p.outdoorSpace)||void 0===c?void 0:c.required_area)||0," m\xb2"]})]})]}),m&&x&&(0,lr.jsx)(lr.Fragment,{children:fr(m)?(0,lr.jsx)(dr,{parcel:fr(m),zoning:x,lockedValues:h}):(0,lr.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",color:"#856404"},children:[(0,lr.jsx)("h4",{children:"\u26a0\ufe0f AI Generation Unavailable"}),(0,lr.jsx)("p",{children:"Geometry data is required for AI generation. The parcel data from ZoningEditor doesn't include geometry information."}),(0,lr.jsx)("p",{children:"To generate AI renders, please use the parcel search function above to fetch complete parcel data with geometry."})]})}),(0,lr.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"4px",fontSize:"12px"},children:[(0,lr.jsx)("strong",{children:"Status:"}),m&&x?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Selected Parcel:"})," ",null===(d=ar(m))||void 0===d?void 0:d.address,(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Applied Zoning:"})," ",x.ZONING_DISTRICT,(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Max Height:"})," ",x.max_height,"m",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"FAR:"})," ",x.FAR,(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Coverage:"})," ",x.coverage,"%",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Geometry Available:"})," ",m.geometry?"Yes":"No",p&&(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Data Source:"})," Zoning Editor (shared)"]})]}):(0,lr.jsx)("span",{children:" No parcel selected"})]})]})};const gr=function(e){var n;let{selectedVariant:i,parcel:r,zoning:o,siteConfig:s,onModelGenerated:a}=e;const[l,c]=(0,t.useState)([]),[d,h]=(0,t.useState)("shap-e"),[f,p]=(0,t.useState)("glb"),[g,v]=(0,t.useState)("medium"),[m,y]=(0,t.useState)(!1),[x,_]=(0,t.useState)(0),[b,k]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[E,N]=(0,t.useState)({});(0,t.useEffect)(()=>{C()},[]),(0,t.useEffect)(()=>{d&&I(d)},[d]);const C=async()=>{try{const e=await fetch("/api/hf/models"),t=await e.json();t.models&&(c(Object.keys(t.models)),N(t.models))}catch(w){console.error("Error loading available models:",w),S("Failed to load available models")}},I=async e=>{try{const t=await fetch("/api/hf/validate-model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_name:e})}),n=await t.json();n.valid&&N(t=>u(u({},t),{},{[e]:n.info}))}catch(w){console.error("Error validating model:",w)}},j=()=>{if(!b||!b.data)return;const e=new Blob([b.data],{type:"model/".concat(b.format)}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="".concat(i.id,"_").concat(d,".").concat(b.format),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)};return i?(0,lr.jsxs)("div",{style:{padding:"20px"},children:[(0,lr.jsx)("h3",{style:{margin:"0 0 20px 0",color:"#333"},children:"Hugging Face 3D Model Generation"}),(0,lr.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:"Model Configuration"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px",fontWeight:"bold"},children:"Model:"}),(0,lr.jsx)("select",{value:d,onChange:e=>h(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px"},disabled:m,children:l.map(e=>{var t;return(0,lr.jsxs)("option",{value:e,children:[e," ",null!==(t=E[e])&&void 0!==t&&t.available?"\u2713":"\u2717"]},e)})})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px",fontWeight:"bold"},children:"Output Format:"}),(0,lr.jsxs)("select",{value:f,onChange:e=>p(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px"},disabled:m,children:[(0,lr.jsx)("option",{value:"glb",children:"GLB (Recommended)"}),(0,lr.jsx)("option",{value:"obj",children:"OBJ"}),(0,lr.jsx)("option",{value:"ply",children:"PLY"})]})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px",fontWeight:"bold"},children:"Quality:"}),(0,lr.jsxs)("select",{value:g,onChange:e=>v(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px"},disabled:m,children:[(0,lr.jsx)("option",{value:"low",children:"Low (Fast)"}),(0,lr.jsx)("option",{value:"medium",children:"Medium (Balanced)"}),(0,lr.jsx)("option",{value:"high",children:"High (Slow)"})]})]}),(0,lr.jsx)("div",{style:{display:"flex",alignItems:"end"},children:(0,lr.jsx)("button",{onClick:async()=>{if(i&&r&&o){y(!0),_(0),S(null);try{var e,t,n,l;const u={lot_area:(null===s||void 0===s||null===(e=s.lot_dimensions)||void 0===e?void 0:e.lot_area)||0,lot_frontage:(null===s||void 0===s||null===(t=s.lot_dimensions)||void 0===t?void 0:t.lot_frontage)||0,lot_depth:(null===s||void 0===s||null===(n=s.lot_dimensions)||void 0===n?void 0:n.lot_depth)||0,address:(null===r||void 0===r||null===(l=r.properties)||void 0===l?void 0:l.address)||"Unknown"},c={ZONING_DISTRICT:o.ZONING_DISTRICT,FAR:o.FAR,max_height:o.max_height,coverage:o.coverage,front:o.front,side:o.side,rear:o.rear},h={prompt:i.prompt,variant_id:i.id,site_data:u,zoning_data:c,model_name:d,output_format:f,quality:g,seed:Math.floor(1e6*Math.random())},p=setInterval(()=>{_(e=>e>=90?(clearInterval(p),e):e+10)},2e3),v=await fetch("/api/hf/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});clearInterval(p),_(100);const m=await v.json();if(m.success){const e={data:m.model_data?Uint8Array.from(atob(m.model_data),e=>e.charCodeAt(0)):null,format:m.model_format,metadata:m.metadata,generationTime:m.generation_time,variantId:i.id,modelName:d};k(e),a&&a(e)}else S(m.error||"Generation failed")}catch(w){console.error("Error generating 3D model:",w),S("Failed to generate 3D model")}finally{y(!1),_(0)}}else S("Please select a variant and ensure parcel/zoning data is available")},disabled:m,style:{width:"100%",padding:"10px",backgroundColor:m?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:m?"not-allowed":"pointer",fontSize:"12px",fontWeight:"bold"},children:m?"Generating...":"Generate 3D Model"})})]})]}),E[d]&&(0,lr.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"11px"},children:[(0,lr.jsx)("strong",{children:"Model Info:"})," ",E[d].model_id,(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Supported Formats:"})," ",null===(n=E[d].supported_formats)||void 0===n?void 0:n.join(", "),(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Status:"})," ",E[d].available?"Available":"Unavailable"]}),w&&(0,lr.jsxs)("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24",fontSize:"12px"},children:[(0,lr.jsx)("strong",{children:"Error:"})," ",w]}),m?(0,lr.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px",border:"1px solid #bbdefb"},children:[(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,lr.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#1976d2"},children:"Generating 3D Model..."}),(0,lr.jsxs)("span",{style:{fontSize:"12px",color:"#666"},children:[x,"%"]})]}),(0,lr.jsx)("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden"},children:(0,lr.jsx)("div",{style:{width:"".concat(x,"%"),height:"100%",backgroundColor:"#1976d2",transition:"width 0.3s ease"}})}),(0,lr.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"5px",fontStyle:"italic"},children:"This may take 2-5 minutes depending on model complexity"})]}):null,(()=>{var e;return b?(0,lr.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",marginTop:"15px",backgroundColor:"#f8f9fa"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:"Generated 3D Model"}),(0,lr.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginBottom:"10px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Model:"})," ",b.modelName]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Format:"})," ",b.format]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Generation Time:"})," ",null===(e=b.generationTime)||void 0===e?void 0:e.toFixed(1),"s"]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Variant:"})," ",b.variantId]})]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,lr.jsx)("button",{onClick:j,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Download Model"}),(0,lr.jsx)("button",{onClick:()=>k(null),style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Clear"})]})]}):null})(),(0,lr.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:"Selected Variant"}),(0,lr.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Name:"})," ",i.name]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"ID:"})," ",i.id]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Description:"})," ",i.description]}),i.metadata&&(0,lr.jsxs)("div",{style:{marginTop:"5px"},children:[(0,lr.jsx)("strong",{children:"Parameters:"}),(0,lr.jsx)("ul",{style:{margin:"5px 0",paddingLeft:"20px"},children:Object.entries(i.metadata).map(e=>{let[t,n]=e;return(0,lr.jsxs)("li",{children:[t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),": ",n]},t)})})]})]})]})]}):(0,lr.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontStyle:"italic"},children:"Please select a variant to generate 3D model"})};function vr(e,t){return function(){return e.apply(t,arguments)}}const{toString:mr}=Object.prototype,{getPrototypeOf:yr}=Object,{iterator:xr,toStringTag:_r}=Symbol,br=(kr=Object.create(null),e=>{const t=mr.call(e);return kr[t]||(kr[t]=t.slice(8,-1).toLowerCase())});var kr;const wr=e=>(e=e.toLowerCase(),t=>br(t)===e),Sr=e=>t=>typeof t===e,{isArray:Er}=Array,Nr=Sr("undefined");function Cr(e){return null!==e&&!Nr(e)&&null!==e.constructor&&!Nr(e.constructor)&&Tr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ir=wr("ArrayBuffer");const jr=Sr("string"),Tr=Sr("function"),Rr=Sr("number"),Or=e=>null!==e&&"object"===typeof e,Lr=e=>{if("object"!==br(e))return!1;const t=yr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(_r in e)&&!(xr in e)},Pr=wr("Date"),Ar=wr("File"),Mr=wr("Blob"),Dr=wr("FileList"),Fr=wr("URLSearchParams"),[zr,Br,Ur,qr]=["ReadableStream","Request","Response","Headers"].map(wr);function Vr(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Er(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Cr(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function Gr(e,t){if(Cr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Hr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Yr=e=>!Nr(e)&&e!==Hr;const Wr=(Xr="undefined"!==typeof Uint8Array&&yr(Uint8Array),e=>Xr&&e instanceof Xr);var Xr;const $r=wr("HTMLFormElement"),Zr=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Kr=wr("RegExp"),Qr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Vr(n,(n,r)=>{let o;!1!==(o=t(n,r,e))&&(i[r]=o||n)}),Object.defineProperties(e,i)};const Jr=wr("AsyncFunction"),eo=(to="function"===typeof setImmediate,no=Tr(Hr.postMessage),to?setImmediate:no?((e,t)=>(Hr.addEventListener("message",n=>{let{source:i,data:r}=n;i===Hr&&r===e&&t.length&&t.shift()()},!1),n=>{t.push(n),Hr.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var to,no;const io="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Hr):"undefined"!==typeof process&&process.nextTick||eo,ro={isArray:Er,isArrayBuffer:Ir,isBuffer:Cr,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Tr(e.append)&&("formdata"===(t=br(e))||"object"===t&&Tr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ir(e.buffer),t},isString:jr,isNumber:Rr,isBoolean:e=>!0===e||!1===e,isObject:Or,isPlainObject:Lr,isEmptyObject:e=>{if(!Or(e)||Cr(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(ln){return!1}},isReadableStream:zr,isRequest:Br,isResponse:Ur,isHeaders:qr,isUndefined:Nr,isDate:Pr,isFile:Ar,isBlob:Mr,isRegExp:Kr,isFunction:Tr,isStream:e=>Or(e)&&Tr(e.pipe),isURLSearchParams:Fr,isTypedArray:Wr,isFileList:Dr,forEach:Vr,merge:function e(){const{caseless:t}=Yr(this)&&this||{},n={},i=(i,r)=>{const o=t&&Gr(n,r)||r;Lr(n[o])&&Lr(i)?n[o]=e(n[o],i):Lr(i)?n[o]=e({},i):Er(i)?n[o]=i.slice():n[o]=i};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Vr(arguments[r],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Vr(t,(t,i)=>{n&&Tr(t)?e[i]=vr(t,n):e[i]=t},{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,o,s;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&yr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:br,kindOfTest:wr,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Er(e))return e;let t=e.length;if(!Rr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[xr]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:$r,hasOwnProperty:Zr,hasOwnProp:Zr,reduceDescriptors:Qr,freezeMethods:e=>{Qr(e,(t,n)=>{if(Tr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Tr(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Er(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Gr,global:Hr,isContextDefined:Yr,isSpecCompliantForm:function(e){return!!(e&&Tr(e.append)&&"FormData"===e[_r]&&e[xr])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Or(e)){if(t.indexOf(e)>=0)return;if(Cr(e))return e;if(!("toJSON"in e)){t[i]=e;const r=Er(e)?[]:{};return Vr(e,(e,t)=>{const o=n(e,i+1);!Nr(o)&&(r[t]=o)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:Jr,isThenable:e=>e&&(Or(e)||Tr(e))&&Tr(e.then)&&Tr(e.catch),setImmediate:eo,asap:io,isIterable:e=>null!=e&&Tr(e[xr])};function oo(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}ro.inherits(oo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ro.toJSONObject(this.config),code:this.code,status:this.status}}});const so=oo.prototype,ao={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ao[e]={value:e}}),Object.defineProperties(oo,ao),Object.defineProperty(so,"isAxiosError",{value:!0}),oo.from=(e,t,n,i,r,o)=>{const s=Object.create(so);return ro.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),oo.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const lo=oo;function uo(e){return ro.isPlainObject(e)||ro.isArray(e)}function co(e){return ro.endsWith(e,"[]")?e.slice(0,-2):e}function ho(e,t,n){return e?e.concat(t).map(function(e,t){return e=co(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const fo=ro.toFlatObject(ro,{},null,function(e){return/^is[A-Z]/.test(e)});const po=function(e,t,n){if(!ro.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=ro.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ro.isUndefined(t[e])})).metaTokens,r=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ro.isSpecCompliantForm(t);if(!ro.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ro.isDate(e))return e.toISOString();if(ro.isBoolean(e))return e.toString();if(!a&&ro.isBlob(e))throw new lo("Blob is not supported. Use a Buffer instead.");return ro.isArrayBuffer(e)||ro.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,r){let a=e;if(e&&!r&&"object"===typeof e)if(ro.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(ro.isArray(e)&&function(e){return ro.isArray(e)&&!e.some(uo)}(e)||(ro.isFileList(e)||ro.endsWith(n,"[]"))&&(a=ro.toArray(e)))return n=co(n),a.forEach(function(e,i){!ro.isUndefined(e)&&null!==e&&t.append(!0===s?ho([n],i,o):null===s?n:n+"[]",l(e))}),!1;return!!uo(e)||(t.append(ho(r,n,o),l(e)),!1)}const c=[],d=Object.assign(fo,{defaultVisitor:u,convertValue:l,isVisitable:uo});if(!ro.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!ro.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),ro.forEach(n,function(n,o){!0===(!(ro.isUndefined(n)||null===n)&&r.call(t,n,ro.isString(o)?o.trim():o,i,d))&&e(n,i?i.concat(o):[o])}),c.pop()}}(e),t};function go(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function vo(e,t){this._pairs=[],e&&po(e,this,t)}const mo=vo.prototype;mo.append=function(e,t){this._pairs.push([e,t])},mo.toString=function(e){const t=e?function(t){return e.call(this,t,go)}:go;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const yo=vo;function xo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _o(e,t,n){if(!t)return e;const i=n&&n.encode||xo;ro.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(o=r?r(t,n):ro.isURLSearchParams(t)?t.toString():new yo(t,n).toString(i),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const bo=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ro.forEach(this.handlers,function(t){null!==t&&e(t)})}},ko={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wo={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:yo,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},So="undefined"!==typeof window&&"undefined"!==typeof document,Eo="object"===typeof navigator&&navigator||void 0,No=So&&(!Eo||["ReactNative","NativeScript","NS"].indexOf(Eo.product)<0),Co="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Io=So&&window.location.href||"http://localhost",jo=u(u({},e),wo);const To=function(e){function t(e,n,i,r){let o=e[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;if(o=!o&&ro.isArray(i)?i.length:o,a)return ro.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s;i[o]&&ro.isObject(i[o])||(i[o]=[]);return t(e,n,i[o],r)&&ro.isArray(i[o])&&(i[o]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}(i[o])),!s}if(ro.isFormData(e)&&ro.isFunction(e.entries)){const n={};return ro.forEachEntry(e,(e,i)=>{t(function(e){return ro.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null};const Ro={transitional:ko,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=ro.isObject(e);r&&ro.isHTMLForm(e)&&(e=new FormData(e));if(ro.isFormData(e))return i?JSON.stringify(To(e)):e;if(ro.isArrayBuffer(e)||ro.isBuffer(e)||ro.isStream(e)||ro.isFile(e)||ro.isBlob(e)||ro.isReadableStream(e))return e;if(ro.isArrayBufferView(e))return e.buffer;if(ro.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return po(e,new jo.classes.URLSearchParams,u({visitor:function(e,t,n,i){return jo.isNode&&ro.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=ro.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return po(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(ro.isString(e))try{return(t||JSON.parse)(e),ro.trim(e)}catch(ln){if("SyntaxError"!==ln.name)throw ln}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ro.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(ro.isResponse(e)||ro.isReadableStream(e))return e;if(e&&ro.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(ln){if(n){if("SyntaxError"===ln.name)throw lo.from(ln,lo.ERR_BAD_RESPONSE,this,null,this.response);throw ln}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jo.classes.FormData,Blob:jo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ro.forEach(["delete","get","head","post","put","patch"],e=>{Ro.headers[e]={}});const Oo=Ro,Lo=ro.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Po=Symbol("internals");function Ao(e){return e&&String(e).trim().toLowerCase()}function Mo(e){return!1===e||null==e?e:ro.isArray(e)?e.map(Mo):String(e)}function Do(e,t,n,i,r){return ro.isFunction(i)?i.call(this,t,n):(r&&(t=n),ro.isString(t)?ro.isString(i)?-1!==t.indexOf(i):ro.isRegExp(i)?i.test(t):void 0:void 0)}class Fo{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Ao(t);if(!r)throw new Error("header name must be a non-empty string");const o=ro.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=Mo(e))}const o=(e,t)=>ro.forEach(e,(e,n)=>r(e,n,t));if(ro.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ro.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Lo[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(ro.isObject(e)&&ro.isIterable(e)){let n,i,r={};for(const t of e){if(!ro.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?ro.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Ao(e)){const n=ro.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(ro.isFunction(t))return t.call(this,e,n);if(ro.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ao(e)){const n=ro.findKey(this,e);return!(!n||void 0===this[n]||t&&!Do(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Ao(e)){const r=ro.findKey(n,e);!r||t&&!Do(0,n[r],r,t)||(delete n[r],i=!0)}}return ro.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!Do(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return ro.forEach(this,(i,r)=>{const o=ro.findKey(n,r);if(o)return t[o]=Mo(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=Mo(i),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ro.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&ro.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Po]=this[Po]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Ao(e);t[i]||(!function(e,t){const n=ro.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return ro.isArray(e)?e.forEach(i):i(e),this}}Fo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ro.reduceDescriptors(Fo.prototype,(e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}}),ro.freezeMethods(Fo);const zo=Fo;function Bo(e,t){const n=this||Oo,i=t||n,r=zo.from(i.headers);let o=i.data;return ro.forEach(e,function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Uo(e){return!(!e||!e.__CANCEL__)}function qo(e,t,n){lo.call(this,null==e?"canceled":e,lo.ERR_CANCELED,t,n),this.name="CanceledError"}ro.inherits(qo,lo,{__CANCEL__:!0});const Vo=qo;function Go(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new lo("Request failed with status code "+n.status,[lo.ERR_BAD_REQUEST,lo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ho=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=i[s];r||(r=l),n[o]=a,i[o]=l;let c=s,d=0;for(;c!==o;)d+=n[c++],c%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-r<t)return;const h=u&&l-u;return h?Math.round(1e3*d/h):void 0}};const Yo=function(e,t){let n,i,r=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=o,n=null,i&&(clearTimeout(i),i=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];t>=o?s(l,e):(n=l,i||(i=setTimeout(()=>{i=null,s(n)},o-t)))},()=>n&&s(n)]},Wo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=Ho(50,250);return Yo(n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-i,l=r(a);i=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},Xo=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},$o=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ro.asap(()=>e(...n))},Zo=jo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,jo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(jo.origin),jo.navigator&&/(msie|trident)/i.test(jo.navigator.userAgent)):()=>!0,Ko=jo.hasStandardBrowserEnv?{write(e,t,n,i,r,o){const s=[e+"="+encodeURIComponent(t)];ro.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ro.isString(i)&&s.push("path="+i),ro.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Qo(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Jo=e=>e instanceof zo?u({},e):e;function es(e,t){t=t||{};const n={};function i(e,t,n,i){return ro.isPlainObject(e)&&ro.isPlainObject(t)?ro.merge.call({caseless:i},e,t):ro.isPlainObject(t)?ro.merge({},t):ro.isArray(t)?t.slice():t}function r(e,t,n,r){return ro.isUndefined(t)?ro.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function o(e,t){if(!ro.isUndefined(t))return i(void 0,t)}function s(e,t){return ro.isUndefined(t)?ro.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>r(Jo(e),Jo(t),0,!0)};return ro.forEach(Object.keys(u(u({},e),t)),function(i){const o=l[i]||r,s=o(e[i],t[i],i);ro.isUndefined(s)&&o!==a||(n[i]=s)}),n}const ts=e=>{const t=es({},e);let n,{data:i,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=zo.from(a),t.url=_o(Qo(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ro.isFormData(i))if(jo.hasStandardBrowserEnv||jo.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(jo.hasStandardBrowserEnv&&(r&&ro.isFunction(r)&&(r=r(t)),r||!1!==r&&Zo(t.url))){const e=o&&s&&Ko.read(s);e&&a.set(o,e)}return t},ns="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const i=ts(e);let r=i.data;const o=zo.from(i.headers).normalize();let s,a,l,u,c,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=i;function p(){u&&u(),c&&c(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;function v(){if(!g)return;const i=zo.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Go(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:e,request:g}),g=null}g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout,"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(v)},g.onabort=function(){g&&(n(new lo("Request aborted",lo.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new lo("Network Error",lo.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||ko;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new lo(t,r.clarifyTimeoutError?lo.ETIMEDOUT:lo.ECONNABORTED,e,g)),g=null},void 0===r&&o.setContentType(null),"setRequestHeader"in g&&ro.forEach(o.toJSON(),function(e,t){g.setRequestHeader(t,e)}),ro.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),d&&"json"!==d&&(g.responseType=i.responseType),f&&([l,c]=Wo(f,!0),g.addEventListener("progress",l)),h&&g.upload&&([a,u]=Wo(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",u)),(i.cancelToken||i.signal)&&(s=t=>{g&&(n(!t||t.type?new Vo(null,e,g):t),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);m&&-1===jo.protocols.indexOf(m)?n(new lo("Unsupported protocol "+m+":",lo.ERR_BAD_REQUEST,e)):g.send(r||null)})},is=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof lo?t:new Vo(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,r(new lo("timeout ".concat(t," of ms exceeded"),lo.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:a}=i;return a.unsubscribe=()=>ro.asap(s),a}};function rs(e,t){this.v=e,this.k=t}function os(e){return function(){return new ss(e.apply(this,arguments))}}function ss(e){var t,n;function i(t,n){try{var o=e[t](n),s=o.value,a=s instanceof rs;Promise.resolve(a?s.v:s).then(function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return i(l,n);n=e[l](n).value}r(o.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(o,s){var a={key:e,arg:r,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function as(e){return new rs(e,0)}function ls(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new rs(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function us(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new cs(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function cs(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return cs=function(e){this.s=e,this.n=e.next},cs.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new cs(e)}ss.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ss.prototype.next=function(e){return this._invoke("next",e)},ss.prototype.throw=function(e){return this._invoke("throw",e)},ss.prototype.return=function(e){return this._invoke("return",e)};const ds=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},hs=function(){var e=os(function*(e,t){var n,i=!1,r=!1;try{for(var o,s=us(fs(e));i=!(o=yield as(s.next())).done;i=!1){const e=o.value;yield*ls(us(ds(e,t)))}}catch(a){r=!0,n=a}finally{try{i&&null!=s.return&&(yield as(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),fs=function(){var e=os(function*(e){if(e[Symbol.asyncIterator])return void(yield*ls(us(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield as(t.read());if(e)break;yield n}}finally{yield as(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ps=(e,t,n,i)=>{const r=hs(e,t);let o,s=0,a=e=>{o||(o=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return a(),void e.close();let o=i.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:e=>(a(e),r.return())},{highWaterMark:2})},gs="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,vs=gs&&"function"===typeof ReadableStream,ms=gs&&("function"===typeof TextEncoder?(ys=new TextEncoder,e=>ys.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ys;const xs=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(ln){return!1}},_s=vs&&xs(()=>{let e=!1;const t=new Request(jo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),bs=vs&&xs(()=>ro.isReadableStream(new Response("").body)),ks={stream:bs&&(e=>e.body)};var ws;gs&&(ws=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ks[e]&&(ks[e]=ro.isFunction(ws[e])?t=>t[e]():(t,n)=>{throw new lo("Response type '".concat(e,"' is not supported"),lo.ERR_NOT_SUPPORT,n)})}));const Ss=async(e,t)=>{const n=ro.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ro.isBlob(e))return e.size;if(ro.isSpecCompliantForm(e)){const t=new Request(jo.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ro.isArrayBufferView(e)||ro.isArrayBuffer(e)?e.byteLength:(ro.isURLSearchParams(e)&&(e+=""),ro.isString(e)?(await ms(e)).byteLength:void 0)})(t):n},Es=gs&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:f}=ts(e);c=c?(c+"").toLowerCase():"text";let p,g=is([r,o&&o.toAbortSignal()],s);const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let m;try{if(l&&_s&&"get"!==n&&"head"!==n&&0!==(m=await Ss(d,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(ro.isFormData(i)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Xo(m,Wo($o(l)));i=ps(n.body,65536,e,t)}}ro.isString(h)||(h=h?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,u(u({},f),{},{signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:r?h:void 0}));let o=await fetch(p,f);const s=bs&&("stream"===c||"response"===c);if(bs&&(a||s&&v)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=ro.toFiniteNumber(o.headers.get("content-length")),[n,i]=a&&Xo(t,Wo($o(a),!0))||[];o=new Response(ps(o.body,65536,n,()=>{i&&i(),v&&v()}),e)}c=c||"text";let y=await ks[ro.findKey(ks,c)||"text"](o,e);return!s&&v&&v(),await new Promise((t,n)=>{Go(t,n,{data:y,headers:zo.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})})}catch(y){if(v&&v(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new lo("Network Error",lo.ERR_NETWORK,e,p),{cause:y.cause||y});throw lo.from(y,y&&y.code,e,p)}}),Ns={http:null,xhr:ns,fetch:Es};ro.forEach(Ns,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ln){}Object.defineProperty(e,"adapterName",{value:t})}});const Cs=e=>"- ".concat(e),Is=e=>ro.isFunction(e)||null===e||!1===e,js=e=>{e=ro.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],i=n,!Is(n)&&(i=Ns[(t=String(n)).toLowerCase()],void 0===i))throw new lo("Unknown adapter '".concat(t,"'"));if(i)break;r[t||"#"+o]=i}if(!i){const e=Object.entries(r).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Cs).join("\n"):" "+Cs(e[0]):"as no adapter specified";throw new lo("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Ts(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vo(null,e)}function Rs(e){Ts(e),e.headers=zo.from(e.headers),e.data=Bo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return js(e.adapter||Oo.adapter)(e).then(function(t){return Ts(e),t.data=Bo.call(e,e.transformResponse,t),t.headers=zo.from(t.headers),t},function(t){return Uo(t)||(Ts(e),t&&t.response&&(t.response.data=Bo.call(e,e.transformResponse,t.response),t.response.headers=zo.from(t.response.headers))),Promise.reject(t)})}const Os="1.11.0",Ls={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ls[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ps={};Ls.transitional=function(e,t,n){function i(e,t){return"[Axios v"+Os+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new lo(i(r," has been removed"+(t?" in "+t:"")),lo.ERR_DEPRECATED);return t&&!Ps[r]&&(Ps[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},Ls.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const As={assertOptions:function(e,t,n){if("object"!==typeof e)throw new lo("options must be an object",lo.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new lo("option "+o+" must be "+n,lo.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new lo("Unknown option "+o,lo.ERR_BAD_OPTION)}},validators:Ls},Ms=As.validators;class Ds{constructor(e){this.defaults=e||{},this.interceptors={request:new bo,response:new bo}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ln){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=es(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&As.assertOptions(n,{silentJSONParsing:Ms.transitional(Ms.boolean),forcedJSONParsing:Ms.transitional(Ms.boolean),clarifyTimeoutError:Ms.transitional(Ms.boolean)},!1),null!=i&&(ro.isFunction(i)?t.paramsSerializer={serialize:i}:As.assertOptions(i,{encode:Ms.function,serialize:Ms.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),As.assertOptions(t,{baseUrl:Ms.spelling("baseURL"),withXsrfToken:Ms.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&ro.merge(r.common,r[t.method]);r&&ro.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=zo.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let u;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!a){const e=[Rs.bind(this),void 0];for(e.unshift(...s),e.push(...l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=s.length;let h=t;for(d=0;d<c;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{u=Rs.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return _o(Qo((e=es(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ro.forEach(["delete","get","head","options"],function(e){Ds.prototype[e]=function(t,n){return this.request(es(n||{},{method:e,url:t,data:(n||{}).data}))}}),ro.forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request(es(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ds.prototype[e]=t(),Ds.prototype[e+"Form"]=t(!0)});const Fs=Ds;class zs{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,r){n.reason||(n.reason=new Vo(e,i,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zs(function(t){e=t}),cancel:e}}}const Bs=zs;const Us={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Us).forEach(e=>{let[t,n]=e;Us[n]=t});const qs=Us;const Vs=function e(t){const n=new Fs(t),i=vr(Fs.prototype.request,n);return ro.extend(i,Fs.prototype,n,{allOwnKeys:!0}),ro.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(es(t,n))},i}(Oo);Vs.Axios=Fs,Vs.CanceledError=Vo,Vs.CancelToken=Bs,Vs.isCancel=Uo,Vs.VERSION=Os,Vs.toFormData=po,Vs.AxiosError=lo,Vs.Cancel=Vs.CanceledError,Vs.all=function(e){return Promise.all(e)},Vs.spread=function(e){return function(t){return e.apply(null,t)}},Vs.isAxiosError=function(e){return ro.isObject(e)&&!0===e.isAxiosError},Vs.mergeConfig=es,Vs.AxiosHeaders=zo,Vs.formToJSON=e=>To(ro.isHTMLForm(e)?new FormData(e):e),Vs.getAdapter=js,Vs.HttpStatusCode=qs,Vs.default=Vs;const Gs=Vs,Hs=e=>{let{onExampleSelect:n,selectedExamples:i=[]}=e;const[r,o]=(0,t.useState)([]),[s,a]=(0,t.useState)({}),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)("browse"),[f,p]=(0,t.useState)("multiplex"),[g,v]=(0,t.useState)({name:"",description:"",category:"multiplex",tags:[],imageUrl:""}),[m,y]=(0,t.useState)(null);(0,t.useEffect)(()=>{x(),_()},[]);const x=async()=>{try{c(!0);const e=await Gs.get("/api/few-shot/examples");o(e.data.examples)}catch(e){console.error("Error loading examples:",e)}finally{c(!1)}},_=async()=>{try{const e=await Gs.get("/api/few-shot/categories");a(e.data.categories)}catch(e){console.error("Error loading categories:",e)}},b=e=>{if(n){const t=i.includes(e);n(t?i.filter(t=>t!==e):[...i,e])}},k=r.filter(e=>"all"===f||e.category===f);return(0,lr.jsxs)("div",{className:"few-shot-manager",children:[(0,lr.jsxs)("div",{className:"few-shot-header",children:[(0,lr.jsx)("h3",{children:"Few-Shot Learning Examples"}),(0,lr.jsxs)("div",{className:"tab-buttons",children:[(0,lr.jsx)("button",{className:"browse"===d?"active":"",onClick:()=>h("browse"),children:"Browse Examples"}),(0,lr.jsx)("button",{className:"add"===d?"active":"",onClick:()=>h("add"),children:"Add Example"})]})]}),"browse"===d&&(0,lr.jsxs)("div",{className:"browse-section",children:[(0,lr.jsxs)("div",{className:"category-filter",children:[(0,lr.jsx)("label",{children:"Filter by Category:"}),(0,lr.jsxs)("select",{value:f,onChange:e=>p(e.target.value),children:[(0,lr.jsx)("option",{value:"all",children:"All Categories"}),Object.entries(s).map(e=>{let[t,n]=e;return(0,lr.jsx)("option",{value:t,children:n},t)})]})]}),l?(0,lr.jsx)("div",{className:"loading",children:"Loading examples..."}):(0,lr.jsx)("div",{className:"examples-grid",children:k.map(e=>(0,lr.jsxs)("div",{className:"example-card ".concat(i.includes(e.id)?"selected":""),onClick:()=>b(e.id),children:[e.image_path&&(0,lr.jsx)("div",{className:"example-image",children:(0,lr.jsx)("img",{src:"/api/few-shot/examples/".concat(e.id,"/image"),alt:e.name,onError:e=>{e.target.style.display="none"}})}),(0,lr.jsxs)("div",{className:"example-info",children:[(0,lr.jsx)("h4",{children:e.name}),(0,lr.jsx)("p",{children:e.description}),(0,lr.jsxs)("div",{className:"example-tags",children:[(0,lr.jsx)("span",{className:"category",children:e.category}),e.tags.map(e=>(0,lr.jsx)("span",{className:"tag",children:e},e))]})]}),(0,lr.jsx)("button",{className:"delete-btn",onClick:t=>{t.stopPropagation(),(async e=>{try{(await Gs.delete("/api/few-shot/delete-example/".concat(e))).data.success&&x()}catch(t){console.error("Error deleting example:",t)}})(e.id)},children:"\xd7"})]},e.id))}),0===k.length&&!l&&(0,lr.jsxs)("div",{className:"no-examples",children:[(0,lr.jsx)("p",{children:"No examples found for this category."}),(0,lr.jsx)("p",{children:"Add some examples to get started!"})]})]}),"add"===d&&(0,lr.jsxs)("div",{className:"add-section",children:[(0,lr.jsxs)("div",{className:"form-group",children:[(0,lr.jsx)("label",{children:"Name:"}),(0,lr.jsx)("input",{type:"text",value:g.name,onChange:e=>v(u(u({},g),{},{name:e.target.value})),placeholder:"Example name"})]}),(0,lr.jsxs)("div",{className:"form-group",children:[(0,lr.jsx)("label",{children:"Description:"}),(0,lr.jsx)("textarea",{value:g.description,onChange:e=>v(u(u({},g),{},{description:e.target.value})),placeholder:"Describe the architectural style, features, etc.",rows:3})]}),(0,lr.jsxs)("div",{className:"form-group",children:[(0,lr.jsx)("label",{children:"Category:"}),(0,lr.jsx)("select",{value:g.category,onChange:e=>v(u(u({},g),{},{category:e.target.value})),children:Object.entries(s).map(e=>{let[t,n]=e;return(0,lr.jsx)("option",{value:t,children:n},t)})})]}),(0,lr.jsxs)("div",{className:"form-group",children:[(0,lr.jsx)("label",{children:"Tags (comma-separated):"}),(0,lr.jsx)("input",{type:"text",value:g.tags.join(", "),onChange:e=>v(u(u({},g),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),placeholder:"modern, sustainable, mixed-use"})]}),(0,lr.jsxs)("div",{className:"form-group",children:[(0,lr.jsx)("label",{children:"Image Upload:"}),(0,lr.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&y(t)}}),m&&(0,lr.jsx)("div",{className:"image-preview",children:(0,lr.jsx)("img",{src:URL.createObjectURL(m),alt:"Preview",style:{maxWidth:"200px",maxHeight:"200px"}})})]}),(0,lr.jsxs)("div",{className:"form-group",children:[(0,lr.jsx)("label",{children:"Or Image URL:"}),(0,lr.jsx)("input",{type:"url",value:g.imageUrl,onChange:e=>v(u(u({},g),{},{imageUrl:e.target.value})),placeholder:"https://example.com/image.jpg"})]}),(0,lr.jsxs)("div",{className:"form-actions",children:[(0,lr.jsx)("button",{onClick:async()=>{try{c(!0);let e=null;if(m){const t=new FileReader;e=await new Promise(e=>{t.onload=()=>e(t.result.split(",")[1]),t.readAsDataURL(m)})}(await Gs.post("/api/few-shot/add-example",u(u({},g),{},{image_data:e}))).data.success&&(v({name:"",description:"",category:"multiplex",tags:[],imageUrl:""}),y(null),x())}catch(e){console.error("Error adding example:",e)}finally{c(!1)}},disabled:l||!g.name||!g.description,children:l?"Adding...":"Add Example"}),g.imageUrl&&(0,lr.jsx)("button",{onClick:async()=>{try{c(!0);(await Gs.post("/api/few-shot/download-example",{url:g.imageUrl,name:g.name,category:g.category})).data.success&&(v({name:"",description:"",category:"multiplex",tags:[],imageUrl:""}),x())}catch(e){console.error("Error downloading example:",e)}finally{c(!1)}},disabled:l||!g.name,children:l?"Downloading...":"Download from URL"})]})]}),i.length>0&&(0,lr.jsxs)("div",{className:"selected-examples",children:[(0,lr.jsxs)("h4",{children:["Selected Examples (",i.length,")"]}),(0,lr.jsx)("div",{className:"selected-list",children:i.map(e=>{const t=r.find(t=>t.id===e);return t?(0,lr.jsxs)("span",{className:"selected-tag",children:[t.name,(0,lr.jsx)("button",{onClick:()=>b(e),children:"\xd7"})]},e):null})})]})]})};var Ys=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ws=Math.ceil,Xs=Math.floor,$s="[BigNumber Error] ",Zs=$s+"Number primitive has more than 15 significant digits: ",Ks=1e14,Qs=14,Js=9007199254740991,ea=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ta=1e7,na=1e9;function ia(e){var t=0|e;return e>0||e===t?t:t-1}function ra(e){for(var t,n,i=1,r=e.length,o=e[0]+"";i<r;){for(t=e[i++]+"",n=Qs-t.length;n--;t="0"+t);o+=t}for(r=o.length;48===o.charCodeAt(--r););return o.slice(0,r+1||1)}function oa(e,t){var n,i,r=e.c,o=t.c,s=e.s,a=t.s,l=e.e,u=t.e;if(!s||!a)return null;if(n=r&&!r[0],i=o&&!o[0],n||i)return n?i?0:-a:s;if(s!=a)return s;if(n=s<0,i=l==u,!r||!o)return i?0:!r^n?1:-1;if(!i)return l>u^n?1:-1;for(a=(l=r.length)<(u=o.length)?l:u,s=0;s<a;s++)if(r[s]!=o[s])return r[s]>o[s]^n?1:-1;return l==u?0:l>u^n?1:-1}function sa(e,t,n,i){if(e<t||e>n||e!==Xs(e))throw Error($s+(i||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function aa(e){var t=e.c.length-1;return ia(e.e/Qs)==t&&e.c[t]%2!=0}function la(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ua(e,t,n){var i,r;if(t<0){for(r=n+".";++t;r+=n);e=r+e}else if(++t>(i=e.length)){for(r=n,t-=i;--t;r+=n);e+=r}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}var ca=function e(t){var n,i,r,o=x.prototype={constructor:x,toString:null,valueOf:null},s=new x(1),a=20,l=4,u=-7,c=21,d=-1e7,h=1e7,f=!1,p=1,g=0,v={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},m="0123456789abcdefghijklmnopqrstuvwxyz",y=!0;function x(e,t){var n,o,s,u,c,f,p,g,v=this;if(!(v instanceof x))return new x(e,t);if(null==t){if(e&&!0===e._isBigNumber)return v.s=e.s,void(!e.c||e.e>h?v.c=v.e=null:e.e<d?v.c=[v.e=0]:(v.e=e.e,v.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(v.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,c=e;c>=10;c/=10,u++);return void(u>h?v.c=v.e=null:(v.e=u,v.c=[e]))}g=String(e)}else{if(!Ys.test(g=String(e)))return r(v,g,f);v.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(u=g.indexOf("."))>-1&&(g=g.replace(".","")),(c=g.search(/e/i))>0?(u<0&&(u=c),u+=+g.slice(c+1),g=g.substring(0,c)):u<0&&(u=g.length)}else{if(sa(t,2,m.length,"Base"),10==t&&y)return w(v=new x(e),a+v.e+1,l);if(g=String(e),f="number"==typeof e){if(0*e!=0)return r(v,g,f,t);if(v.s=1/e<0?(g=g.slice(1),-1):1,x.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(Zs+e)}else v.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=m.slice(0,t),u=c=0,p=g.length;c<p;c++)if(n.indexOf(o=g.charAt(c))<0){if("."==o){if(c>u){u=p;continue}}else if(!s&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){s=!0,c=-1,u=0;continue}return r(v,String(e),f,t)}f=!1,(u=(g=i(g,t,10,v.s)).indexOf("."))>-1?g=g.replace(".",""):u=g.length}for(c=0;48===g.charCodeAt(c);c++);for(p=g.length;48===g.charCodeAt(--p););if(g=g.slice(c,++p)){if(p-=c,f&&x.DEBUG&&p>15&&(e>Js||e!==Xs(e)))throw Error(Zs+v.s*e);if((u=u-c-1)>h)v.c=v.e=null;else if(u<d)v.c=[v.e=0];else{if(v.e=u,v.c=[],c=(u+1)%Qs,u<0&&(c+=Qs),c<p){for(c&&v.c.push(+g.slice(0,c)),p-=Qs;c<p;)v.c.push(+g.slice(c,c+=Qs));c=Qs-(g=g.slice(c)).length}else c-=p;for(;c--;g+="0");v.c.push(+g)}}else v.c=[v.e=0]}function _(e,t,n,i){var r,o,s,a,d;if(null==n?n=l:sa(n,0,8),!e.c)return e.toString();if(r=e.c[0],s=e.e,null==t)d=ra(e.c),d=1==i||2==i&&(s<=u||s>=c)?la(d,s):ua(d,s,"0");else if(o=(e=w(new x(e),t,n)).e,a=(d=ra(e.c)).length,1==i||2==i&&(t<=o||o<=u)){for(;a<t;d+="0",a++);d=la(d,o)}else if(t-=s+(2===i&&o>s),d=ua(d,o,"0"),o+1>a){if(--t>0)for(d+=".";t--;d+="0");}else if((t+=o-a)>0)for(o+1==a&&(d+=".");t--;d+="0");return e.s<0&&r?"-"+d:d}function b(e,t){for(var n,i,r=1,o=new x(e[0]);r<e.length;r++)(!(i=new x(e[r])).s||(n=oa(o,i))===t||0===n&&o.s===t)&&(o=i);return o}function k(e,t,n){for(var i=1,r=t.length;!t[--r];t.pop());for(r=t[0];r>=10;r/=10,i++);return(n=i+n*Qs-1)>h?e.c=e.e=null:n<d?e.c=[e.e=0]:(e.e=n,e.c=t),e}function w(e,t,n,i){var r,o,s,a,l,u,c,f=e.c,p=ea;if(f){e:{for(r=1,a=f[0];a>=10;a/=10,r++);if((o=t-r)<0)o+=Qs,s=t,l=f[u=0],c=Xs(l/p[r-s-1]%10);else if((u=Ws((o+1)/Qs))>=f.length){if(!i)break e;for(;f.length<=u;f.push(0));l=c=0,r=1,s=(o%=Qs)-Qs+1}else{for(l=a=f[u],r=1;a>=10;a/=10,r++);c=(s=(o%=Qs)-Qs+r)<0?0:Xs(l/p[r-s-1]%10)}if(i=i||t<0||null!=f[u+1]||(s<0?l:l%p[r-s-1]),i=n<4?(c||i)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||i||6==n&&(o>0?s>0?l/p[r-s]:0:f[u-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,i?(t-=e.e+1,f[0]=p[(Qs-t%Qs)%Qs],e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=u,a=1,u--):(f.length=u+1,a=p[Qs-o],f[u]=s>0?Xs(l/p[r-s]%p[s])*a:0),i)for(;;){if(0==u){for(o=1,s=f[0];s>=10;s/=10,o++);for(s=f[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(e.e++,f[0]==Ks&&(f[0]=1));break}if(f[u]+=a,f[u]!=Ks)break;f[u--]=0,a=1}for(o=f.length;0===f[--o];f.pop());}e.e>h?e.c=e.e=null:e.e<d&&(e.c=[e.e=0])}return e}function S(e){var t,n=e.e;return null===n?e.toString():(t=ra(e.c),t=n<=u||n>=c?la(t,n):ua(t,n,"0"),e.s<0?"-"+t:t)}return x.clone=e,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error($s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(sa(n=e[t],0,na,t),a=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(sa(n=e[t],0,8,t),l=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(sa(n[0],-na,0,t),sa(n[1],0,na,t),u=n[0],c=n[1]):(sa(n,-na,na,t),u=-(c=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)sa(n[0],-na,-1,t),sa(n[1],1,na,t),d=n[0],h=n[1];else{if(sa(n,-na,na,t),!n)throw Error($s+t+" cannot be zero: "+n);d=-(h=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error($s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw f=!n,Error($s+"crypto unavailable");f=n}else f=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(sa(n=e[t],0,9,t),p=n),e.hasOwnProperty(t="POW_PRECISION")&&(sa(n=e[t],0,na,t),g=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error($s+t+" not an object: "+n);v=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error($s+t+" invalid: "+n);y="0123456789"==n.slice(0,10),m=n}}return{DECIMAL_PLACES:a,ROUNDING_MODE:l,EXPONENTIAL_AT:[u,c],RANGE:[d,h],CRYPTO:f,MODULO_MODE:p,POW_PRECISION:g,FORMAT:v,ALPHABET:m}},x.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!x.DEBUG)return!0;var t,n,i=e.c,r=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===o||-1===o)&&r>=-na&&r<=na&&r===Xs(r)){if(0===i[0]){if(0===r&&1===i.length)return!0;break e}if((t=(r+1)%Qs)<1&&(t+=Qs),String(i[0]).length==t){for(t=0;t<i.length;t++)if((n=i[t])<0||n>=Ks||n!==Xs(n))break e;if(0!==n)return!0}}}else if(null===i&&null===r&&(null===o||1===o||-1===o))return!0;throw Error($s+"Invalid BigNumber: "+e)},x.maximum=x.max=function(){return b(arguments,-1)},x.minimum=x.min=function(){return b(arguments,1)},x.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return Xs(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,i,r,o,l,u=0,c=[],d=new x(s);if(null==e?e=a:sa(e,0,na),o=Ws(e/Qs),f)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(o*=2));u<o;)(l=131072*n[u]+(n[u+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),n[u]=i[0],n[u+1]=i[1]):(c.push(l%1e14),u+=2);u=o/2}else{if(!crypto.randomBytes)throw f=!1,Error($s+"crypto unavailable");for(n=crypto.randomBytes(o*=7);u<o;)(l=281474976710656*(31&n[u])+1099511627776*n[u+1]+4294967296*n[u+2]+16777216*n[u+3]+(n[u+4]<<16)+(n[u+5]<<8)+n[u+6])>=9e15?crypto.randomBytes(7).copy(n,u):(c.push(l%1e14),u+=7);u=o/7}if(!f)for(;u<o;)(l=t())<9e15&&(c[u++]=l%1e14);for(o=c[--u],e%=Qs,o&&e&&(l=ea[Qs-e],c[u]=Xs(o/l)*l);0===c[u];c.pop(),u--);if(u<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=Qs);for(u=1,l=c[0];l>=10;l/=10,u++);u<Qs&&(r-=Qs-u)}return d.e=r,d.c=c,d}}(),x.sum=function(){for(var e=1,t=arguments,n=new x(t[0]);e<t.length;)n=n.plus(t[e++]);return n},i=function(){var e="0123456789";function t(e,t,n,i){for(var r,o,s=[0],a=0,l=e.length;a<l;){for(o=s.length;o--;s[o]*=t);for(s[0]+=i.indexOf(e.charAt(a++)),r=0;r<s.length;r++)s[r]>n-1&&(null==s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}return function(i,r,o,s,u){var c,d,h,f,p,v,y,_,b=i.indexOf("."),k=a,w=l;for(b>=0&&(f=g,g=0,i=i.replace(".",""),v=(_=new x(r)).pow(i.length-b),g=f,_.c=t(ua(ra(v.c),v.e,"0"),10,o,e),_.e=_.c.length),h=f=(y=t(i,r,o,u?(c=m,e):(c=e,m))).length;0==y[--f];y.pop());if(!y[0])return c.charAt(0);if(b<0?--h:(v.c=y,v.e=h,v.s=s,y=(v=n(v,_,k,w,o)).c,p=v.r,h=v.e),b=y[d=h+k+1],f=o/2,p=p||d<0||null!=y[d+1],p=w<4?(null!=b||p)&&(0==w||w==(v.s<0?3:2)):b>f||b==f&&(4==w||p||6==w&&1&y[d-1]||w==(v.s<0?8:7)),d<1||!y[0])i=p?ua(c.charAt(1),-k,c.charAt(0)):c.charAt(0);else{if(y.length=d,p)for(--o;++y[--d]>o;)y[d]=0,d||(++h,y=[1].concat(y));for(f=y.length;!y[--f];);for(b=0,i="";b<=f;i+=c.charAt(y[b++]));i=ua(i,h,c.charAt(0))}return i}}(),n=function(){function e(e,t,n){var i,r,o,s,a=0,l=e.length,u=t%ta,c=t/ta|0;for(e=e.slice();l--;)a=((r=u*(o=e[l]%ta)+(i=c*o+(s=e[l]/ta|0)*u)%ta*ta+a)/n|0)+(i/ta|0)+c*s,e[l]=r%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,i){var r,o;if(n!=i)o=n>i?1:-1;else for(r=o=0;r<n;r++)if(e[r]!=t[r]){o=e[r]>t[r]?1:-1;break}return o}function n(e,t,n,i){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*i+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,r,o,s,a){var l,u,c,d,h,f,p,g,v,m,y,_,b,k,S,E,N,C=i.s==r.s?1:-1,I=i.c,j=r.c;if(!I||!I[0]||!j||!j[0])return new x(i.s&&r.s&&(I?!j||I[0]!=j[0]:j)?I&&0==I[0]||!j?0*C:C/0:NaN);for(v=(g=new x(C)).c=[],C=o+(u=i.e-r.e)+1,a||(a=Ks,u=ia(i.e/Qs)-ia(r.e/Qs),C=C/Qs|0),c=0;j[c]==(I[c]||0);c++);if(j[c]>(I[c]||0)&&u--,C<0)v.push(1),d=!0;else{for(k=I.length,E=j.length,c=0,C+=2,(h=Xs(a/(j[0]+1)))>1&&(j=e(j,h,a),I=e(I,h,a),E=j.length,k=I.length),b=E,y=(m=I.slice(0,E)).length;y<E;m[y++]=0);N=j.slice(),N=[0].concat(N),S=j[0],j[1]>=a/2&&S++;do{if(h=0,(l=t(j,m,E,y))<0){if(_=m[0],E!=y&&(_=_*a+(m[1]||0)),(h=Xs(_/S))>1)for(h>=a&&(h=a-1),p=(f=e(j,h,a)).length,y=m.length;1==t(f,m,p,y);)h--,n(f,E<p?N:j,p,a),p=f.length,l=1;else 0==h&&(l=h=1),p=(f=j.slice()).length;if(p<y&&(f=[0].concat(f)),n(m,f,y,a),y=m.length,-1==l)for(;t(j,m,E,y)<1;)h++,n(m,E<y?N:j,y,a),y=m.length}else 0===l&&(h++,m=[0]);v[c++]=h,m[0]?m[y++]=I[b]||0:(m=[I[b]],y=1)}while((b++<k||null!=m[0])&&C--);d=null!=m[0],v[0]||v.splice(0,1)}if(a==Ks){for(c=1,C=v[0];C>=10;C/=10,c++);w(g,o+(g.e=c+u*Qs-1)+1,s,d)}else g.e=u,g.r=+d;return g}}(),r=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,r=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,a,l){var u,c=a?s:s.replace(r,"");if(i.test(c))o.s=isNaN(c)?null:c<0?-1:1;else{if(!a&&(c=c.replace(e,function(e,t,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,l&&l!=u?e:t}),l&&(u=l,c=c.replace(t,"$1").replace(n,"0.$1")),s!=c))return new x(c,u);if(x.DEBUG)throw Error($s+"Not a"+(l?" base "+l:"")+" number: "+s);o.s=null}o.c=o.e=null}}(),o.absoluteValue=o.abs=function(){var e=new x(this);return e.s<0&&(e.s=1),e},o.comparedTo=function(e,t){return oa(this,new x(e,t))},o.decimalPlaces=o.dp=function(e,t){var n,i,r,o=this;if(null!=e)return sa(e,0,na),null==t?t=l:sa(t,0,8),w(new x(o),e+o.e+1,t);if(!(n=o.c))return null;if(i=((r=n.length-1)-ia(this.e/Qs))*Qs,r=n[r])for(;r%10==0;r/=10,i--);return i<0&&(i=0),i},o.dividedBy=o.div=function(e,t){return n(this,new x(e,t),a,l)},o.dividedToIntegerBy=o.idiv=function(e,t){return n(this,new x(e,t),0,1)},o.exponentiatedBy=o.pow=function(e,t){var n,i,r,o,a,u,c,d,h=this;if((e=new x(e)).c&&!e.isInteger())throw Error($s+"Exponent not an integer: "+S(e));if(null!=t&&(t=new x(t)),a=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return d=new x(Math.pow(+S(h),a?e.s*(2-aa(e)):+S(e))),t?d.mod(t):d;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new x(NaN);(i=!u&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||a&&h.c[1]>=24e7:h.c[0]<8e13||a&&h.c[0]<=9999975e7)))return o=h.s<0&&aa(e)?-0:0,h.e>-1&&(o=1/o),new x(u?1/o:o);g&&(o=Ws(g/Qs+2))}for(a?(n=new x(.5),u&&(e.s=1),c=aa(e)):c=(r=Math.abs(+S(e)))%2,d=new x(s);;){if(c){if(!(d=d.times(h)).c)break;o?d.c.length>o&&(d.c.length=o):i&&(d=d.mod(t))}if(r){if(0===(r=Xs(r/2)))break;c=r%2}else if(w(e=e.times(n),e.e+1,1),e.e>14)c=aa(e);else{if(0===(r=+S(e)))break;c=r%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):i&&(h=h.mod(t))}return i?d:(u&&(d=s.div(d)),t?d.mod(t):o?w(d,g,l,undefined):d)},o.integerValue=function(e){var t=new x(this);return null==e?e=l:sa(e,0,8),w(t,t.e+1,e)},o.isEqualTo=o.eq=function(e,t){return 0===oa(this,new x(e,t))},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(e,t){return oa(this,new x(e,t))>0},o.isGreaterThanOrEqualTo=o.gte=function(e,t){return 1===(t=oa(this,new x(e,t)))||0===t},o.isInteger=function(){return!!this.c&&ia(this.e/Qs)>this.c.length-2},o.isLessThan=o.lt=function(e,t){return oa(this,new x(e,t))<0},o.isLessThanOrEqualTo=o.lte=function(e,t){return-1===(t=oa(this,new x(e,t)))||0===t},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.minus=function(e,t){var n,i,r,o,s=this,a=s.s;if(t=(e=new x(e,t)).s,!a||!t)return new x(NaN);if(a!=t)return e.s=-t,s.plus(e);var u=s.e/Qs,c=e.e/Qs,d=s.c,h=e.c;if(!u||!c){if(!d||!h)return d?(e.s=-t,e):new x(h?s:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new x(d[0]?s:3==l?-0:0)}if(u=ia(u),c=ia(c),d=d.slice(),a=u-c){for((o=a<0)?(a=-a,r=d):(c=u,r=h),r.reverse(),t=a;t--;r.push(0));r.reverse()}else for(i=(o=(a=d.length)<(t=h.length))?a:t,a=t=0;t<i;t++)if(d[t]!=h[t]){o=d[t]<h[t];break}if(o&&(r=d,d=h,h=r,e.s=-e.s),(t=(i=h.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=Ks-1;i>a;){if(d[--i]<h[i]){for(n=i;n&&!d[--n];d[n]=t);--d[n],d[i]+=Ks}d[i]-=h[i]}for(;0==d[0];d.splice(0,1),--c);return d[0]?k(e,d,c):(e.s=3==l?-1:1,e.c=[e.e=0],e)},o.modulo=o.mod=function(e,t){var i,r,o=this;return e=new x(e,t),!o.c||!e.s||e.c&&!e.c[0]?new x(NaN):!e.c||o.c&&!o.c[0]?new x(o):(9==p?(r=e.s,e.s=1,i=n(o,e,0,3),e.s=r,i.s*=r):i=n(o,e,0,p),(e=o.minus(i.times(e))).c[0]||1!=p||(e.s=o.s),e)},o.multipliedBy=o.times=function(e,t){var n,i,r,o,s,a,l,u,c,d,h,f,p,g,v,m=this,y=m.c,_=(e=new x(e,t)).c;if(!y||!_||!y[0]||!_[0])return!m.s||!e.s||y&&!y[0]&&!_||_&&!_[0]&&!y?e.c=e.e=e.s=null:(e.s*=m.s,y&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=ia(m.e/Qs)+ia(e.e/Qs),e.s*=m.s,(l=y.length)<(d=_.length)&&(p=y,y=_,_=p,r=l,l=d,d=r),r=l+d,p=[];r--;p.push(0));for(g=Ks,v=ta,r=d;--r>=0;){for(n=0,h=_[r]%v,f=_[r]/v|0,o=r+(s=l);o>r;)n=((u=h*(u=y[--s]%v)+(a=f*u+(c=y[s]/v|0)*h)%v*v+p[o]+n)/g|0)+(a/v|0)+f*c,p[o--]=u%g;p[o]=n}return n?++i:p.splice(0,1),k(e,p,i)},o.negated=function(){var e=new x(this);return e.s=-e.s||null,e},o.plus=function(e,t){var n,i=this,r=i.s;if(t=(e=new x(e,t)).s,!r||!t)return new x(NaN);if(r!=t)return e.s=-t,i.minus(e);var o=i.e/Qs,s=e.e/Qs,a=i.c,l=e.c;if(!o||!s){if(!a||!l)return new x(r/0);if(!a[0]||!l[0])return l[0]?e:new x(a[0]?i:0*r)}if(o=ia(o),s=ia(s),a=a.slice(),r=o-s){for(r>0?(s=o,n=l):(r=-r,n=a),n.reverse();r--;n.push(0));n.reverse()}for((r=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=r),r=0;t;)r=(a[--t]=a[t]+l[t]+r)/Ks|0,a[t]=Ks===a[t]?0:a[t]%Ks;return r&&(a=[r].concat(a),++s),k(e,a,s)},o.precision=o.sd=function(e,t){var n,i,r,o=this;if(null!=e&&e!==!!e)return sa(e,1,na),null==t?t=l:sa(t,0,8),w(new x(o),e,t);if(!(n=o.c))return null;if(i=(r=n.length-1)*Qs+1,r=n[r]){for(;r%10==0;r/=10,i--);for(r=n[0];r>=10;r/=10,i++);}return e&&o.e+1>i&&(i=o.e+1),i},o.shiftedBy=function(e){return sa(e,-9007199254740991,Js),this.times("1e"+e)},o.squareRoot=o.sqrt=function(){var e,t,i,r,o,s=this,u=s.c,c=s.s,d=s.e,h=a+4,f=new x("0.5");if(1!==c||!u||!u[0])return new x(!c||c<0&&(!u||u[0])?NaN:u?s:1/0);if(0==(c=Math.sqrt(+S(s)))||c==1/0?(((t=ra(u)).length+d)%2==0&&(t+="0"),c=Math.sqrt(+t),d=ia((d+1)/2)-(d<0||d%2),i=new x(t=c==1/0?"5e"+d:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+d)):i=new x(c+""),i.c[0])for((c=(d=i.e)+h)<3&&(c=0);;)if(o=i,i=f.times(o.plus(n(s,o,h,1))),ra(o.c).slice(0,c)===(t=ra(i.c)).slice(0,c)){if(i.e<d&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(w(i,i.e+a+2,1),e=!i.times(i).eq(s));break}if(!r&&(w(o,o.e+a+2,0),o.times(o).eq(s))){i=o;break}h+=4,c+=4,r=1}return w(i,i.e+a+1,l,e)},o.toExponential=function(e,t){return null!=e&&(sa(e,0,na),e++),_(this,e,t,1)},o.toFixed=function(e,t){return null!=e&&(sa(e,0,na),e=e+this.e+1),_(this,e,t)},o.toFormat=function(e,t,n){var i,r=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=v;else if("object"!=typeof n)throw Error($s+"Argument not an object: "+n);if(i=r.toFixed(e,t),r.c){var o,s=i.split("."),a=+n.groupSize,l=+n.secondaryGroupSize,u=n.groupSeparator||"",c=s[0],d=s[1],h=r.s<0,f=h?c.slice(1):c,p=f.length;if(l&&(o=a,a=l,l=o,p-=o),a>0&&p>0){for(o=p%a||a,c=f.substr(0,o);o<p;o+=a)c+=u+f.substr(o,a);l>0&&(c+=u+f.slice(o)),h&&(c="-"+c)}i=d?c+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):c}return(n.prefix||"")+i+(n.suffix||"")},o.toFraction=function(e){var t,i,r,o,a,u,c,d,f,p,g,v,m=this,y=m.c;if(null!=e&&(!(c=new x(e)).isInteger()&&(c.c||1!==c.s)||c.lt(s)))throw Error($s+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+S(c));if(!y)return new x(m);for(t=new x(s),f=i=new x(s),r=d=new x(s),v=ra(y),a=t.e=v.length-m.e-1,t.c[0]=ea[(u=a%Qs)<0?Qs+u:u],e=!e||c.comparedTo(t)>0?a>0?t:f:c,u=h,h=1/0,c=new x(v),d.c[0]=0;p=n(c,t,0,1),1!=(o=i.plus(p.times(r))).comparedTo(e);)i=r,r=o,f=d.plus(p.times(o=f)),d=o,t=c.minus(p.times(o=t)),c=o;return o=n(e.minus(i),r,0,1),d=d.plus(o.times(f)),i=i.plus(o.times(r)),d.s=f.s=m.s,g=n(f,r,a*=2,l).minus(m).abs().comparedTo(n(d,i,a,l).minus(m).abs())<1?[f,r]:[d,i],h=u,g},o.toNumber=function(){return+S(this)},o.toPrecision=function(e,t){return null!=e&&sa(e,1,na),_(this,e,t,2)},o.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=o<=u||o>=c?la(ra(n.c),o):ua(ra(n.c),o,"0"):10===e&&y?t=ua(ra((n=w(new x(n),a+o+1,l)).c),n.e,"0"):(sa(e,2,m.length,"Base"),t=i(ua(ra(n.c),o,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},o.valueOf=o.toJSON=function(){return S(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,null!=t&&x.set(t),x}();const da=ca;var ha=class{constructor(e){a(this,"key",void 0),a(this,"left",null),a(this,"right",null),this.key=e}},fa=class extends ha{constructor(e){super(e)}},pa=class e extends ha{constructor(e,t){super(e),a(this,"value",void 0),this.value=t}replaceValue(t){const n=new e(this.key,t);return n.left=this.left,n.right=this.right,n}},ga=class{constructor(){a(this,"size",0),a(this,"modificationCount",0),a(this,"splayCount",0)}splay(e){const t=this.root;if(null==t)return this.compare(e,e),-1;let n=null,i=null,r=null,o=null,s=t;const a=this.compare;let l;for(;;)if(l=a(s.key,e),l>0){let t=s.left;if(null==t)break;if(l=a(t.key,e),l>0&&(s.left=t.right,t.right=s,s=t,t=s.left,null==t))break;null==n?i=s:n.left=s,n=s,s=t}else{if(!(l<0))break;{let t=s.right;if(null==t)break;if(l=a(t.key,e),l<0&&(s.right=t.left,t.left=s,s=t,t=s.right,null==t))break;null==r?o=s:r.right=s,r=s,s=t}}return null!=r&&(r.right=s.left,s.left=o),null!=n&&(n.left=s.right,s.right=i),this.root!==s&&(this.root=s,this.splayCount++),l}splayMin(e){let t=e,n=t.left;for(;null!=n;){const e=n;t.left=e.right,e.right=t,t=e,n=t.left}return t}splayMax(e){let t=e,n=t.right;for(;null!=n;){const e=n;t.right=e.left,e.left=t,t=e,n=t.right}return t}_delete(e){if(null==this.root)return null;if(0!=this.splay(e))return null;let t=this.root;const n=t,i=t.left;if(this.size--,null==i)this.root=t.right;else{const e=t.right;t=this.splayMax(i),t.right=e,this.root=t}return this.modificationCount++,n}addNewRoot(e,t){this.size++,this.modificationCount++;const n=this.root;null!=n?(t<0?(e.left=n,e.right=n.right,n.right=null):(e.right=n,e.left=n.left,n.left=null),this.root=e):this.root=e}_first(){const e=this.root;return null==e?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return null==e?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&0==this.splay(e)}defaultCompare(){return(e,t)=>e<t?-1:e>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},va=(Symbol.iterator,class e extends ga{constructor(e,t){super(),a(this,"root",null),a(this,"compare",void 0),a(this,"validKey",void 0),a(this,Symbol.toStringTag,"[object Set]"),this.compare=null!==e&&void 0!==e?e:this.defaultCompare(),this.validKey=null!==t&&void 0!==t?t:e=>null!=e&&void 0!=e}delete(e){return!!this.validKey(e)&&null!=this._delete(e)}deleteAll(e){for(const t of e)this.delete(t)}forEach(e){const t=this[Symbol.iterator]();let n;for(;n=t.next(),!n.done;)e(n.value,n.value,this)}add(e){const t=this.splay(e);return 0!=t&&this.addNewRoot(new fa(e),t),this}addAndReturn(e){const t=this.splay(e);return 0!=t&&this.addNewRoot(new fa(e),t),this.root.key}addAll(e){for(const t of e)this.add(t)}isEmpty(){return null==this.root}isNotEmpty(){return null!=this.root}single(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(0==this.size)throw"Bad state: No element";return this._first().key}last(){if(0==this.size)throw"Bad state: No element";return this._last().key}lastBefore(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)<0)return this.root.key;let t=this.root.left;if(null==t)return null;let n=t.right;for(;null!=n;)t=n,n=t.right;return t.key}firstAfter(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)>0)return this.root.key;let t=this.root.right;if(null==t)return null;let n=t.left;for(;null!=n;)t=n,n=t.left;return t.key}retainAll(t){const n=new e(this.compare,this.validKey),i=this.modificationCount;for(const e of t){if(i!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(e)&&0==this.splay(e)&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(e){if(!this.validKey(e))return null;return 0!=this.splay(e)?null:this.root.key}intersection(t){const n=new e(this.compare,this.validKey);for(const e of this)t.has(e)&&n.add(e);return n}difference(t){const n=new e(this.compare,this.validKey);for(const e of this)t.has(e)||n.add(e);return n}union(e){const t=this.clone();return t.addAll(e),t}clone(){const t=new e(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(e){if(null==e)return null;const t=new fa(e.key);return function e(t,n){let i,r;do{if(i=t.left,r=t.right,null!=i){const t=new fa(i.key);n.left=t,e(i,t)}if(null!=r){const e=new fa(r.key);n.right=e,t=r,n=e}}while(null!=r)}(e,t),t}toSet(){return this.clone()}entries(){return new xa(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new ya(this.wrap())}}),ma=class{constructor(e){a(this,"tree",void 0),a(this,"path",new Array),a(this,"modificationCount",null),a(this,"splayCount",void 0),this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;null!=e;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();let e=this.tree.getRoot();for(;null!=e;)this.path.push(e),e=e.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(null!=t){for(;null!=t;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},ya=class extends ma{getValue(e){return e.key}},xa=class extends ma{getValue(e){return[e.key,e.key]}},_a=class extends ma{constructor(e){super(e)}getValue(e){return e.value}},ba=class extends ma{constructor(e){super(e)}getValue(e){return[e.key,e.value]}replaceValue(e){if(this.modificationCount!=this.tree.getModificationCount())throw"Concurrent modification during iteration.";this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);const t=this.path.pop(),n=t.replaceValue(e);if(this.path.length){const e=this.path[this.path.length-1];t===e.left?e.left=n:e.right=n}else this.tree.setRoot(n);this.path.push(n);const i=this.tree.getSplayCount()+1;this.tree.setSplayCount(i),this.splayCount=i}},ka=e=>()=>e,wa=e=>{const t=e?(t,n)=>n.minus(t).abs().isLessThanOrEqualTo(e):ka(!1);return(e,n)=>t(e,n)?0:e.comparedTo(n)};function Sa(e){const t=e?(t,n,i,r,o)=>t.exponentiatedBy(2).isLessThanOrEqualTo(r.minus(n).exponentiatedBy(2).plus(o.minus(i).exponentiatedBy(2)).times(e)):ka(!1);return(e,n,i)=>{const r=e.x,o=e.y,s=i.x,a=i.y,l=o.minus(a).times(n.x.minus(s)).minus(r.minus(s).times(n.y.minus(a)));return t(l,r,o,s,a)?0:l.comparedTo(0)}}var Ea=e=>e,Na=e=>{if(e){const t=new va(wa(e)),n=new va(wa(e)),i=(e,t)=>t.addAndReturn(e),r=e=>({x:i(e.x,t),y:i(e.y,n)});return r({x:new da(0),y:new da(0)}),r}return Ea},Ca=e=>({set:e=>{Ia=Ca(e)},reset:()=>Ca(e),compare:wa(e),snap:Na(e),orient:Sa(e)}),Ia=Ca(),ja=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),Ta=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;const n=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,i=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y},ur:{x:i,y:e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y}}},Ra=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),Oa=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),La=e=>Oa(e,e).sqrt(),Pa=(e,t,n)=>{const i={x:t.x.minus(e.x),y:t.y.minus(e.y)},r={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Ra(r,i).div(La(r)).div(La(i))},Aa=(e,t,n)=>{const i={x:t.x.minus(e.x),y:t.y.minus(e.y)},r={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Oa(r,i).div(La(r)).div(La(i))},Ma=(e,t,n)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(n.minus(e.y))),y:n},Da=(e,t,n)=>t.x.isZero()?null:{x:n,y:e.y.plus(t.y.div(t.x).times(n.minus(e.x)))},Fa=class e{static compare(t,n){const i=e.comparePoints(t.point,n.point);return 0!==i?i:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:Ya.compare(t.segment,n.segment))}static comparePoints(e,t){return e.x.isLessThan(t.x)?-1:e.x.isGreaterThan(t.x)?1:e.y.isLessThan(t.y)?-1:e.y.isGreaterThan(t.y)?1:0}constructor(e,t){a(this,"point",void 0),a(this,"isLeft",void 0),a(this,"segment",void 0),a(this,"otherSE",void 0),a(this,"consumedBy",void 0),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.point.events.push(e),e.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const n=this.point.events[t];if(void 0===n.segment.consumedBy)for(let i=t+1;i<e;i++){const e=this.point.events[i];void 0===e.consumedBy&&(n.otherSE.point.events===e.otherSE.point.events&&n.segment.consume(e.segment))}}}getAvailableLinkedEvents(){const e=[];for(let t=0,n=this.point.events.length;t<n;t++){const n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}getLeftmostComparator(e){const t=new Map,n=n=>{const i=n.otherSE;t.set(n,{sine:Pa(this.point,e.point,i.point),cosine:Aa(this.point,e.point,i.point)})};return(e,i)=>{t.has(e)||n(e),t.has(i)||n(i);const{sine:r,cosine:o}=t.get(e),{sine:s,cosine:a}=t.get(i);return r.isGreaterThanOrEqualTo(0)&&s.isGreaterThanOrEqualTo(0)?o.isLessThan(a)?1:o.isGreaterThan(a)?-1:0:r.isLessThan(0)&&s.isLessThan(0)?o.isLessThan(a)?-1:o.isGreaterThan(a)?1:0:s.isLessThan(r)?-1:s.isGreaterThan(r)?1:0}}},za=class e{static factory(t){const n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];if(!r.isInResult()||r.ringOut)continue;let o=null,s=r.leftSE,a=r.rightSE;const l=[s],u=s.point,c=[];for(;o=s,s=a,l.push(s),s.point!==u;)for(;;){const t=s.getAvailableLinkedEvents();if(0===t.length){const e=l[0].point,t=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(e.x,", ").concat(e.y,"]. Last matching segment found ends at [").concat(t.x,", ").concat(t.y,"]."))}if(1===t.length){a=t[0].otherSE;break}let i=null;for(let e=0,n=c.length;e<n;e++)if(c[e].point===s.point){i=e;break}if(null!==i){const t=c.splice(i)[0],r=l.splice(t.index);r.unshift(r[0].otherSE),n.push(new e(r.reverse()));continue}c.push({index:l.length,point:s.point});const r=s.getLeftmostComparator(o);a=t.sort(r)[0].otherSE;break}n.push(new e(l))}return n}constructor(e){a(this,"events",void 0),a(this,"poly",void 0),a(this,"_isExteriorRing",void 0),a(this,"_enclosingRing",void 0),this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let l=1,u=this.events.length-1;l<u;l++){const n=this.events[l].point,i=this.events[l+1].point;0!==Ia.orient(n,e,i)&&(t.push(n),e=n)}if(1===t.length)return null;const n=t[0],i=t[1];0===Ia.orient(n,e,i)&&t.shift(),t.push(t[0]);const r=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:t.length-1,s=this.isExteriorRing()?t.length:-1,a=[];for(let l=o;l!=s;l+=r)a.push([t[l].x.toNumber(),t[l].y.toNumber()]);return a}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let o=1,s=this.events.length;o<s;o++){const t=this.events[o];Fa.compare(e,t)>0&&(e=t)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;var i,r;if(n.ringOut!==t.ringOut)return(null===(i=n.ringOut)||void 0===i?void 0:i.enclosingRing())!==t.ringOut?t.ringOut:null===(r=t.ringOut)||void 0===r?void 0:r.enclosingRing();t=n.prevInResult(),n=t?t.prevInResult():null}}},Ba=class{constructor(e){a(this,"exteriorRing",void 0),a(this,"interiorRings",void 0),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(null===e)return null;const t=[e];for(let n=0,i=this.interiorRings.length;n<i;n++){const e=this.interiorRings[n].getGeom();null!==e&&t.push(e)}return t}},Ua=class{constructor(e){a(this,"rings",void 0),a(this,"polys",void 0),this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getGeom();null!==n&&e.push(n)}return e}_composePolys(e){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];if(!r.poly)if(r.isExteriorRing())t.push(new Ba(r));else{var n;const e=r.enclosingRing();null!==e&&void 0!==e&&e.poly||t.push(new Ba(e)),null===e||void 0===e||null===(n=e.poly)||void 0===n||n.addInterior(r)}}return t}},qa=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ya.compare;a(this,"queue",void 0),a(this,"tree",void 0),a(this,"segments",void 0),this.queue=e,this.tree=new va(t),this.segments=[]}process(e){const t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),n;e.isLeft&&this.tree.add(t);let i=t,r=t;do{i=this.tree.lastBefore(i)}while(null!=i&&void 0!=i.consumedBy);do{r=this.tree.firstAfter(r)}while(null!=r&&void 0!=r.consumedBy);if(e.isLeft){let o=null;if(i){const e=i.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(o=e),!i.isAnEndpoint(e))){const t=this._splitSafely(i,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}}let s=null;if(r){const e=r.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(s=e),!r.isAnEndpoint(e))){const t=this._splitSafely(r,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}}if(null!==o||null!==s){let e=null;if(null===o)e=s;else if(null===s)e=o;else{e=Fa.comparePoints(o,s)<=0?o:s}this.queue.delete(t.rightSE),n.push(t.rightSE);const i=t.split(e);for(let t=0,r=i.length;t<r;t++)n.push(i[t])}n.length>0?(this.tree.delete(t),n.push(e)):(this.segments.push(t),t.prev=i)}else{if(i&&r){const e=i.getIntersection(r);if(null!==e){if(!i.isAnEndpoint(e)){const t=this._splitSafely(i,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}if(!r.isAnEndpoint(e)){const t=this._splitSafely(r,e);for(let e=0,i=t.length;e<i;e++)n.push(t[e])}}}this.tree.delete(t)}return n}_splitSafely(e,t){this.tree.delete(e);const n=e.rightSE;this.queue.delete(n);const i=e.split(t);return i.push(n),void 0===e.consumedBy&&this.tree.add(e),i}},Va=new class{constructor(){a(this,"type",void 0),a(this,"numMultiPolys",void 0)}run(e,t,n){Va.type=e;const i=[new $a(t,!0)];for(let l=0,u=n.length;l<u;l++)i.push(new $a(n[l],!1));if(Va.numMultiPolys=i.length,"difference"===Va.type){const e=i[0];let t=1;for(;t<i.length;)null!==Ta(i[t].bbox,e.bbox)?t++:i.splice(t,1)}if("intersection"===Va.type)for(let l=0,u=i.length;l<u;l++){const e=i[l];for(let t=l+1,n=i.length;t<n;t++)if(null===Ta(e.bbox,i[t].bbox))return[]}const r=new va(Fa.compare);for(let l=0,u=i.length;l<u;l++){const e=i[l].getSweepEvents();for(let t=0,n=e.length;t<n;t++)r.add(e[t])}const o=new qa(r);let s=null;for(0!=r.size&&(s=r.first(),r.delete(s));s;){const e=o.process(s);for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0===n.consumedBy&&r.add(n)}0!=r.size?(s=r.first(),r.delete(s)):s=null}Ia.reset();const a=za.factory(o.segments);return new Ua(a).getGeom()}},Ga=Va,Ha=0,Ya=class e{static compare(e,t){const n=e.leftSE.point.x,i=t.leftSE.point.x,r=e.rightSE.point.x,o=t.rightSE.point.x;if(o.isLessThan(n))return 1;if(r.isLessThan(i))return-1;const s=e.leftSE.point.y,a=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n.isLessThan(i)){if(a.isLessThan(s)&&a.isLessThan(l))return 1;if(a.isGreaterThan(s)&&a.isGreaterThan(l))return-1;const n=e.comparePoint(t.leftSE.point);if(n<0)return 1;if(n>0)return-1;const i=t.comparePoint(e.rightSE.point);return 0!==i?i:-1}if(n.isGreaterThan(i)){if(s.isLessThan(a)&&s.isLessThan(u))return-1;if(s.isGreaterThan(a)&&s.isGreaterThan(u))return 1;const n=t.comparePoint(e.leftSE.point);if(0!==n)return n;const i=e.comparePoint(t.rightSE.point);return i<0?1:i>0?-1:1}if(s.isLessThan(a))return-1;if(s.isGreaterThan(a))return 1;if(r.isLessThan(o)){const n=t.comparePoint(e.rightSE.point);if(0!==n)return n}if(r.isGreaterThan(o)){const n=e.comparePoint(t.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(!r.eq(o)){const e=l.minus(s),t=r.minus(n),c=u.minus(a),d=o.minus(i);if(e.isGreaterThan(t)&&c.isLessThan(d))return 1;if(e.isLessThan(t)&&c.isGreaterThan(d))return-1}return r.isGreaterThan(o)?1:r.isLessThan(o)||l.isLessThan(u)?-1:l.isGreaterThan(u)?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,n,i){a(this,"id",void 0),a(this,"leftSE",void 0),a(this,"rightSE",void 0),a(this,"rings",void 0),a(this,"windings",void 0),a(this,"ringOut",void 0),a(this,"consumedBy",void 0),a(this,"prev",void 0),a(this,"_prevInResult",void 0),a(this,"_beforeState",void 0),a(this,"_afterState",void 0),a(this,"_isInResult",void 0),this.id=++Ha,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=i}static fromRing(t,n,i){let r,o,s;const a=Fa.comparePoints(t,n);if(a<0)r=t,o=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));r=n,o=t,s=-1}const l=new Fa(r,!0),u=new Fa(o,!1);return new e(l,u,[i],[s])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e.isLessThan(t)?e:t},ur:{x:this.rightSE.point.x,y:e.isGreaterThan(t)?e:t}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(e){return e.x.eq(this.leftSE.point.x)&&e.y.eq(this.leftSE.point.y)||e.x.eq(this.rightSE.point.x)&&e.y.eq(this.rightSE.point.y)}comparePoint(e){return Ia.orient(this.leftSE.point,e,this.rightSE.point)}getIntersection(e){const t=this.bbox(),n=e.bbox(),i=Ta(t,n);if(null===i)return null;const r=this.leftSE.point,o=this.rightSE.point,s=e.leftSE.point,a=e.rightSE.point,l=ja(t,s)&&0===this.comparePoint(s),u=ja(n,r)&&0===e.comparePoint(r),c=ja(t,a)&&0===this.comparePoint(a),d=ja(n,o)&&0===e.comparePoint(o);if(u&&l)return d&&!c?o:!d&&c?a:null;if(u)return c&&r.x.eq(a.x)&&r.y.eq(a.y)?null:r;if(l)return d&&o.x.eq(s.x)&&o.y.eq(s.y)?null:s;if(d&&c)return null;if(d)return o;if(c)return a;const h=((e,t,n,i)=>{if(t.x.isZero())return Da(n,i,e.x);if(i.x.isZero())return Da(e,t,n.x);if(t.y.isZero())return Ma(n,i,e.y);if(i.y.isZero())return Ma(e,t,n.y);const r=Ra(t,i);if(r.isZero())return null;const o={x:n.x.minus(e.x),y:n.y.minus(e.y)},s=Ra(o,t).div(r),a=Ra(o,i).div(r),l=e.x.plus(a.times(t.x)),u=n.x.plus(s.times(i.x)),c=e.y.plus(a.times(t.y)),d=n.y.plus(s.times(i.y));return{x:l.plus(u).div(2),y:c.plus(d).div(2)}})(r,this.vector(),s,e.vector());return null===h?null:ja(i,h)?Ia.snap(h):null}split(t){const n=[],i=void 0!==t.events,r=new Fa(t,!0),o=new Fa(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(r);const a=new e(r,s,this.rings.slice(),this.windings.slice());return Fa.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),Fa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(r.checkForConsuming(),o.checkForConsuming()),n}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}consume(t){let n=this,i=t;for(;n.consumedBy;)n=n.consumedBy;for(;i.consumedBy;)i=i.consumedBy;const r=e.compare(n,i);if(0!==r){if(r>0){const e=n;n=i,i=e}if(n.prev===i){const e=n;n=i,i=e}for(let e=0,t=i.rings.length;e<t;e++){const t=i.rings[e],r=i.windings[e],o=n.rings.indexOf(t);-1===o?(n.rings.push(t),n.windings.push(r)):n.windings[o]+=r}i.rings=null,i.windings=null,i.consumedBy=n,i.leftSE.consumedBy=n.leftSE,i.rightSE.consumedBy=n.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,n=this._afterState.windings,i=this._afterState.multiPolys;for(let s=0,a=this.rings.length;s<a;s++){const e=this.rings[s],i=this.windings[s],r=t.indexOf(e);-1===r?(t.push(e),n.push(i)):n[r]+=i}const r=[],o=[];for(let s=0,a=t.length;s<a;s++){if(0===n[s])continue;const e=t[s],i=e.poly;if(-1===o.indexOf(i))if(e.isExterior)r.push(i);else{-1===o.indexOf(i)&&o.push(i);const t=r.indexOf(e.poly);-1!==t&&r.splice(t,1)}}for(let s=0,a=r.length;s<a;s++){const e=r[s].multiPoly;-1===i.indexOf(e)&&i.push(e)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(Ga.type){case"union":{const n=0===e.length,i=0===t.length;this._isInResult=n!==i;break}case"intersection":{let n,i;e.length<t.length?(n=e.length,i=t.length):(n=t.length,i=e.length),this._isInResult=i===Ga.numMultiPolys&&n<i;break}case"xor":{const n=Math.abs(e.length-t.length);this._isInResult=n%2===1;break}case"difference":{const n=e=>1===e.length&&e[0].isSubject;this._isInResult=n(e)!==n(t);break}}return this._isInResult}},Wa=class{constructor(e,t,n){if(a(this,"poly",void 0),a(this,"isExterior",void 0),a(this,"segments",void 0),a(this,"bbox",void 0),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=n,this.segments=[],"number"!==typeof e[0][0]||"number"!==typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=Ia.snap({x:new da(e[0][0]),y:new da(e[0][1])});this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};let r=i;for(let o=1,s=e.length;o<s;o++){if("number"!==typeof e[o][0]||"number"!==typeof e[o][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const t=Ia.snap({x:new da(e[o][0]),y:new da(e[o][1])});t.x.eq(r.x)&&t.y.eq(r.y)||(this.segments.push(Ya.fromRing(r,t,this)),t.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=t.x),t.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=t.y),t.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=t.x),t.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=t.y),r=t)}i.x.eq(r.x)&&i.y.eq(r.y)||this.segments.push(Ya.fromRing(r,i,this))}getSweepEvents(){const e=[];for(let t=0,n=this.segments.length;t<n;t++){const n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}},Xa=class{constructor(e,t){if(a(this,"multiPoly",void 0),a(this,"exteriorRing",void 0),a(this,"interiorRings",void 0),a(this,"bbox",void 0),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Wa(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,i=e.length;n<i;n++){const t=new Wa(e[n],this,!1);t.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=t.bbox.ll.x),t.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=t.bbox.ll.y),t.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=t.bbox.ur.x),t.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=t.bbox.ur.y),this.interiorRings.push(t)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){const n=this.interiorRings[t].getSweepEvents();for(let t=0,i=n.length;t<i;t++)e.push(n[t])}return e}},$a=class{constructor(e,t){if(a(this,"isSubject",void 0),a(this,"polys",void 0),a(this,"bbox",void 0),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof e[0][0][0]&&(e=[e])}catch(n){}this.polys=[],this.bbox={ll:{x:new da(Number.POSITIVE_INFINITY),y:new da(Number.POSITIVE_INFINITY)},ur:{x:new da(Number.NEGATIVE_INFINITY),y:new da(Number.NEGATIVE_INFINITY)}};for(let i=0,r=e.length;i<r;i++){const t=new Xa(e[i],this);t.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=t.bbox.ll.x),t.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=t.bbox.ll.y),t.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=t.bbox.ur.x),t.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=t.bbox.ur.y),this.polys.push(t)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getSweepEvents();for(let t=0,i=n.length;t<i;t++)e.push(n[t])}return e}};Ia.set;function Za(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(Hi(e,e=>{n.push(e.coordinates)}),n.length<2)throw new Error("Must specify at least 2 geometries");const i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ga.run("intersection",e,n)}(n[0],...n.slice(1));return 0===i.length?null:1===i.length?Ai(i[0],t.properties):Fi(i,t.properties)}async function Ka(){try{const e=await fetch("".concat("https://opendata.vancouver.ca/api/v2","/catalog/datasets/designated-floodplain/exports/geojson"));if(!e.ok)throw new Error("Failed to fetch floodplain data: ".concat(e.status));return(await e.json()).features||[]}catch(e){console.error("Error fetching floodplain data from API:",e),console.log("Falling back to local floodplain data...");try{const t=await fetch("/files/csv/designated-floodplain.csv");if(t.ok){const n=function(t){try{const e=t.split("\n"),n=e[0].split(","),i=[];for(let t=1;t<e.length;t++){const r=e[t].trim();if(!r)continue;const o=r.split(","),s={};n.forEach((e,t)=>{o[t]&&(s[e.trim()]=o[t].trim())});const a={type:"Feature",properties:s,geometry:{type:"Polygon",coordinates:[[[0,0],[1,0],[1,1],[0,1],[0,0]]]}};i.push(a)}return i}catch(e){return console.error("Error parsing floodplain CSV:",e),[]}}(await t.text());return console.log("Loaded ".concat(n.length," floodplain features from local CSV")),n}}catch(t){console.error("Error loading local floodplain data:",t)}return[]}}function Qa(e){const t=[];return e.inFloodplain?("high"===e.riskLevel&&(t.push({type:"warning",message:"Property is in a high-risk floodplain area. Consider flood mitigation measures.",priority:"high"}),t.push({type:"info",message:"Consult with a civil engineer for flood protection design",priority:"high"})),"medium"===e.riskLevel&&t.push({type:"warning",message:"Property is in a medium-risk floodplain area. Review flood protection requirements.",priority:"medium"}),t.push({type:"info",message:"Check Vancouver building bylaws for floodplain construction requirements",priority:"medium"}),t.push({type:"info",message:"Consider elevated foundation design for flood protection",priority:"medium"}),t):(t.push({type:"success",message:"Property is not in a designated floodplain area",priority:"low"}),t)}function Ja(e){const t={none:"#28a745",low:"#ffc107",medium:"#fd7e14",high:"#dc3545"},n={none:"No Risk",low:"Low Risk",medium:"Medium Risk",high:"High Risk"};return{status:e.inFloodplain?"At Risk":"Safe",riskLevel:n[e.riskLevel],riskColor:t[e.riskLevel],message:e.message,affectedAreas:e.affectedAreas.map(e=>u(u({},e),{},{riskColor:t[e.riskLevel],riskLabel:n[e.riskLevel]}))}}function el(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Number(e[0]),i=Number(e[1]),r=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const s=[n,i];return Ai([[s,[r,i],[r,o],[n,o],s]],t.properties,{bbox:e,id:t.id})}function tl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ji(e);return Pi([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)}var nl=n(207);function il(){return new rl}function rl(){this.reset()}rl.prototype={constructor:rl,reset:function(){this.s=this.t=0},add:function(e){sl(ol,e,this.t),sl(this,ol.s,this.s),this.s?this.t+=ol.t:this.s=ol.t},valueOf:function(){return this.s}};var ol=new rl;function sl(e,t,n){var i=e.s=t+n,r=i-t,o=i-r;e.t=t-o+(n-r)}var al=1e-6,ll=Math.PI,ul=ll/2,cl=ll/4,dl=2*ll,hl=180/ll,fl=ll/180,pl=Math.abs,gl=Math.atan,vl=Math.atan2,ml=Math.cos,yl=(Math.ceil,Math.exp),xl=(Math.floor,Math.log),_l=(Math.pow,Math.sin),bl=(Math.sign,Math.sqrt),kl=Math.tan;function wl(e){return e>1?0:e<-1?ll:Math.acos(e)}function Sl(e){return e>1?ul:e<-1?-ul:Math.asin(e)}function El(){}function Nl(e,t){e&&Il.hasOwnProperty(e.type)&&Il[e.type](e,t)}var Cl={Feature:function(e,t){Nl(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Nl(n[i].geometry,t)}},Il={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){jl(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)jl(n[i],t,0)},Polygon:function(e,t){Tl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Tl(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Nl(n[i],t)}};function jl(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function Tl(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)jl(e[n],t,1);t.polygonEnd()}function Rl(e,t){e&&Cl.hasOwnProperty(e.type)?Cl[e.type](e,t):Nl(e,t)}il(),il();function Ol(e){return[vl(e[1],e[0]),Sl(e[2])]}function Ll(e){var t=e[0],n=e[1],i=ml(n);return[i*ml(t),i*_l(t),_l(n)]}function Pl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Al(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ml(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Dl(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Fl(e){var t=bl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}il();function zl(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Bl(e,t){return[e>ll?e-dl:e<-ll?e+dl:e,t]}function Ul(e,t,n){return(e%=dl)?t||n?zl(Vl(e),Gl(t,n)):Vl(e):t||n?Gl(t,n):Bl}function ql(e){return function(t,n){return[(t+=e)>ll?t-dl:t<-ll?t+dl:t,n]}}function Vl(e){var t=ql(e);return t.invert=ql(-e),t}function Gl(e,t){var n=ml(e),i=_l(e),r=ml(t),o=_l(t);function s(e,t){var s=ml(t),a=ml(e)*s,l=_l(e)*s,u=_l(t),c=u*n+a*i;return[vl(l*r-c*o,a*n-u*i),Sl(c*r+l*o)]}return s.invert=function(e,t){var s=ml(t),a=ml(e)*s,l=_l(e)*s,u=_l(t),c=u*r-l*o;return[vl(l*r+u*o,a*n+c*i),Sl(c*n-a*i)]},s}function Hl(e,t,n,i,r,o){if(n){var s=ml(t),a=_l(t),l=i*n;null==r?(r=t+i*dl,o=t-l/2):(r=Yl(s,r),o=Yl(s,o),(i>0?r<o:r>o)&&(r+=i*dl));for(var u,c=r;i>0?c>o:c<o;c-=l)u=Ol([s,-a*ml(c),-a*_l(c)]),e.point(u[0],u[1])}}function Yl(e,t){(t=Ll(t))[0]-=e,Fl(t);var n=wl(-t[1]);return((-t[2]<0?-n:n)+dl-al)%dl}function Wl(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:El,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Xl(e,t){return pl(e[0]-t[0])<al&&pl(e[1]-t[1])<al}function $l(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Zl(e,t,n,i,r){var o,s,a=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],s=e[t];if(Xl(i,s)){for(r.lineStart(),o=0;o<t;++o)r.point((i=e[o])[0],i[1]);r.lineEnd()}else a.push(n=new $l(i,e,null,!0)),l.push(n.o=new $l(i,null,n,!1)),a.push(n=new $l(s,e,null,!1)),l.push(n.o=new $l(s,null,n,!0))}}),a.length){for(l.sort(t),Kl(a),Kl(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,d=a[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(f)for(u=h.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(h.x,h.p.x,-1,r);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);r.lineEnd()}}}function Kl(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Ql(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Bl.invert=Bl;var Jl=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Ql(t(e),n)}),{left:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}(Ql);Jl.right,Jl.left;var eu=Array.prototype;eu.slice,eu.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function tu(e){for(var t,n,i,r=e.length,o=-1,s=0;++o<r;)s+=e[o].length;for(n=new Array(s);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--s]=i[t];return n}var nu=1e9,iu=-nu;function ru(e,t,n,i){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function o(r,o,a,u){var c=0,d=0;if(null==r||(c=s(r,a))!==(d=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?e:n,c>1?i:t)}while((c=(c+a+4)%4)!==d);else u.point(o[0],o[1])}function s(i,r){return pl(i[0]-e)<al?r>0?0:3:pl(i[0]-n)<al?r>0?2:1:pl(i[1]-t)<al?r>0?1:0:r>0?3:2}function a(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),i=s(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,u,c,d,h,f,p,g,v,m,y,x=s,_=Wl(),b={point:k,lineStart:function(){b.point=w,u&&u.push(c=[]);m=!0,v=!1,p=g=NaN},lineEnd:function(){l&&(w(d,h),f&&v&&_.rejoin(),l.push(_.result()));b.point=k,v&&x.lineEnd()},polygonStart:function(){x=_,l=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=u.length;n<r;++n)for(var o,s,a=u[n],l=1,c=a.length,d=a[0],h=d[0],f=d[1];l<c;++l)o=h,s=f,h=(d=a[l])[0],f=d[1],s<=i?f>i&&(h-o)*(i-s)>(f-s)*(e-o)&&++t:f<=i&&(h-o)*(i-s)<(f-s)*(e-o)&&--t;return t}(),n=y&&t,r=(l=tu(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Zl(l,a,t,o,s),s.polygonEnd());x=s,l=u=c=null}};function k(e,t){r(e,t)&&x.point(e,t)}function w(o,s){var a=r(o,s);if(u&&c.push([o,s]),m)d=o,h=s,f=a,m=!1,a&&(x.lineStart(),x.point(o,s));else if(a&&v)x.point(o,s);else{var l=[p=Math.max(iu,Math.min(nu,p)),g=Math.max(iu,Math.min(nu,g))],_=[o=Math.max(iu,Math.min(nu,o)),s=Math.max(iu,Math.min(nu,s))];!function(e,t,n,i,r,o){var s,a=e[0],l=e[1],u=0,c=1,d=t[0]-a,h=t[1]-l;if(s=n-a,d||!(s>0)){if(s/=d,d<0){if(s<u)return;s<c&&(c=s)}else if(d>0){if(s>c)return;s>u&&(u=s)}if(s=r-a,d||!(s<0)){if(s/=d,d<0){if(s>c)return;s>u&&(u=s)}else if(d>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=o-l,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}return u>0&&(e[0]=a+u*d,e[1]=l+u*h),c<1&&(t[0]=a+c*d,t[1]=l+c*h),!0}}}}}(l,_,e,t,n,i)?a&&(x.lineStart(),x.point(o,s),y=!1):(v||(x.lineStart(),x.point(l[0],l[1])),x.point(_[0],_[1]),a||x.lineEnd(),y=!1)}p=o,g=s,v=a}return b}}var ou=il();function su(e,t){var n=t[0],i=t[1],r=[_l(n),-ml(n),0],o=0,s=0;ou.reset();for(var a=0,l=e.length;a<l;++a)if(c=(u=e[a]).length)for(var u,c,d=u[c-1],h=d[0],f=d[1]/2+cl,p=_l(f),g=ml(f),v=0;v<c;++v,h=y,p=_,g=b,d=m){var m=u[v],y=m[0],x=m[1]/2+cl,_=_l(x),b=ml(x),k=y-h,w=k>=0?1:-1,S=w*k,E=S>ll,N=p*_;if(ou.add(vl(N*w*_l(S),g*b+N*ml(S))),o+=E?k+w*dl:k,E^h>=n^y>=n){var C=Al(Ll(d),Ll(m));Fl(C);var I=Al(r,C);Fl(I);var j=(E^k>=0?-1:1)*Sl(I[2]);(i>j||i===j&&(C[0]||C[1]))&&(s+=E^k>=0?1:-1)}}return(o<-1e-6||o<al&&ou<-1e-6)^1&s}il();il(),il();var au=1/0,lu=au,uu=-au,cu=uu,du={point:function(e,t){e<au&&(au=e);e>uu&&(uu=e);t<lu&&(lu=t);t>cu&&(cu=t)},lineStart:El,lineEnd:El,polygonStart:El,polygonEnd:El,result:function(){var e=[[au,lu],[uu,cu]];return uu=cu=-(lu=au=1/0),e}};const hu=du;il();function fu(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function pu(e,t,n,i){return function(r,o){var s,a,l,u=t(o),c=r.invert(i[0],i[1]),d=Wl(),h=t(d),f=!1,p={point:g,lineStart:m,lineEnd:y,polygonStart:function(){p.point=x,p.lineStart=_,p.lineEnd=b,a=[],s=[]},polygonEnd:function(){p.point=g,p.lineStart=m,p.lineEnd=y,a=tu(a);var e=su(s,c);a.length?(f||(o.polygonStart(),f=!0),Zl(a,vu,e,n,o)):e&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&o.point(t,n)}function v(e,t){var n=r(e,t);u.point(n[0],n[1])}function m(){p.point=v,u.lineStart()}function y(){p.point=g,u.lineEnd()}function x(e,t){l.push([e,t]);var n=r(e,t);h.point(n[0],n[1])}function _(){h.lineStart(),l=[]}function b(){x(l[0][0],l[0][1]),h.lineEnd();var e,t,n,i,r=h.clean(),u=d.result(),c=u.length;if(l.pop(),s.push(l),l=null,c)if(1&r){if((t=(n=u[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),e=0;e<t;++e)o.point((i=n[e])[0],i[1]);o.lineEnd()}}else c>1&&2&r&&u.push(u.pop().concat(u.shift())),a.push(u.filter(gu))}return p}}function gu(e){return e.length>1}function vu(e,t){return((e=e.x)[0]<0?e[1]-ul-al:ul-e[1])-((t=t.x)[0]<0?t[1]-ul-al:ul-t[1])}fu(4.5);const mu=pu(function(){return!0},function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?ll:-ll,l=pl(o-n);pl(l-ll)<al?(e.point(n,i=(i+s)/2>0?ul:-ul),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),e.point(o,i),t=0):r!==a&&l>=ll&&(pl(n-r)<al&&(n-=r*al),pl(o-a)<al&&(o-=a*al),i=function(e,t,n,i){var r,o,s=_l(e-n);return pl(s)>al?gl((_l(t)*(o=ml(i))*_l(n)-_l(i)*(r=ml(t))*_l(e))/(r*o*s)):(t+i)/2}(n,i,o,s),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),t=0),e.point(n=o,i=s),r=a},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*ul,i.point(-ll,r),i.point(0,r),i.point(ll,r),i.point(ll,0),i.point(ll,-r),i.point(0,-r),i.point(-ll,-r),i.point(-ll,0),i.point(-ll,r);else if(pl(e[0]-t[0])>al){var o=e[0]<t[0]?ll:-ll;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-ll,-ul]);function yu(e){return e}function xu(e){return function(t){var n=new _u;for(var i in e)n[i]=e[i];return n.stream=t,n}}function _u(){}function bu(e,t,n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),Rl(n,e.stream(hu));var s=hu.result(),a=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),l=+t[0][0]+(i-a*(s[1][0]+s[0][0]))/2,u=+t[0][1]+(r-a*(s[1][1]+s[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*a).translate([l,u])}_u.prototype={constructor:_u,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ku=ml(30*fl);function wu(e,t){return+t?function(e,t){function n(i,r,o,s,a,l,u,c,d,h,f,p,g,v){var m=u-i,y=c-r,x=m*m+y*y;if(x>4*t&&g--){var _=s+h,b=a+f,k=l+p,w=bl(_*_+b*b+k*k),S=Sl(k/=w),E=pl(pl(k)-1)<al||pl(o-d)<al?(o+d)/2:vl(b,_),N=e(E,S),C=N[0],I=N[1],j=C-i,T=I-r,R=y*j-m*T;(R*R/x>t||pl((m*j+y*T)/x-.5)>.3||s*h+a*f+l*p<ku)&&(n(i,r,o,s,a,l,C,I,E,_/=w,b/=w,k,g,v),v.point(C,I),n(C,I,E,_,b,k,u,c,d,h,f,p,g,v))}}return function(t){var i,r,o,s,a,l,u,c,d,h,f,p,g={point:v,lineStart:m,lineEnd:x,polygonStart:function(){t.polygonStart(),g.lineStart=_},polygonEnd:function(){t.polygonEnd(),g.lineStart=m}};function v(n,i){n=e(n,i),t.point(n[0],n[1])}function m(){c=NaN,g.point=y,t.lineStart()}function y(i,r){var o=Ll([i,r]),s=e(i,r);n(c,d,u,h,f,p,c=s[0],d=s[1],u=i,h=o[0],f=o[1],p=o[2],16,t),t.point(c,d)}function x(){g.point=v,t.lineEnd()}function _(){m(),g.point=b,g.lineEnd=k}function b(e,t){y(i=e,t),r=c,o=d,s=h,a=f,l=p,g.point=y}function k(){n(c,d,u,h,f,p,r,o,i,s,a,l,16,t),g.lineEnd=x,x()}return g}}(e,t):function(e){return xu({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Su=xu({point:function(e,t){this.stream.point(e*fl,t*fl)}});function Eu(e){return function(e){var t,n,i,r,o,s,a,l,u,c,d=150,h=480,f=250,p=0,g=0,v=0,m=0,y=0,x=null,_=mu,b=null,k=yu,w=.5,S=wu(C,w);function E(e){return[(e=o(e[0]*fl,e[1]*fl))[0]*d+n,i-e[1]*d]}function N(e){return(e=o.invert((e[0]-n)/d,(i-e[1])/d))&&[e[0]*hl,e[1]*hl]}function C(e,r){return[(e=t(e,r))[0]*d+n,i-e[1]*d]}function I(){o=zl(r=Ul(v,m,y),t);var e=t(p,g);return n=h-e[0]*d,i=f+e[1]*d,j()}function j(){return u=c=null,E}return E.stream=function(e){return u&&c===e?u:u=Su(_(r,S(k(c=e))))},E.clipAngle=function(e){return arguments.length?(_=+e?function(e,t){var n=ml(e),i=n>0,r=pl(n)>al;function o(e,t){return ml(e)*ml(t)>n}function s(e,t,i){var r=[1,0,0],o=Al(Ll(e),Ll(t)),s=Pl(o,o),a=o[0],l=s-a*a;if(!l)return!i&&e;var u=n*s/l,c=-n*a/l,d=Al(r,o),h=Dl(r,u);Ml(h,Dl(o,c));var f=d,p=Pl(h,f),g=Pl(f,f),v=p*p-g*(Pl(h,h)-1);if(!(v<0)){var m=bl(v),y=Dl(f,(-p-m)/g);if(Ml(y,h),y=Ol(y),!i)return y;var x,_=e[0],b=t[0],k=e[1],w=t[1];b<_&&(x=_,_=b,b=x);var S=b-_,E=pl(S-ll)<al;if(!E&&w<k&&(x=k,k=w,w=x),E||S<al?E?k+w>0^y[1]<(pl(y[0]-_)<al?k:w):k<=y[1]&&y[1]<=w:S>ll^(_<=y[0]&&y[0]<=b)){var N=Dl(f,(-p+m)/g);return Ml(N,h),[y,Ol(N)]}}}function a(t,n){var r=i?e:ll-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return pu(o,function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],g=o(d,h),v=i?g?0:a(d,h):g?a(d+(d<0?ll:-ll),h):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&(!(f=s(t,p))||Xl(t,f)||Xl(p,f))&&(p[0]+=al,p[1]+=al,g=o(p[0],p[1])),g!==l)c=0,g?(e.lineStart(),f=s(p,t),e.point(f[0],f[1])):(f=s(t,p),e.point(f[0],f[1]),e.lineEnd()),t=f;else if(r&&t&&i^g){var m;v&n||!(m=s(p,t,!0))||(c=0,i?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!g||t&&Xl(t,p)||e.point(p[0],p[1]),t=p,l=g,n=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}},function(n,i,r,o){Hl(o,e,t,r,n,i)},i?[0,-e]:[-ll,e-ll])}(x=e*fl,6*fl):(x=null,mu),j()):x*hl},E.clipExtent=function(e){return arguments.length?(k=null==e?(b=s=a=l=null,yu):ru(b=+e[0][0],s=+e[0][1],a=+e[1][0],l=+e[1][1]),j()):null==b?null:[[b,s],[a,l]]},E.scale=function(e){return arguments.length?(d=+e,I()):d},E.translate=function(e){return arguments.length?(h=+e[0],f=+e[1],I()):[h,f]},E.center=function(e){return arguments.length?(p=e[0]%360*fl,g=e[1]%360*fl,I()):[p*hl,g*hl]},E.rotate=function(e){return arguments.length?(v=e[0]%360*fl,m=e[1]%360*fl,y=e.length>2?e[2]%360*fl:0,I()):[v*hl,m*hl,y*hl]},E.precision=function(e){return arguments.length?(S=wu(C,w=e*e),j()):bl(w)},E.fitExtent=function(e,t){return bu(E,e,t)},E.fitSize=function(e,t){return function(e,t,n){return bu(e,[[0,0],t],n)}(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&N,I()}}(function(){return e})()}function Nu(e){return function(t,n){var i=ml(t),r=ml(n),o=e(i*r);return[o*r*_l(t),o*_l(n)]}}function Cu(e){return function(t,n){var i=bl(t*t+n*n),r=e(i),o=_l(r),s=ml(r);return[vl(t*o,i*s),Sl(i&&n*o/i)]}}var Iu=Nu(function(e){return bl(2/(1+e))});Iu.invert=Cu(function(e){return 2*Sl(e/2)});var ju=Nu(function(e){return(e=wl(e))&&e/_l(e)});function Tu(e,t){return[e,xl(kl((ul+t)/2))]}function Ru(e,t){return[e,t]}function Ou(e,t){var n=ml(t),i=ml(e)*n;return[n*_l(e)/i,_l(t)/i]}function Lu(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function Pu(e,t){return[ml(t)*_l(e),_l(t)]}function Au(e,t){var n=ml(t),i=1+ml(e)*n;return[n*_l(e)/i,_l(t)/i]}function Mu(e,t){return[xl(kl((ul+t)/2)),-e]}ju.invert=Cu(function(e){return e}),Tu.invert=function(e,t){return[e,2*gl(yl(t))-ul]},Ru.invert=Ru,Ou.invert=Cu(gl),Lu.invert=function(e,t){var n,i=t,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(pl(n)>al&&--r>0);return[e/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},Pu.invert=Cu(Sl),Au.invert=Cu(function(e){return 2*gl(e)}),Mu.invert=function(e,t){return[-t,2*gl(yl(e))-ul]};var{BufferOp:Du,GeoJSONReader:Fu,GeoJSONWriter:zu}=nl;function Bu(e,t,n){var i=(n=n||{}).units||"kilometers",r=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!==typeof n)throw new Error("options must be an object");if("number"!==typeof r)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return Hi(e,function(e){var n=Uu(e,t,i,r);n&&o.push(n)}),Di(o);case"FeatureCollection":return Gi(e,function(e){var n=Uu(e,t,i,r);n&&Gi(n,function(e){e&&o.push(e)})}),Di(o)}return Uu(e,t,i,r)}function Uu(e,t,n,i){var r=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var s=[];return Hi(e,function(e){var r=Uu(e,t,n,i);r&&s.push(r)}),Di(s)}var a=function(e){var t=tl(e).geometry.coordinates,n=[-t[0],-t[1]];return Eu(ju).scale(79.4188).clipAngle(179.999).rotate(n).scale(Ri)}(o),l={type:o.type,coordinates:Vu(o.coordinates,a)},u=(new Fu).read(l),c=zi(Bi(t,n),"meters"),d=Du.bufferOp(u,c,i);if(!qu((d=(new zu).write(d)).coordinates))return Li({type:d.type,coordinates:Gu(d.coordinates,a)},r)}function qu(e){return Array.isArray(e[0])?qu(e[0]):isNaN(e[0])}function Vu(e,t){return"object"!==typeof e[0]?t(e):e.map(function(e){return Vu(e,t)})}function Gu(e,t){return"object"!==typeof e[0]?t.invert(e):e.map(function(e){return Gu(e,t)})}function Hu(e){if(!e||!e.geometry)throw new Error("Invalid parcel geometry");try{const t=Xi(e),n=e.geometry,i=function(e){if("Polygon"!==e.type)throw new Error("Geometry must be a Polygon");const t=e.coordinates[0];let n=0,i=0;for(let r=0;r<t.length-1;r++){const e=nr(Mi([t[r],t[r+1]]));e>n&&(n=e,i=e)}return i}(n),r=function(e){if("Polygon"!==e.type)throw new Error("Geometry must be a Polygon");const t=e.coordinates[0],n=tl(Ai([t]));let i=0;for(const r of t){const e=tr(n,Pi(r));e>i&&(i=e)}return 2*i}(n),o=Ji(e),s=(el(o),nr(e));return{lot_area:t,lot_frontage:i,lot_depth:r,lot_perimeter:s,compactness_ratio:t/(s*s),bounding_box:{width:o[2]-o[0],height:o[3]-o[1],area:(o[2]-o[0])*(o[3]-o[1])},geometry:n}}catch(t){throw console.error("Error calculating site measurements:",t),t}}function Yu(e,t){const n=Hu(e),i={min_frontage:10,min_area:306,min_depth:30.4,access:"lane",heritage_designated:!1,in_floodplain:!1};"R1-1"===t.ZONING_DISTRICT?(i.min_frontage=15,i.min_area=334):"RT-7"!==t.ZONING_DISTRICT&&"RT-9"!==t.ZONING_DISTRICT||(i.min_frontage=18,i.min_area=464);const r=function(e,t){const{min_frontage:n=10,min_area:i=306,min_depth:r=30.4,access:o="lane",heritage_designated:s=!1,in_floodplain:a=!1}=t,{lot_frontage:l,lot_area:c,lot_depth:d}=e,h={frontage_eligible:l>=n,area_eligible:c>=i,depth_eligible:d>=r,access_type:o,heritage_eligible:!s,floodplain_eligible:!a},f=Object.values(h).every(e=>"boolean"!==typeof e||e);return u(u({},h),{},{site_eligible:f,measurements:{frontage:l,area:c,depth:d},requirements:{min_frontage:n,min_area:i,min_depth:r}})}(n,i),o=function(e,t){const{front:n,side:i,rear:r}=t;try{const t=Math.min(n,i,r);if(t<=0){const t=Xi(e);return{buildable_area:t,setback_applied:0,original_area:t,buildable_percentage:1}}const o=Bu(e,-t,{units:"meters"}),s=Xi(o),a=Xi(e);return{buildable_area:s,setback_applied:t,original_area:a,buildable_percentage:s/a,buildable_footprint:o}}catch(o){return console.error("Error calculating buildable area:",o),{buildable_area:0,setback_applied:0,original_area:0,buildable_percentage:0,error:o.message}}}(e,t),s=function(e,t){const{max_surface_stalls:n}=t;let i=0;i=e>=15.1?4:e>=10?2:0;const r=Math.min(i,n);return{frontage:e,calculated_stalls:i,max_allowed_stalls:n,allowed_stalls:r,parking_eligible:r>0}}(n.lot_frontage,{max_surface_stalls:4});return{site_measurements:n,eligibility:r,buildable_area:o,parking:s,zoning_district:t.ZONING_DISTRICT,analysis_timestamp:(new Date).toISOString()}}function Wu(e,t,n){return e&&0===n.length?"\u2705 Site is eligible for multiplex development":e&&n.length>0?"\u26a0\ufe0f Site is eligible but has ".concat(n.length," warning(s)"):"\u274c Site has ".concat(t.length," blocking issue(s) that must be resolved")}function Xu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=Yu(e,t),r={lot_frontage:i.site_measurements.lot_frontage,lot_area:i.site_measurements.lot_area,lot_depth:i.site_measurements.lot_depth,site_eligible:i.eligibility,parking:i.parking,buildable_area:i.buildable_area,zoning:t},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[],i=[];let r=!0;try{const o=e.site_eligible;if(!o)return n.push("Site eligibility data is missing"),r=!1,{isValid:r,issues:n,warnings:i};if(e.lot_frontage<o.min_frontage&&(n.push("Lot frontage (".concat(e.lot_frontage.toFixed(1),"m) is below minimum requirement (").concat(o.min_frontage,"m)")),r=!1),e.lot_area<o.min_area&&(n.push("Lot area (".concat(e.lot_area.toFixed(1),"m\xb2) is below minimum requirement (").concat(o.min_area,"m\xb2)")),r=!1),e.lot_depth<o.min_depth&&(n.push("Lot depth (".concat(e.lot_depth.toFixed(1),"m) is below minimum requirement (").concat(o.min_depth,"m)")),r=!1),o.heritage_designated&&(n.push("Heritage-designated sites are ineligible for multiplex development"),r=!1),t&&t.inFloodplain&&("high"===t.riskLevel?(n.push("Site is in a high-risk floodplain area - development may be restricted"),r=!1):"medium"===t.riskLevel?i.push("Site is in a medium-risk floodplain area - special flood protection measures may be required"):i.push("Site is in a low-risk floodplain area - standard flood protection measures apply")),o.access_type&&"public"!==o.access_type&&(n.push("Site access type '".concat(o.access_type,"' may not meet requirements for multiplex development")),r=!1),e.parking&&!e.parking.parking_eligible&&i.push("Site may not meet parking requirements for multiplex development"),e.buildable_area){const t=e.buildable_area.buildable_area/e.lot_area*100;t<50&&i.push("Buildable area (".concat(t.toFixed(1),"%) is significantly reduced by setbacks"))}if(e.zoning){const t=e.zoning;t.FAR&&t.FAR<=0&&(n.push("Floor Area Ratio (FAR) is zero or negative - development not permitted"),r=!1),t.max_height&&t.max_height<=0&&(n.push("Maximum height is zero or negative - development not permitted"),r=!1),t.coverage&&t.coverage<=0&&(n.push("Site coverage is zero or negative - development not permitted"),r=!1)}return{isValid:r,issues:n,warnings:i,summary:Wu(r,n,i)}}catch(o){return console.error("Error validating site settings:",o),{isValid:!1,issues:["Validation error: ".concat(o.message)],warnings:[],summary:"Site validation failed due to technical error"}}}(r,n),s=function(e,t){const n=[];return e?("R1-1"===e.ZONING_DISTRICT&&(t.lot_area<334&&n.push("R1-1 requires minimum lot size of 334m\xb2 (3,600 sq ft)"),t.lot_frontage<15&&n.push("R1-1 requires minimum frontage of 15m (50 ft)")),"RT-7"===e.ZONING_DISTRICT&&(t.lot_area<464&&n.push("RT-7 requires minimum lot size of 464m\xb2 (5,000 sq ft)"),t.lot_frontage<18&&n.push("RT-7 requires minimum frontage of 18m (60 ft)")),"RT-9"===e.ZONING_DISTRICT&&(t.lot_area<464&&n.push("RT-9 requires minimum lot size of 464m\xb2 (5,000 sq ft)"),t.lot_frontage<18&&n.push("RT-9 requires minimum frontage of 18m (60 ft)")),{isValid:0===n.length,issues:n,warnings:[]}):{isValid:!1,issues:["Zoning rules are required"],warnings:[]}}(t,r),a=[...o.issues,...s.issues],l=[...o.warnings,...s.warnings];return{isValid:o.isValid&&s.isValid,issues:a,warnings:l,summary:Wu(o.isValid&&s.isValid,a,l),details:{multiplex:o,zoning:s,siteAnalysis:i}}}function $u(e){let t="valid";return e.isValid?e.warnings.length>0&&(t="warning"):t="invalid",{status:{valid:"Eligible",warning:"Eligible with Warnings",invalid:"Ineligible"}[t],statusColor:{valid:"#28a745",warning:"#ffc107",invalid:"#dc3545"}[t],summary:e.summary,issues:e.issues,warnings:e.warnings,canProceed:e.isValid}}const Zu=function(e){let{onAddressSelect:n,selectedAddress:i,disabled:r=!1}=e;const[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),v=(0,t.useCallback)(async e=>{if(!e||e.length<3)return l([]),void f(!1);d(!0),g(null);try{const t=await async function(e){console.log("VancouverOpenDataAPI: Searching for:",e);try{const t=new URL("https://opendata.vancouver.ca/api/records/1.0/search/");t.searchParams.set("dataset","property-parcel-polygons"),t.searchParams.set("rows","20"),t.searchParams.set("q",e),console.log("VancouverOpenDataAPI: Calling Vancouver API directly:",t.toString());const n=await fetch(t);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const i=await n.json();if(console.log("VancouverOpenDataAPI: Direct API response:",i),!i.records||0===i.records.length)return console.log("VancouverOpenDataAPI: No results found"),[];const r=i.records.map(e=>{const t=e.fields.civic_number&&e.fields.streetname?"".concat(e.fields.civic_number," ").concat(e.fields.streetname):e.fields.civic_address||e.fields.full_address||"Unknown Address";return{type:"Feature",geometry:e.fields.geom||e.geometry,properties:u(u({},e.fields),{},{civic_address:t,full_address:t,neighbourhood:e.fields.neighbourhood||e.fields.local_area,zoning_district:e.fields.zoning_district||e.fields.zone,folio_id:e.fields.folio_id||e.fields.site_id,site_area:e.fields.site_area||e.fields.area_sqm})}});return console.log("VancouverOpenDataAPI: Formatted results:",r),r}catch(p){console.error("Direct Vancouver API failed:",p);try{console.log("VancouverOpenDataAPI: Trying backend fallback...");const d=await fetch(rr.FETCH_PARCEL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:"address",searchTerm:e})});if(d.ok){const e=await d.json();var t,n,i,r,o,s,a,l,c;if(e.parcel_data)return[{type:"Feature",geometry:e.parcel_data.geometry,properties:u(u({},e.parcel_data.properties),{},{civic_address:(null===(t=e.parcel_data.properties)||void 0===t?void 0:t.civic_address)||(null===(n=e.parcel_data.properties)||void 0===n?void 0:n.full_address),neighbourhood:(null===(i=e.parcel_data.properties)||void 0===i?void 0:i.neighbourhood)||(null===(r=e.parcel_data.properties)||void 0===r?void 0:r.local_area),zoning_district:(null===(o=e.zoning_data)||void 0===o||null===(s=o.properties)||void 0===s?void 0:s.zoning_district)||(null===(a=e.zoning_data)||void 0===a||null===(l=a.properties)||void 0===l?void 0:l.zone),folio_id:null===(c=e.parcel_data.properties)||void 0===c?void 0:c.folio_id})}]}}catch(d){console.error("Backend fallback also failed:",d)}throw p}}(e);console.log("AddressSearchInput: Raw search results:",t);const n=t.map(e=>{var t;console.log("AddressSearchInput: Processing result:",e);let n=e.properties.site_area||0;try{var i;(e.geometry||null!==(i=e.properties)&&void 0!==i&&i.geom)&&0===n&&(n=sr(e))}catch(r){console.warn("Could not calculate area for parcel:",r)}return{id:e.properties.folio_id||Math.random().toString(36),civic_address:e.properties.civic_address||e.properties.full_address||"N/A",legal_description:e.properties.legal_description||"N/A",site_area:n,zoning_district:e.properties.zoning_district||"Unknown",city:"Vancouver",api_response:e,full_address:e.properties.civic_address||e.properties.full_address||e.properties.civic_number+" "+e.properties.streetname||"Unknown Address",geometry:e.geometry||(null===(t=e.properties)||void 0===t?void 0:t.geom)}});l(n),f(!0)}catch(t){console.error("Error searching addresses:",t),g("Search failed: ".concat(t.message)),l([]),f(!1)}finally{d(!1)}},[]);(0,t.useEffect)(()=>{const e=setTimeout(()=>{v(o)},300);return()=>clearTimeout(e)},[o,v]);const m=async e=>{s(e.full_address),f(!1);try{const s=e.civic_address||e.full_address;console.log("Fetching comprehensive data for:",s);const c=await fetch("/api/fetch-parcel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:"address",searchTerm:s})});if(c.ok){var t,i,r,o,a,l;const d=await c.json();console.log("Fetched comprehensive parcel data:",d),console.log("Comprehensive data structure:",JSON.stringify(d,null,2));const h=u(u(u({},e),d),{},{full_address:s,parcel_geometry:d.geometry||d.parcel_geometry||e.geometry,site_area:d.site_area||e.site_area,current_zoning:d.current_zoning||(null===(t=d.properties)||void 0===t?void 0:t.current_zoning),lot_type:d.lot_type||(null===(i=d.properties)||void 0===i?void 0:i.lot_type),api_response:u(u({},e.api_response),{},{properties:u(u(u({},null===(r=e.api_response)||void 0===r?void 0:r.properties),d.properties),{},{visualization:{satellite_image:(null===(o=d.visualization)||void 0===o?void 0:o.satellite_image)||(null===(a=d.properties)||void 0===a||null===(l=a.visualization)||void 0===l?void 0:l.satellite_image)||d.satellite_image}})})});console.log("Final merged data for tabs:",h),n&&await n(h)}else console.warn("Failed to fetch comprehensive data, using basic data"),n&&await n(u(u({},e),{},{full_address:s}))}catch(p){console.error("Error fetching comprehensive data:",p),n&&await n(u(u({},e),{},{full_address:e.civic_address||e.full_address}))}},y=async()=>{if(o&&!(o.length<3)){d(!0),g(null);try{var e;const i=await async function(e){const t=new URL("https://opendata.vancouver.ca/api/records/1.0/search/");t.searchParams.set("dataset","property-parcel-polygons"),t.searchParams.set("rows","10"),t.searchParams.set("q",e);try{const n=await fetch(t);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const i=await n.json();if(!i.records||0===i.records.length)throw new Error("No parcels found for address: ".concat(e));const r=i.records[0];return{type:"Feature",geometry:r.geometry,properties:r.fields}}catch(p){throw console.error("Error fetching parcel for address ".concat(e,":"),p),p}}(o);let r=i.properties.site_area||0;try{var t;(i.geometry||null!==(t=i.properties)&&void 0!==t&&t.geom)&&0===r&&(r=sr(i))}catch(n){console.warn("Could not calculate area for parcel:",n)}const s={id:i.properties.folio_id||Math.random().toString(36),civic_address:i.properties.civic_address||i.properties.full_address||"N/A",legal_description:i.properties.legal_description||"N/A",site_area:r,zoning_district:i.properties.zoning_district||"Unknown",city:"Vancouver",api_response:i,full_address:i.properties.civic_address||i.properties.full_address||i.properties.civic_number+" "+i.properties.streetname||"Unknown Address",geometry:i.geometry||(null===(e=i.properties)||void 0===e?void 0:e.geom)};f(!1),await m(s)}catch(i){console.error("Error fetching address:",i),g("Address not found: ".concat(i.message))}finally{d(!1)}}};return(0,t.useEffect)(()=>{i&&i!==o&&s(i)},[i,o]),(0,lr.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,lr.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,lr.jsx)("input",{type:"text",value:o,onChange:e=>{s(e.target.value)},onKeyDown:e=>{"Enter"===e.key?y():"Escape"===e.key&&f(!1)},onFocus:e=>{r||(e.target.style.borderColor="#007bff",o.length>=3&&f(!0))},placeholder:"Enter address (e.g., 123 Main St, Vancouver)",disabled:r,style:{flex:1,padding:"8px 12px",border:"2px solid #ddd",borderRadius:"4px",fontSize:"14px",outline:"none",transition:"border-color 0.2s",backgroundColor:r?"#f5f5f5":"white",cursor:r?"not-allowed":"text"},onBlur:e=>{e.target.style.borderColor="#ddd",setTimeout(()=>f(!1),200)}}),(0,lr.jsx)("button",{onClick:y,disabled:r||c||o.length<3,style:{padding:"8px 16px",backgroundColor:r||o.length<3?"#6c757d":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:r||o.length<3?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500",minWidth:"80px"},children:c?"...":"Search"})]}),c&&(0,lr.jsx)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#e3f2fd",borderRadius:"4px",fontSize:"12px",color:"#1976d2"},children:"\ud83d\udd0d Searching Vancouver Open Data..."}),p&&(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#ffebee",borderRadius:"4px",fontSize:"12px",color:"#c62828"},children:["\u26a0\ufe0f ",p]}),h&&a.length>0&&(0,lr.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",maxHeight:"300px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[a.map((e,t)=>(0,lr.jsxs)("div",{onClick:()=>m(e),style:{padding:"12px",borderBottom:t<a.length-1?"1px solid #eee":"none",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#f8f9fa",onMouseLeave:e=>e.target.style.backgroundColor="white",children:[(0,lr.jsx)("div",{style:{fontWeight:"500",color:"#212529"},children:e.civic_address}),(0,lr.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d",marginTop:"2px"},children:[e.legal_description," \u2022 ",e.zoning_district," \u2022 ",e.site_area.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("div",{style:{fontSize:"11px",color:"#007bff",marginTop:"1px"},children:["\ud83d\udccd ",e.city]})]},e.id)),a.length>=20&&(0,lr.jsx)("div",{style:{padding:"8px 12px",backgroundColor:"#f8f9fa",fontSize:"11px",color:"#6c757d",textAlign:"center",borderTop:"1px solid #eee"},children:"Showing first 20 results. Be more specific to see other matches."})]}),h&&0===a.length&&o.length>=3&&!c&&(0,lr.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",padding:"16px",zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",textAlign:"center",color:"#6c757d",fontSize:"14px"},children:["No addresses found. Try a different search term.",(0,lr.jsx)("div",{style:{fontSize:"12px",marginTop:"4px"},children:'Examples: "123 Main St", "456 Oak Ave Vancouver"'})]}),(0,lr.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"#6c757d"},children:"\ud83d\udca1 Type any Vancouver address and press Enter or click Search"})]})},Ku=e=>{var n,i,r,o,s,a,l,c,d,h,f,p,g,v,m,y,x,_,b,k,w,S,E,N,C,I,j,T,R,O,L,P,A,M;let{zoningData:D,onZoningUpdate:F,onAddressSelect:z,onSiteAreaUpdate:B,selectedAddress:U,selectedAddressData:q}=e;const[V,G]=(0,t.useState)("R1-1"),[H,Y]=(0,t.useState)({}),[W,X]=(0,t.useState)("search"),[$,Z]=(0,t.useState)({lane_dedication:"",street_widening:"",statutory_right_of_way:""}),[K,Q]=(0,t.useState)({}),[J,ee]=(0,t.useState)(""),[te,ne]=(0,t.useState)(null),[ie,re]=(0,t.useState)([]),[oe,se]=(0,t.useState)([]),[ae,le]=(0,t.useState)(null),[ue,ce]=(0,t.useState)(null),[de,he]=(0,t.useState)(2),[fe,pe]=(0,t.useState)({num_buildings:1,units_per_building:[2],layout_type:"multiplex"}),[ge,ve]=(0,t.useState)("standard_row"),[me,ye]=(0,t.useState)(!1),[xe,_e]=(0,t.useState)("rear"),[be,ke]=(0,t.useState)(!1),[we,Se]=(0,t.useState)("garage"),[Ee,Ne]=(0,t.useState)("rear"),[Ce,Ie]=(0,t.useState)({lane_dedication:{N:"",S:"",E:"",W:""},street_widening:{N:"",S:"",E:"",W:""},statutory_right_of_way:{N:"",S:"",E:"",W:""}}),[je,Te]=(0,t.useState)({required_area:"",minimum_width:"",minimum_depth:"",additional_requirements:""}),[Re,Oe]=(0,t.useState)(50),[Le,Pe]=(0,t.useState)({front:4.9,side:1.2,rear:10.7}),[Ae,Me]=(0,t.useState)(!1),[De,Fe]=(0,t.useState)(""),[ze,Be]=(0,t.useState)({}),[Ue,qe]=(0,t.useState)(null),[Ve,Ge]=(0,t.useState)(!1),[He,Ye]=(0,t.useState)(null),[We,Xe]=(0,t.useState)([]),[$e,Ze]=(0,t.useState)(!1),[Ke,Qe]=(0,t.useState)(""),[Je,et]=(0,t.useState)(null),[tt,nt]=(0,t.useState)("shap-e"),[it,rt]=(0,t.useState)("modern"),[ot,st]=(0,t.useState)(!0),[at,lt]=(0,t.useState)([]),[ut,ct]=(0,t.useState)([]),[dt,ht]=(0,t.useState)("single_family"),[ft,pt]=(0,t.useState)("shap-e"),[gt,vt]=(0,t.useState)(!1),[mt,yt]=(0,t.useState)(!1),[xt,_t]=(0,t.useState)(!1),[bt,kt]=(0,t.useState)(!1),[wt,St]=(0,t.useState)(!1),[Et,Nt]=(0,t.useState)(!1),[Ct,It]=(0,t.useState)(null),[jt,Tt]=(0,t.useState)(null),[Rt,Ot]=(0,t.useState)({lotType:"",lotWidth:0,lotDepth:0,isCornerLot:!1,streetFrontage:"",lotShape:"rectangular",additionalNotes:""});(0,t.useEffect)(()=>{D&&D.zoning_conditions&&Y(D.zoning_conditions),D&&D.dedication_directions&&Z(D.dedication_directions),Lt(),Pt()},[D]),(0,t.useEffect)(()=>{void 0!==U&&ee(U),void 0!==q&&ne(q)},[U,q]),(0,t.useEffect)(()=>{if(te&&B){var e;const t={address:J,addressData:te,siteArea:te.site_area||0,zoningDistrict:V,setbacks:Le,dedicationDetails:Ce,outdoorSpace:je,siteCoverageLimit:Re,zoningConditions:H,geometry:te.parcel_geometry||te.geometry||(null===(e=te.api_response)||void 0===e?void 0:e.geometry)};console.log("Sending site area data to parent:",t),B(t)}},[te,J,V,Le,Ce,je,Re,H]),(0,t.useEffect)(()=>{Ka().then(se)},[]),(0,t.useEffect)(()=>{if(console.log("Running validation checks..."),console.log("selectedAddressData:",te),console.log("selectedDistrict:",V),console.log("zoningRules keys:",Object.keys(K)),console.log("floodplainData length:",oe.length),te&&V&&K[V]){const e=te.geometry||te.parcel_geometry;if(console.log("Geometry found:",!!e),e){let t;if("Feature"===e.type)t=e;else{if("Polygon"!==e.type&&"MultiPolygon"!==e.type)return console.log("Invalid geometry format:",e),le(null),void ce(null);t={type:"Feature",geometry:e,properties:te}}console.log("Parcel feature for validation:",t);const n=function(e,t){if(!e||!t||0===t.length)return{inFloodplain:!1,riskLevel:"none",affectedAreas:[],message:"Unable to check floodplain risk - missing data"};const n=e.geometry||e.parcel_geometry;if(!n)return console.warn("No geometry found in property for floodplain check:",e),{inFloodplain:!1,riskLevel:"none",affectedAreas:[],message:"Unable to check floodplain risk - no geometry data"};const i=[];let r="none";if(!n.coordinates||!Array.isArray(n.coordinates))return console.warn("Invalid property geometry for floodplain check:",n),{inFloodplain:!1,riskLevel:"none",affectedAreas:[],message:"Unable to check floodplain risk - invalid property geometry"};console.log("Checking floodplain risk with property geometry:",n.type);const o=t.filter(e=>{const t=e.geometry;return t&&t.coordinates&&Array.isArray(t.coordinates)&&"Polygon"===t.type});return console.log("Found ".concat(o.length," valid floodplain features out of ").concat(t.length," total")),0===o.length?{inFloodplain:!1,riskLevel:"none",affectedAreas:[],message:"No valid floodplain data available for checking"}:(o.forEach((e,t)=>{try{const t=e.geometry,a=Za(n,t);if(a){var o,s;const t=Xi(n),l=Xi(a),u=l/t*100;let c="low";const d=(null===(o=e.properties)||void 0===o?void 0:o.NAME)||"Unknown";d.includes("Wave Effect Zone")||d.includes("Storm")?c="high":(d.includes("Fraser Risk")||d.includes("Still Creek"))&&(c="medium"),i.push({name:d,description:(null===(s=e.properties)||void 0===s?void 0:s.DESCRIPTION)||"",riskLevel:c,overlapPercentage:Math.round(100*u)/100,area:Math.round(100*l)/100}),("high"===c||"medium"===c&&"low"===r)&&(r=c)}}catch(a){console.error("Error checking floodplain intersection at index ".concat(t,":"),a)}}),{inFloodplain:i.length>0,riskLevel:r,affectedAreas:i,message:i.length>0?"Property is in ".concat(i.length," floodplain area(s)"):"Property is not in a designated floodplain"})}(t,oe);console.log("Floodplain analysis:",n),le(n);const i=Xu(t,K[V],n);console.log("Site validation:",i),ce(i)}else console.log("No geometry data available"),le(null),ce(null)}else console.log("Missing required data for validation"),le(null),ce(null)},[te,V,K,oe]);const Lt=async()=>{try{console.log("Loading zoning rules...");const e=await fetch("/zoning_rules_extended.json");if(e.ok){const t=await e.json();console.log("Zoning rules loaded as array:",t.length,"districts");const n={};t.forEach(e=>{const t=e.ZONING_DISTRICT;t&&(n[t]=e)}),console.log("Converted to object with districts:",Object.keys(n)),Q(n)}else{console.error("Failed to load zoning rules:",e.status);const t={"R1-1":{front:6,side:1.2,rear:7.5,max_height:11.5,FAR:.6,coverage:.4},"RT-7":{front:6,side:1.2,rear:7.5,max_height:11.5,FAR:.6,coverage:.4},"RT-9":{front:6,side:1.2,rear:7.5,max_height:11.5,FAR:.6,coverage:.4}};console.log("Using fallback rules:",Object.keys(t)),Q(t)}}catch(e){console.error("Error loading zoning rules:",e);const t={"R1-1":{front:6,side:1.2,rear:7.5,max_height:11.5,FAR:.6,coverage:.4},"RT-7":{front:6,side:1.2,rear:7.5,max_height:11.5,FAR:.6,coverage:.4},"RT-9":{front:6,side:1.2,rear:7.5,max_height:11.5,FAR:.6,coverage:.4}};console.log("Using fallback rules due to error:",Object.keys(t)),Q(t)}},Pt=async()=>{try{const e=await fetch("/processed/parcels_with_zoning.geojson");if(e.ok){const t=(await e.json()).features.map(e=>{const t=e.properties||{},n=t.CIVIC_NUMBER||"",i=t.STREETNAME||"",r=n&&i?"".concat(n," ").concat(i):"";return{value:r,label:r,district:t["Zoning District"]||"",data:u({full_address:r,current_zoning:t["Zoning District"]||"",civic_number:n,street_name:i},t)}}).filter(e=>e.value&&e.district);console.log("Loaded addresses:",t.length,"total"),console.log("Sample addresses:",t.slice(0,3)),re(t)}else console.error("Failed to load parcels_with_zoning.geojson:",e.status)}catch(e){console.error("Error loading parcels_with_zoning.geojson:",e)}},At=(e,t)=>{if(K[V]){const n=u(u({},K),{},{[V]:u(u({},K[V]),{},{[e]:t})});Q(n)}Y(n=>u(u({},n),{},{[e]:t}))},Mt=(e,t)=>{Y(n=>u(u({},n),{},{[e]:t})),F&&F({zoning_conditions:u(u({},H),{},{[e]:t}),dedication_directions:$,parcel_data:te})},Dt=()=>{var e;if(!te)return null;const t=(null===te||void 0===te?void 0:te.site_area)||0,n=(null===te||void 0===te?void 0:te.setbacks)||{},i=Le.front||n.front||0,r=Le.side||n.side||0,o=Le.rear||n.rear||0;let s=0;s="building_footprint_analysis_with_compliance_check"!==(null===te||void 0===te||null===(e=te.setbacks)||void 0===e?void 0:e.method)||Le.front||Le.side||Le.rear?(i+o)*(2*r):(parseFloat(n.front_calculated)||0)+(parseFloat(n.side_calculated)||0)+(parseFloat(n.rear_calculated)||0);const a=Object.values(Ce.lane_dedication).reduce((e,t)=>e+(parseFloat(t)||0),0),l=Object.values(Ce.street_widening).reduce((e,t)=>e+(parseFloat(t)||0),0),u=Object.values(Ce.statutory_right_of_way).reduce((e,t)=>e+(parseFloat(t)||0),0),c=a+l+u,d=parseFloat(je.required_area)||0,h=s+c+d,f=Math.max(0,t-h),p=t*(Re/100),g=Math.min(f,p);return{site_area:t,site_geometry:te.geometry||te.parcel_geometry,zoning_district:V,setbacks:{front:i,side:r,rear:o,total_area:s},building_constraints:{max_height:(null===H||void 0===H?void 0:H.max_height)||11.5,max_fsr:(null===H||void 0===H?void 0:H.FAR)||.7,max_coverage:Re,available_building_area:g},dedications:{lane:Ce.lane_dedication,street_widening:Ce.street_widening,statutory_right_of_way:Ce.statutory_right_of_way,total_area:c},outdoor_space:{required_area:d,minimum_width:parseFloat(je.minimum_width)||0,minimum_depth:parseFloat(je.minimum_depth)||0,additional_requirements:je.additional_requirements},lot_characteristics:{lot_type:Rt.lotType||te.lot_type||"standard",enclosure_status:te.enclosure_status||"",is_corner_lot:Rt.isCornerLot||"corner"===Rt.lotType,heritage_designated:te.heritage_designated||!1,lot_width:Rt.lotWidth||te.lot_width||0,lot_depth:Rt.lotDepth||te.lot_depth||0},multiple_dwelling:{selected_units:de,min_site_area_required:2===de?0:de<=4?306:5===de?464:557,building_configuration:fe},building_separation:{between_buildings:2.4,between_frontage_and_rear:6.1,between_rear_buildings:2.4},calculated_values:{coverage_percentage:t>0?g/t*100:0,setback_based_building_area:f,max_allowed_building_area:p,total_unavailable_area:h}}},Ft=async()=>{if(te&&te.parcel_geometry)try{const e=await fetch("/api/analyze-corner-lot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geometry:te.parcel_geometry,address:te.full_address})});if(e.ok){const t=await e.json();console.log("Corner lot re-analysis result:",t),Ot(e=>u(u({},e),{},{lotType:t.lot_type,isCornerLot:"corner"===t.lot_type})),ne(e=>u(u({},e),{},{lot_type:t.lot_type,corner_analysis:t}));const n=t.analysis_details||{},i="Corner Lot Analysis Results:\n                \nLot Type: ".concat(t.lot_type.toUpperCase(),"\n\nAnalysis Details:\n\u2022 Edge Count: ").concat(n.edge_count||"Unknown","\n\u2022 Substantial Edges: ").concat(n.substantial_edges||"Unknown","\n\u2022 Right Angles Found: ").concat(n.right_angles||"Unknown","\n\u2022 Shape Regularity: ").concat(n.shape_regularity?(100*n.shape_regularity).toFixed(1)+"%":"Unknown","\n\u2022 Edge Ratio: ").concat(n.edge_ratio?n.edge_ratio.toFixed(2):"Unknown","\n\n").concat("corner"===t.lot_type?"\u2705 This parcel meets the criteria for a corner lot.":"\u274c This parcel does not meet the criteria for a corner lot.");alert(i)}else console.error("Failed to re-analyze corner lot:",e.status),alert("Failed to re-analyze corner lot. Please try again.")}catch(e){console.error("Error re-analyzing corner lot:",e),alert("Error during corner lot analysis. Please try again.")}else alert("No parcel geometry available for analysis")},zt=()=>{if(!Ke.trim())return void alert("Please enter a project name");const e={id:Date.now(),name:Ke.trim(),timestamp:(new Date).toISOString(),dataPoints:He,prompts:ze,modelResult:Ue,address:(null===te||void 0===te?void 0:te.full_address)||"Unknown",zoningDistrict:V,selectedUnits:de},t=[...We,e];Xe(t),localStorage.setItem("vancouverZoningProjects",JSON.stringify(t)),Qe(""),Ze(!1),alert('Project "'.concat(Ke,'" saved successfully!'))};(0,t.useEffect)(()=>{const e=localStorage.getItem("vancouverZoningProjects");if(e)try{Xe(JSON.parse(e))}catch(t){console.error("Error loading saved projects:",t)}},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch(rr.FEW_SHOT_EXAMPLES);if(e.ok){const t=await e.json();ct(t)}}catch(e){console.error("Error loading few-shot examples:",e)}})()},[]),(0,t.useEffect)(()=>{if(Rt.lotType&&V){const e="corner"===Rt.lotType,t=e||["R1-1","RT-7","RT-9"].includes(V),n=e;Z(e=>u(u({},e),{},{lane_dedication:t?e.lane_dedication||"N":"",street_widening:n?e.street_widening||"E":""})),console.log("Lot type changed to ".concat(Rt.lotType,":"),{isCornerLot:e,hasLaneDedication:t,hasStreetWidening:n})}},[Rt.lotType,V]),(0,t.useEffect)(()=>{F&&te&&F({zoning_conditions:H,dedication_directions:$,parcel_data:te,multiple_dwelling:{selected_units:de,min_site_area_required:2===de?0:de<=4?306:5===de?464:557}})},[de,F,te,H,$]);const Bt=async()=>{Ge(!1);const e="generation_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));kt(!0),Nt(!0),Kt(e);try{console.log("3D Model Data Points:",He);const t={site_data:{site_area:He.site_area,zoning_district:He.zoning_district},zoning_data:{max_height:He.building_constraints.max_height,FAR:He.building_constraints.max_fsr,coverage:He.building_constraints.max_coverage/100},building_config:{style:it,units:de},prompt_type:de>1?"multiplex":"single_family",model_type:tt,building_style:it,use_few_shot:ot,task_id:e};console.log("=== FRONTEND: REQUEST TO BACKEND ==="),console.log("Request Body:",JSON.stringify(t,null,2)),console.log("Selected Units:",de),console.log("Building Style:",it),console.log("Model Type:",tt),console.log("Use Few Shot:",ot),console.log("=====================================");const n=await fetch(rr.HF_GENERATE_LOCAL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const i=await n.json();if(console.log("=== FRONTEND: BACKEND RESPONSE ==="),console.log("Enhanced Model Generation Result:",i),console.log("==================================="),qe(i),i.model_url){const e=or(i.model_url),t=document.createElement("a");t.href=e,t.download="3d_model_".concat(Date.now(),".obj"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}setTimeout(()=>{kt(!1),Nt(!1)},2e3)}catch(t){console.error("Error generating 3D model:",t),setTimeout(()=>{kt(!1),Nt(!1)},3e3)}},Ut=()=>{if(!te)return"No property data available";const e=te.site_area,t=te.full_address;return"Generate a 3D ground foundation for Vancouver property:\n\nPROPERTY CONTEXT:\n\u2022 Address: ".concat(t,"\n\u2022 Site Area: ").concat(e?"".concat(e.toFixed(1),"m\xb2"):"Unknown","\n\u2022 Shape: Based on actual parcel geometry coordinates\n\nINSTRUCTIONS:\nCreate a flat 3D foundation using the lot shape coordinates. No buildings or landscaping.")},qt=async function(){if(te)try{var e,t,n;Fe("Generating setback visualization...");const i=await fetch("/api/hf/generate-local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_data:te,zoning_data:D,building_config:{setbacks:{front:Le.front||(null===D||void 0===D||null===(e=D.setbacks)||void 0===e?void 0:e.front)||(()=>{const e=null===te||void 0===te?void 0:te.current_zoning;return(K[e]||{}).front||4.9})(),side:Le.side||(null===D||void 0===D||null===(t=D.setbacks)||void 0===t?void 0:t.side)||(()=>{const e=null===te||void 0===te?void 0:te.current_zoning;return(K[e]||{}).side||1.2})(),rear:Le.rear||(null===D||void 0===D||null===(n=D.setbacks)||void 0===n?void 0:n.rear)||(()=>{const e=null===te||void 0===te?void 0:te.current_zoning;return(K[e]||{}).rear||10.7})()},dedications:Ce||(null===D||void 0===D?void 0:D.dedications)||{},outdoor_space:je||(null===D||void 0===D?void 0:D.outdoor_space)||{},multiple_dwelling:(null===D||void 0===D?void 0:D.multiple_dwelling)||{}},prompt_type:"setback_visualization",building_style:"setback_visualization",model_type:"shap-e",use_few_shot:!1})});if(!i.ok)throw new Error("HTTP error! status: ".concat(i.status));const r=await i.json();if("success"===r.status){Fe("Setback visualization generated successfully!");const e=document.createElement("a");e.href=r.model_url,e.download="setback_visualization_".concat(Date.now(),".obj"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}else Fe("Error: ".concat(r.error||"Unknown error"))}catch(i){console.error("Error generating setback visualization:",i),Fe("Error generating setback visualization: ".concat(i.message))}else Fe("Please select a property first.")},[Vt,Gt]=(0,t.useState)(null),[Ht,Yt]=(0,t.useState)(!1);(0,t.useEffect)(()=>{te&&de>0&&Wt()},[te,de,Re,ge,me,xe,fe]);const Wt=async()=>{if(te&&de)try{var e;Yt(!0);const n=Dt();if(!n)return;const i=n.site_area,r=fe.units_per_building.reduce((e,t)=>e+t,0),o=fe.num_buildings;let s=0;if(o>1&&"separate"===fe.layout_type){s=2.4*Math.sqrt(.5*i)*(o-1)}const a=.5*i-s,l=a/r,c={units:r,site_area:i,buildable_area:a,coverage_percentage:(a+s)/i*100,setbacks:n.setbacks,max_height:null===(e=n.building_constraints)||void 0===e?void 0:e.max_height,unit_area:l,building_configuration:{num_buildings:o,units_per_building:fe.units_per_building,layout_type:fe.layout_type,building_separation_area:s}};Gt(c);try{const e={site_data:u(u({},te),{},{site_area:n.site_area}),zoning_data:u(u({},D),{},{setbacks:n.setbacks,building_constraints:n.building_constraints}),building_config:{units:de,building_layout:ge,coverage:.5}},t=await fetch(rr.VALIDATE_BUILDING_UNITS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();Gt(t=>u(u({},t),{},{validation:e}))}}catch(t){console.error("Error calling validation endpoint:",t)}}catch(n){console.error("Error updating building units preview:",n)}finally{Yt(!1)}},Xt=async function(){if(console.log("=== generateBuildingUnits called ==="),console.log("selectedAddressData:",te),console.log("buildingConfiguration:",fe),console.log("selectedUnits:",de),!te)return console.log("No selectedAddressData, returning early"),void Fe("Please select a property first.");try{console.log("Setting status to generating..."),Fe("Generating building units..."),console.log("Collecting model data points...");const t=Dt();if(console.log("Model data collected:",t),!t)throw new Error("Unable to collect model data points");const n=.5*t.site_area;console.log("Building area calculated:",n);const i={site_data:u(u({},te),{},{site_area:t.site_area,parcel_geometry:t.site_geometry,lot_characteristics:t.lot_characteristics}),zoning_data:u(u({},D),{},{setbacks:t.setbacks,building_constraints:t.building_constraints,dedications:t.dedications,outdoor_space:t.outdoor_space,multiple_dwelling:u(u({},t.multiple_dwelling),{},{selected_units:de,building_configuration:fe}),building_separation:t.building_separation,calculated_values:t.calculated_values}),building_config:{units:de,style:"modern",coverage:.5,building_area:n,unit_mix:{"2BR":de},building_layout:ge,include_coach_house:me,coach_house_position:xe}};console.log("Building Units Data:",i),console.log("Selected Units being sent:",de),console.log("Multiple dwelling data:",i.zoning_data.multiple_dwelling),console.log("About to make fetch request to backend...");const r=await fetch(rr.GENERATE_BUILDING_UNITS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(console.log("Response received:",r),console.log("Response status:",r.status),console.log("Response ok:",r.ok),!r.ok){const e=await r.text();throw console.log("Error response text:",e),new Error("HTTP error! status: ".concat(r.status,", text: ").concat(e))}const o=await r.json();if(console.log("Response JSON:",o),o.success&&o.model_url){var e;console.log("Success! Downloading model..."),Fe("Building units generated successfully! ".concat(de," units, ").concat(null===(e=t.site_area)||void 0===e?void 0:e.toLocaleString()," m\xb2 site"));const n=or(o.model_url);console.log("Download URL:",n);const i=document.createElement("a");i.href=n;const r=((null===te||void 0===te?void 0:te.full_address)||(null===te||void 0===te?void 0:te.civic_address)||"unknown_address").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_");return i.download="".concat(r,"_building_units_").concat(de,"_units.obj"),document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("Download initiated"),o}throw console.log("Result not successful:",o),new Error(o.error||"Error generating building units")}catch(t){console.error("Error generating building units:",t),console.error("Error stack:",t.stack),Fe("Error generating building units: ".concat(t.message))}},$t=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(te)try{Ut();const t=Rt||{};console.log("generateLotShape - selectedAddressData:",te),console.log("generateLotShape - editableLotMeasurements:",Rt),console.log("generateLotShape - safeLotMeasurements:",t);const n={site_data:{site_area:te.site_area||100,zoning_district:te.current_zoning||"R1-1",address:te.full_address||te.civic_address||"Unknown Address",parcel_geometry:te.parcel_geometry,lot_characteristics:{lot_type:t.lotType||"standard",is_corner_lot:t.isCornerLot||!1,lot_width:t.lotWidth||te.lot_width||10,lot_depth:t.lotDepth||te.lot_depth||10,lot_shape:t.lotShape||"rectangular",street_frontage:t.streetFrontage||t.lotWidth||te.lot_width||10,additional_notes:t.additionalNotes||""}},zoning_data:{},building_config:{style:"lot_shape",units:1},prompt_type:"lot_shape",model_type:"shap-e",task_id:e};console.log("generateLotShape - sending request data:",n);const i=await fetch(rr.HF_GENERATE_LOCAL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(i.ok){const t=await i.json();if(console.log("generateLotShape - response result:",t),t.model_url){const n=or(t.model_url),i=document.createElement("a");i.href=n;const r=((null===te||void 0===te?void 0:te.full_address)||(null===te||void 0===te?void 0:te.civic_address)||"unknown_address").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_");return i.download="".concat(r,"_lot_shape.obj"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),e||alert("3D Lot Shape generated successfully! Download started automatically."),t}throw console.error("generateLotShape - No model_url in result:",t),new Error(t.error||"No model URL returned from server")}{const e=await i.text();throw console.error("generateLotShape - HTTP error:",i.status,e),new Error("HTTP ".concat(i.status,": ").concat(e))}}catch(t){throw console.error("Error generating lot shape:",t),console.error("Error stack:",t.stack),e||alert("Error generating lot shape: ".concat(t.message)),t}else alert("Please select an address first")},Zt=()=>{const e=JSON.stringify(He,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="model_data_points_".concat(Date.now(),".json"),i.click(),URL.revokeObjectURL(n)},Kt=e=>{jt&&jt.close();const t=new EventSource(rr.GENERATION_PROGRESS(e));t.onmessage=e=>{try{const n=JSON.parse(e.data);console.log("Progress update:",n),("completed"===n.status||"failed"===n.status)&&(Nt(!1),t.close(),Tt(null))}catch(n){console.error("Error parsing progress data:",n)}},t.onerror=e=>{console.error("SSE connection error:",e),t.close(),Tt(null)},Tt(t),It(e)};(0,t.useEffect)(()=>()=>{jt&&jt.close()},[jt]);return(0,lr.jsxs)("div",{className:"zoning-editor",children:[(0,lr.jsxs)("div",{className:"zoning-header",children:[(0,lr.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:(0,lr.jsxs)("h2",{children:["Zoning Editor - ",V?"".concat(V," (").concat("R1-1"===V?"Single Family Residential":"Residential Transition",")"):"Select District"]})}),(0,lr.jsxs)("div",{className:"tab-buttons",children:[(0,lr.jsx)("button",{className:"search"===W?"active":"",onClick:()=>X("search"),children:"Search"}),(0,lr.jsx)("button",{className:"lot_shape"===W?"active":"",onClick:()=>X("lot_shape"),children:"Lot Shape"}),(0,lr.jsx)("button",{className:"overview_setbacks"===W?"active":"",onClick:()=>X("overview_setbacks"),children:"Setbacks"}),(0,lr.jsx)("button",{className:"building"===W?"active":"",onClick:()=>X("building"),children:"Building Restrictions"}),(0,lr.jsx)("button",{className:"dwelling"===W?"active":"",onClick:()=>X("dwelling"),children:"Multiple Dwelling"}),(0,lr.jsx)("button",{className:"coverage"===W?"active":"",onClick:()=>X("coverage"),children:"Site Coverage"}),(0,lr.jsx)("button",{className:"character"===W?"active":"",onClick:()=>X("character"),children:"Heritage House"}),(0,lr.jsx)("button",{className:"dedications"===W?"active":"",onClick:()=>X("dedications"),children:"Dedication Requirements"}),(0,lr.jsx)("button",{className:"images"===W?"active":"",onClick:()=>X("images"),children:"Images"}),(0,lr.jsx)("button",{className:"projects"===W?"active":"",onClick:()=>X("projects"),children:"Projects"}),(0,lr.jsx)("button",{className:"model"===W?"active":"",onClick:()=>X("model"),children:"Model"})]})]}),(0,lr.jsxs)("div",{className:"zoning-content",children:["search"===W&&(()=>{if(console.log("Rendering search tab, zoningRules:",Object.keys(K),"selectedDistrict:",V),0===Object.keys(K).length)return(0,lr.jsxs)("div",{className:"search-section",children:[(0,lr.jsx)("h3",{children:"Search & Configuration"}),(0,lr.jsx)("div",{className:"loading-state",children:(0,lr.jsx)("p",{children:"Loading zoning rules..."})})]});const e=K[V]||{},t=(n=V)?ie.filter(e=>e.district===n):[];var n;return console.log("Addresses for district",V,":",t.length),(0,lr.jsxs)("div",{className:"search-section",children:[(0,lr.jsx)("h3",{children:"Search & Configuration"}),(0,lr.jsxs)("div",{className:"district-selection",children:[(0,lr.jsx)("h4",{children:"Zoning District Selection"}),(0,lr.jsxs)("select",{value:V,onChange:e=>G(e.target.value),className:"district-select",children:[(0,lr.jsx)("option",{value:"",children:"Select a district..."}),Object.keys(K).map(e=>(0,lr.jsx)("option",{value:e,children:{"R1-1":"R1-1 (Single Family Residential)","RT-7":"RT-7 (Residential Transition)","RT-9":"RT-9 (Residential Transition)"}[e]||e},e))]})]}),(0,lr.jsxs)("div",{className:"address-selection",children:[(0,lr.jsx)("h4",{children:"Address Search"}),(0,lr.jsx)(Zu,{onAddressSelect:e=>{if(console.log("Address selected in ZoningEditor:",e),ee(e.civic_address||e.full_address),ne(e),e.properties){var t,n,i,r,o,s,a,l,c,d,h,f,p,g,v,m,y,x,_,b,k,w,S,E,N;const C=e.properties,I={frontYard:{minimum:(null===(t=C.setbacks)||void 0===t||null===(n=t.front_yard)||void 0===n?void 0:n.minimum)||null,maximum:(null===(i=C.setbacks)||void 0===i||null===(r=i.front_yard)||void 0===r?void 0:r.maximum)||null,notes:(null===(o=C.setbacks)||void 0===o||null===(s=o.front_yard)||void 0===s?void 0:s.notes)||""},rearYard:{minimum:(null===(a=C.setbacks)||void 0===a||null===(l=a.rear_yard)||void 0===l?void 0:l.minimum)||null,maximum:(null===(c=C.setbacks)||void 0===c||null===(d=c.rear_yard)||void 0===d?void 0:d.maximum)||null,notes:(null===(h=C.setbacks)||void 0===h||null===(f=h.rear_yard)||void 0===f?void 0:f.notes)||""},sideYard:{minimum:(null===(p=C.setbacks)||void 0===p||null===(g=p.side_yard)||void 0===g?void 0:g.minimum)||null,maximum:(null===(v=C.setbacks)||void 0===v||null===(m=v.side_yard)||void 0===m?void 0:m.maximum)||null,notes:(null===(y=C.setbacks)||void 0===y||null===(x=y.side_yard)||void 0===x?void 0:x.notes)||""},maximumFloorSpaceRatio:(null===(_=C.building_metrics)||void 0===_?void 0:_.floor_space_ratio)||null,maximumFloorSpaceRatioNotes:(null===(b=C.building_metrics)||void 0===b?void 0:b.floor_space_ratio_notes)||"",maximumHeight:(null===(k=C.building_metrics)||void 0===k?void 0:k.maximum_height)||null,maximumHeightNotes:(null===(w=C.building_metrics)||void 0===w?void 0:w.maximum_height_notes)||"",maximumDensity:(null===(S=C.building_metrics)||void 0===S?void 0:S.maximum_density)||null,maximumDensityNotes:(null===(E=C.building_metrics)||void 0===E?void 0:E.maximum_density_notes)||"",developmentConditions:C.development_conditions||{},below_market_housing:(null===(N=C.zoning_conditions)||void 0===N?void 0:N.below_market_housing)||{}};if(Y(I),C.dedication_directions&&Z(C.dedication_directions),C.current_zoning&&G(C.current_zoning),C.lot_characteristics||C.site_measurements){const t=C.lot_characteristics||C.site_measurements||{};Ot(n=>u(u({},n),{},{lotWidth:t.lot_width||n.lotWidth,lotDepth:t.lot_depth||n.lotDepth,lotType:t.lot_type||e.lot_type||"standard",isCornerLot:t.is_corner_lot||"corner"===e.lot_type}))}F&&F({zoning_conditions:I,dedication_directions:C.dedication_directions,cardinal_directions:C.cardinal_directions,parcel_data:e})}if(z){const t=e.civic_address||e.full_address;console.log("\ud83d\udd0d ZoningEditor Debug - Calling onAddressSelect with:",t,e),z(t,e)}},placeholder:"Start typing an address..."})]}),V&&(0,lr.jsxs)("div",{className:"zoning-parameters",children:[(0,lr.jsxs)("h4",{children:["Zoning Parameters for ",V]}),(0,lr.jsxs)("div",{className:"parameters-grid",children:[(0,lr.jsxs)("div",{className:"parameter-group",children:[(0,lr.jsx)("label",{children:"Max Height (m):"}),(0,lr.jsx)("input",{type:"number",value:e.max_height||"",onChange:e=>At("max_height",parseFloat(e.target.value)),className:"parameter-input"})]}),(0,lr.jsxs)("div",{className:"parameter-group",children:[(0,lr.jsx)("label",{children:"FAR (Floor Area Ratio):"}),(0,lr.jsx)("input",{type:"number",step:"0.1",value:e.FAR||"",onChange:e=>At("FAR",parseFloat(e.target.value)),className:"parameter-input"})]}),(0,lr.jsxs)("div",{className:"parameter-group",children:[(0,lr.jsx)("label",{children:"Coverage (%):"}),(0,lr.jsx)("input",{type:"number",value:e.coverage||"",onChange:e=>At("coverage",parseFloat(e.target.value)),className:"parameter-input"})]}),(0,lr.jsxs)("div",{className:"parameter-group",children:[(0,lr.jsx)("label",{children:"Front Setback (m):"}),(0,lr.jsx)("input",{type:"number",value:e.front||"",onChange:e=>At("front",parseFloat(e.target.value)),className:"parameter-input"})]}),(0,lr.jsxs)("div",{className:"parameter-group",children:[(0,lr.jsx)("label",{children:"Side Setback (m):"}),(0,lr.jsx)("input",{type:"number",value:e.side||"",onChange:e=>At("side",parseFloat(e.target.value)),className:"parameter-input"})]}),(0,lr.jsxs)("div",{className:"parameter-group",children:[(0,lr.jsx)("label",{children:"Rear Setback (m):"}),(0,lr.jsx)("input",{type:"number",value:e.rear||"",onChange:e=>At("rear",parseFloat(e.target.value)),className:"parameter-input"})]})]})]}),te&&(0,lr.jsxs)("div",{className:"parcel-info",children:[(0,lr.jsx)("h4",{children:"Parcel Information"}),(0,lr.jsxs)("div",{className:"parcel-grid",children:[(0,lr.jsxs)("div",{className:"parcel-item",children:[(0,lr.jsx)("strong",{children:"Address:"})," ",te.full_address]}),te.site_area&&(0,lr.jsxs)("div",{className:"parcel-item",children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",te.site_area.toLocaleString()," m\xb2"]}),te.current_zoning&&(0,lr.jsxs)("div",{className:"parcel-item",children:[(0,lr.jsx)("strong",{children:"Current Zoning:"})," ",te.current_zoning]}),te.lot_type&&(0,lr.jsxs)("div",{className:"parcel-item",children:[(0,lr.jsx)("strong",{children:"Lot Type:"})," ",te.lot_type]})]})]})]})})(),"lot_shape"===W&&(()=>{var e,t,n,i,r;if(!te||!te.parcel_geometry)return(0,lr.jsxs)("div",{className:"lot-shape-section",children:[(0,lr.jsx)("h3",{children:"Lot Shape & Measurements"}),(0,lr.jsx)("div",{className:"no-data-message",children:(0,lr.jsx)("p",{children:"Please select an address to view lot shape and measurements."})})]});const o=te.parcel_geometry,s=te.site_area;let a=0,l=0;if("Polygon"===o.type&&o.coordinates&&o.coordinates[0]){const e=o.coordinates[0];if(e.length>=4){const t=e.map(e=>e[1]),n=e.map(e=>e[0]),i=Math.min(...t),r=Math.max(...t),o=Math.min(...n),s=r-i,u=Math.max(...n)-o,c=(i+r)/2;a=Math.abs(111e3*u*Math.cos(c*Math.PI/180)),l=Math.abs(111e3*s)}}return 0===Rt.lotWidth&&a>0&&Ot(e=>u(u({},e),{},{lotWidth:Math.round(10*a)/10,lotDepth:Math.round(10*l)/10,isCornerLot:"corner"===te.lot_type})),(0,lr.jsxs)("div",{className:"lot-shape-section",children:[(0,lr.jsx)("h3",{children:"Lot Shape & Measurements"}),(0,lr.jsxs)("div",{className:"lot-shape-grid",children:[(0,lr.jsxs)("div",{className:"lot-visualization",children:[(0,lr.jsx)("h4",{children:"Lot Visualization"}),null!==(e=te.api_response)&&void 0!==e&&null!==(t=e.properties)&&void 0!==t&&null!==(n=t.visualization)&&void 0!==n&&n.satellite_image?(0,lr.jsxs)("div",{className:"satellite-container",children:[(0,lr.jsx)("img",{src:te.api_response.properties.visualization.satellite_image,alt:"Lot satellite view",style:{maxWidth:"100%",border:"3px solid #e74c3c",borderRadius:"8px",position:"relative"}}),(0,lr.jsx)("div",{className:"lot-overlay",children:(0,lr.jsxs)("div",{className:"lot-boundary",style:{position:"absolute",top:"10%",left:"10%",right:"10%",bottom:"10%",border:"2px solid #e74c3c",backgroundColor:"rgba(231, 76, 60, 0.1)",pointerEvents:"none"},children:[(0,lr.jsx)("div",{className:"corner-marker",style:{position:"absolute",top:"-5px",left:"-5px",width:"10px",height:"10px",backgroundColor:"#e74c3c",borderRadius:"50%"}}),(0,lr.jsx)("div",{className:"corner-marker",style:{position:"absolute",top:"-5px",right:"-5px",width:"10px",height:"10px",backgroundColor:"#e74c3c",borderRadius:"50%"}}),(0,lr.jsx)("div",{className:"corner-marker",style:{position:"absolute",bottom:"-5px",left:"-5px",width:"10px",height:"10px",backgroundColor:"#e74c3c",borderRadius:"50%"}}),(0,lr.jsx)("div",{className:"corner-marker",style:{position:"absolute",bottom:"-5px",right:"-5px",width:"10px",height:"10px",backgroundColor:"#e74c3c",borderRadius:"50%"}})]})}),(0,lr.jsx)("div",{style:{color:"#888",fontSize:"12px",marginTop:"8px",textAlign:"center"},children:"Red border shows lot boundary \u2022 Satellite imagery from Vancouver Open Data"})]}):(0,lr.jsxs)("div",{className:"no-satellite",children:[(0,lr.jsx)("p",{children:"Satellite imagery not available for this property."}),(0,lr.jsx)("div",{className:"placeholder-lot",style:{width:"300px",height:"200px",border:"3px solid #e74c3c",borderRadius:"8px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:(0,lr.jsx)("span",{style:{color:"#6c757d"},children:"Lot Boundary"})})]})]}),(0,lr.jsxs)("div",{className:"lot-measurements",children:[(0,lr.jsx)("h4",{children:"Lot Measurements"}),(0,lr.jsxs)("div",{className:"measurements-grid",children:[(0,lr.jsxs)("div",{className:"measurement-item",children:[(0,lr.jsx)("label",{children:"Site Area:"}),(0,lr.jsx)("span",{className:"measurement-value",children:s?"".concat(s.toLocaleString()," m\xb2"):"Calculating..."})]}),(0,lr.jsxs)("div",{className:"measurement-item editable",children:[(0,lr.jsx)("label",{children:"Lot Width (m):"}),(0,lr.jsx)("input",{type:"number",step:"0.1",value:Rt.lotWidth,onChange:e=>Ot(t=>u(u({},t),{},{lotWidth:parseFloat(e.target.value)||0})),className:"measurement-input"})]}),(0,lr.jsxs)("div",{className:"measurement-item editable",children:[(0,lr.jsx)("label",{children:"Lot Depth (m):"}),(0,lr.jsx)("input",{type:"number",step:"0.1",value:Rt.lotDepth,onChange:e=>Ot(t=>u(u({},t),{},{lotDepth:parseFloat(e.target.value)||0})),className:"measurement-input"})]}),(0,lr.jsxs)("div",{className:"measurement-item editable",children:[(0,lr.jsx)("label",{children:"Lot Type:"}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,lr.jsxs)("select",{value:Rt.lotType||te.lot_type||"standard",onChange:e=>Ot(t=>u(u({},t),{},{lotType:e.target.value,isCornerLot:"corner"===e.target.value})),className:"measurement-select",style:{flex:1},children:[(0,lr.jsx)("option",{value:"standard",children:"Standard"}),(0,lr.jsx)("option",{value:"corner",children:"Corner Lot"}),(0,lr.jsx)("option",{value:"irregular",children:"Irregular"}),(0,lr.jsx)("option",{value:"flag",children:"Flag Lot"})]}),(0,lr.jsx)("button",{onClick:Ft,disabled:!(null!==te&&void 0!==te&&te.parcel_geometry),style:{padding:"4px 8px",fontSize:"12px",backgroundColor:null!==te&&void 0!==te&&te.parcel_geometry?"#007bff":"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:null!==te&&void 0!==te&&te.parcel_geometry?"pointer":"not-allowed",whiteSpace:"nowrap"},title:"Re-analyze corner lot status using enhanced detection",children:"Re-Analyze"})]}),(0,lr.jsx)("small",{style:{color:"#666",fontSize:"11px",marginTop:"4px",display:"block"},children:'Use "Re-Analyze" to automatically detect corner lot status from parcel geometry'})]}),(0,lr.jsxs)("div",{className:"measurement-item editable",children:[(0,lr.jsx)("label",{children:"Lot Shape:"}),(0,lr.jsxs)("select",{value:Rt.lotShape,onChange:e=>Ot(t=>u(u({},t),{},{lotShape:e.target.value})),className:"measurement-select",children:[(0,lr.jsx)("option",{value:"rectangular",children:"Rectangular"}),(0,lr.jsx)("option",{value:"square",children:"Square"}),(0,lr.jsx)("option",{value:"irregular",children:"Irregular"}),(0,lr.jsx)("option",{value:"triangular",children:"Triangular"})]})]}),(0,lr.jsxs)("div",{className:"measurement-item editable",children:[(0,lr.jsx)("label",{children:"Street Frontage (m):"}),(0,lr.jsx)("input",{type:"number",step:"0.1",value:Rt.streetFrontage,onChange:e=>Ot(t=>u(u({},t),{},{streetFrontage:parseFloat(e.target.value)||0})),className:"measurement-input",placeholder:"Enter frontage"})]}),(0,lr.jsxs)("div",{className:"measurement-item",children:[(0,lr.jsx)("label",{children:"Geometry Type:"}),(0,lr.jsx)("span",{className:"measurement-value",children:o.type||"Unknown"})]})]}),(0,lr.jsxs)("div",{className:"additional-notes",children:[(0,lr.jsx)("label",{children:"Additional Lot Notes:"}),(0,lr.jsx)("textarea",{value:Rt.additionalNotes,onChange:e=>Ot(t=>u(u({},t),{},{additionalNotes:e.target.value})),className:"notes-textarea",placeholder:"Add any special lot characteristics, constraints, or notes...",rows:"3"})]}),(null===(i=te.api_response)||void 0===i||null===(r=i.properties)||void 0===r?void 0:r.detailed_geometry)&&(0,lr.jsxs)("div",{className:"detailed-geometry",children:[(0,lr.jsx)("h4",{children:"Detailed Geometry Analysis"}),(0,lr.jsxs)("div",{className:"geometry-section",children:[(0,lr.jsx)("h5",{children:"Corner Coordinates"}),(0,lr.jsx)("div",{className:"corners-grid",children:te.api_response.properties.detailed_geometry.corners.map((e,t)=>(0,lr.jsxs)("div",{className:"corner-item",children:[(0,lr.jsx)("div",{className:"corner-header",children:(0,lr.jsxs)("span",{className:"corner-label",children:["Corner ",t+1]})}),(0,lr.jsxs)("div",{className:"corner-coords",children:[(0,lr.jsxs)("div",{children:["Lat: ",e.latitude.toFixed(6),"\xb0"]}),(0,lr.jsxs)("div",{children:["Lon: ",e.longitude.toFixed(6),"\xb0"]})]})]},t))})]}),(0,lr.jsxs)("div",{className:"geometry-section",children:[(0,lr.jsx)("h5",{children:"Edge Measurements"}),(0,lr.jsx)("div",{className:"edges-grid",children:te.api_response.properties.detailed_geometry.edges.map((e,t)=>(0,lr.jsxs)("div",{className:"edge-item",children:[(0,lr.jsxs)("div",{className:"edge-header",children:[(0,lr.jsxs)("span",{className:"edge-label",children:["Edge ",t+1]}),e.edge_index===te.api_response.properties.detailed_geometry.street_frontage.edge_index&&(0,lr.jsx)("span",{className:"street-frontage-badge",children:"Street Frontage"}),e.edge_index===te.api_response.properties.detailed_geometry.longest_edge.edge_index&&(0,lr.jsx)("span",{className:"longest-edge-badge",children:"Longest"})]}),(0,lr.jsx)("div",{className:"edge-measurements",children:(0,lr.jsxs)("div",{children:["Length: ",e.length_meters.toFixed(1),"m (",e.length_feet.toFixed(1),"ft)"]})})]},t))})]}),(0,lr.jsxs)("div",{className:"geometry-section",children:[(0,lr.jsx)("h5",{children:"Lot Characteristics"}),(0,lr.jsxs)("div",{className:"characteristics-grid",children:[(0,lr.jsxs)("div",{className:"characteristic-item",children:[(0,lr.jsx)("label",{children:"Shape Classification:"}),(0,lr.jsxs)("span",{className:"characteristic-value",children:[te.api_response.properties.detailed_geometry.lot_shape,te.api_response.properties.detailed_geometry.is_rectangular&&" (Rectangular)"]})]}),(0,lr.jsxs)("div",{className:"characteristic-item",children:[(0,lr.jsx)("label",{children:"Aspect Ratio:"}),(0,lr.jsx)("span",{className:"characteristic-value",children:te.api_response.properties.detailed_geometry.dimensions.aspect_ratio.toFixed(2)})]}),(0,lr.jsxs)("div",{className:"characteristic-item",children:[(0,lr.jsx)("label",{children:"Primary Orientation:"}),(0,lr.jsx)("span",{className:"characteristic-value",children:te.api_response.properties.detailed_geometry.orientation.primary_direction})]}),(0,lr.jsxs)("div",{className:"characteristic-item",children:[(0,lr.jsx)("label",{children:"Street Direction:"}),(0,lr.jsx)("span",{className:"characteristic-value",children:te.api_response.properties.detailed_geometry.orientation.street_direction})]})]})]}),(0,lr.jsxs)("div",{className:"geometry-section",children:[(0,lr.jsx)("h5",{children:"Precise Dimensions"}),(0,lr.jsxs)("div",{className:"dimensions-grid",children:[(0,lr.jsxs)("div",{className:"dimension-item",children:[(0,lr.jsx)("label",{children:"Width:"}),(0,lr.jsxs)("span",{className:"dimension-value",children:[te.api_response.properties.detailed_geometry.dimensions.width_meters.toFixed(1),"m (",te.api_response.properties.detailed_geometry.dimensions.width_feet.toFixed(1),"ft)"]})]}),(0,lr.jsxs)("div",{className:"dimension-item",children:[(0,lr.jsx)("label",{children:"Depth:"}),(0,lr.jsxs)("span",{className:"dimension-value",children:[te.api_response.properties.detailed_geometry.dimensions.depth_meters.toFixed(1),"m (",te.api_response.properties.detailed_geometry.dimensions.depth_feet.toFixed(1),"ft)"]})]}),(0,lr.jsxs)("div",{className:"dimension-item",children:[(0,lr.jsx)("label",{children:"Street Frontage:"}),(0,lr.jsxs)("span",{className:"dimension-value",children:[te.api_response.properties.detailed_geometry.street_frontage.length_meters.toFixed(1),"m (",te.api_response.properties.detailed_geometry.street_frontage.length_feet.toFixed(1),"ft)"]})]})]})]})]}),(0,lr.jsxs)("div",{className:"lot-3d-generation",children:[(0,lr.jsx)("h4",{children:"Generate 3D Lot Shape"}),(0,lr.jsx)("p",{children:"Create a plain 3D model of the lot shape for use in building design."}),(0,lr.jsx)("div",{className:"generation-controls",children:(0,lr.jsx)("button",{className:"generate-lot-button",onClick:()=>$t(),disabled:!te,children:"\ud83c\udfd7\ufe0f Generate 3D Lot Shape"})}),(0,lr.jsxs)("div",{className:"lot-prompt-preview",children:[(0,lr.jsx)("h5",{children:"Lot Shape Prompt Preview:"}),(0,lr.jsx)("div",{className:"prompt-content",children:Ut()})]})]})]})]})]})})(),"model"===W&&(te?(0,lr.jsxs)("div",{className:"model-section",children:[(0,lr.jsx)("h3",{children:"3D Model Generation"}),(0,lr.jsx)("div",{className:"model-overview",children:(0,lr.jsxs)("div",{className:"model-info",children:[(0,lr.jsx)("h4",{children:"Current Property"}),(0,lr.jsxs)("div",{className:"property-details",children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Address:"})," ",te.full_address]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",te.site_area?"".concat(te.site_area.toLocaleString()," m\xb2"):"Calculating..."]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Zoning:"})," ",V||te.current_zoning||"Unknown"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lot Type:"})," ",Rt.lotType?Rt.lotType:te.lot_type||"Standard"]})]})]})}),(0,lr.jsxs)("div",{className:"model-generation-grid",children:[(0,lr.jsxs)("div",{className:"model-card lot-shape-card",children:[(0,lr.jsxs)("div",{className:"model-card-header",children:[(0,lr.jsx)("h4",{children:"\ud83c\udfd7\ufe0f Lot Shape Generation"}),(0,lr.jsx)("span",{className:"model-type-badge",children:"Foundation"})]}),(0,lr.jsx)("div",{className:"model-card-content",children:(0,lr.jsx)("button",{className:"generate-button lot-shape-button",onClick:()=>$t(),disabled:!te,style:{width:"100%",padding:"12px 20px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:te?"pointer":"not-allowed",opacity:te?1:.6,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83c\udfd7\ufe0f Generate Lot Shape"})})]}),(0,lr.jsxs)("div",{className:"model-card setback-visualization-card",children:[(0,lr.jsxs)("div",{className:"model-card-header",children:[(0,lr.jsx)("h4",{children:"\ud83d\udcd0 Setback Visualization"}),(0,lr.jsx)("span",{className:"model-type-badge",children:"Analysis"})]}),(0,lr.jsx)("div",{className:"model-card-content",children:(0,lr.jsx)("button",{className:"generate-button setback-visualization-button",onClick:qt,disabled:!te,style:{width:"100%",padding:"12px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:te?"pointer":"not-allowed",opacity:te?1:.6,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83d\udcd0 Generate Setback Visualization"})})]}),(0,lr.jsxs)("div",{className:"model-card building-units-card",children:[(0,lr.jsxs)("div",{className:"model-card-header",children:[(0,lr.jsx)("h4",{children:"\ud83c\udfe2 Building Units"}),(0,lr.jsx)("span",{className:"model-type-badge",children:"Geometric"})]}),(0,lr.jsx)("div",{className:"model-card-content",children:(0,lr.jsx)("button",{className:"generate-button building-units-button",onClick:Xt,disabled:!te,style:{width:"100%",padding:"12px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:te?"pointer":"not-allowed",opacity:te?1:.6,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83c\udfe2 Generate Building Units"})})]})]}),De&&(0,lr.jsx)("div",{className:"model-status",children:(0,lr.jsxs)("div",{className:"status-message",children:[(0,lr.jsx)("span",{className:"status-icon",children:"\u2139\ufe0f"}),De]})}),gt&&(0,lr.jsx)("div",{className:"data-points-popup",children:(0,lr.jsxs)("div",{className:"popup-content",children:[(0,lr.jsxs)("div",{className:"popup-header",children:[(0,lr.jsx)("h4",{children:"Data Points for 3D Model Generation"}),(0,lr.jsx)("button",{className:"close-button",onClick:()=>vt(!1),children:"\u2715"})]}),(0,lr.jsx)("div",{className:"data-points-content",children:(0,lr.jsx)("pre",{children:JSON.stringify(He,null,2)})}),(0,lr.jsxs)("div",{className:"popup-actions",children:[(0,lr.jsx)("button",{className:"cancel-button",onClick:()=>vt(!1),children:"Cancel"}),(0,lr.jsx)("button",{className:"download-button",onClick:()=>Zt(),children:"\ud83d\udce5 Download JSON"}),(0,lr.jsx)("button",{className:"proceed-button",onClick:Bt,children:"\ud83d\ude80 Proceed with Generation"})]})]})})]}):(0,lr.jsxs)("div",{className:"model-section",children:[(0,lr.jsx)("h3",{children:"3D Model Generation"}),(0,lr.jsx)("div",{className:"no-data-message",children:(0,lr.jsx)("p",{children:"Please select an address to generate 3D models."})})]})),"overview_setbacks"===W&&(0,lr.jsxs)("div",{className:"overview-setbacks-section",children:[(0,lr.jsxs)("div",{className:"overview-section",children:[(0,lr.jsx)("h3",{children:"Zoning District Overview"}),te&&(0,lr.jsxs)("div",{className:"parcel-overview",children:[(0,lr.jsx)("h4",{children:"Current Parcel"}),(0,lr.jsxs)("div",{className:"parcel-details",children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Address:"})," ",te.full_address]}),te.site_area&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",te.site_area.toLocaleString()," m\xb2"]}),te.current_zoning&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Current Zoning:"})," ",te.current_zoning]}),te.lot_type&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lot Type:"})," ",te.lot_type]})]})]}),(0,lr.jsx)("div",{className:"overview-grid",children:(0,lr.jsxs)("div",{className:"basic-info",children:[(0,lr.jsx)("h4",{children:"Editable Zoning Parameters"}),(0,lr.jsxs)("div",{className:"parameter-edits",children:[(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"District:"}),(0,lr.jsx)("select",{value:V,onChange:e=>G(e.target.value),className:"edit-select",children:Object.keys(K).map(e=>(0,lr.jsx)("option",{value:e,children:{"R1-1":"R1-1 (Single Family Residential)","RT-7":"RT-7 (Residential Transition)","RT-9":"RT-9 (Residential Transition)"}[e]||e},e))})]}),(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"Front Setback (m):"}),(0,lr.jsx)("input",{type:"number",value:Le.front,onChange:e=>Pe(u(u({},Le),{},{front:parseFloat(e.target.value)||0})),className:"edit-input"})]}),(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"Side Setback (m):"}),(0,lr.jsx)("input",{type:"number",value:Le.side,onChange:e=>Pe(u(u({},Le),{},{side:parseFloat(e.target.value)||0})),className:"edit-input"})]}),(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"Rear Setback (m):"}),(0,lr.jsx)("input",{type:"number",value:Le.rear,onChange:e=>Pe(u(u({},Le),{},{rear:parseFloat(e.target.value)||0})),className:"edit-input"})]}),(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"Max Height (m):"}),(0,lr.jsx)("input",{type:"number",value:H.max_height||"",onChange:e=>Mt("max_height",parseFloat(e.target.value)),className:"edit-input"})]}),(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"FAR:"}),(0,lr.jsx)("input",{type:"number",step:"0.1",value:H.FAR||"",onChange:e=>Mt("FAR",parseFloat(e.target.value)),className:"edit-input"})]}),(0,lr.jsxs)("div",{className:"edit-group",children:[(0,lr.jsx)("label",{children:"Coverage (%):"}),(0,lr.jsx)("input",{type:"number",value:H.coverage||"",onChange:e=>Mt("coverage",parseFloat(e.target.value)),className:"edit-input"})]})]})]})})]}),(0,lr.jsxs)("div",{className:"setback-requirements",children:[(0,lr.jsx)("h3",{children:"Setback Requirements"}),(0,lr.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,lr.jsx)("h4",{children:"Editable Setbacks"}),(0,lr.jsx)("p",{style:{fontSize:"0.9em",color:"#666",marginBottom:"15px"},children:"Adjust setback values to see how they affect site coverage calculations. Changes here will update the Site Coverage tab."}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:(0,lr.jsx)("strong",{children:"Front Setback (m):"})}),(0,lr.jsx)("input",{type:"number",value:Le.front,onChange:e=>Pe(u(u({},Le),{},{front:parseFloat(e.target.value)||0})),step:"0.1",min:"0",style:{width:"100%",marginTop:"4px",padding:"4px"}}),(0,lr.jsx)("small",{style:{color:"#666"},children:"R1-1 default: 4.9m"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:(0,lr.jsx)("strong",{children:"Side Setback (m):"})}),(0,lr.jsx)("input",{type:"number",value:Le.side,onChange:e=>Pe(u(u({},Le),{},{side:parseFloat(e.target.value)||0})),step:"0.1",min:"0",style:{width:"100%",marginTop:"4px",padding:"4px"}}),(0,lr.jsx)("small",{style:{color:"#666"},children:"R1-1 default: 1.2m"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:(0,lr.jsx)("strong",{children:"Rear Setback (m):"})}),(0,lr.jsx)("input",{type:"number",value:Le.rear,onChange:e=>Pe(u(u({},Le),{},{rear:parseFloat(e.target.value)||0})),step:"0.1",min:"0",style:{width:"100%",marginTop:"4px",padding:"4px"}}),(0,lr.jsx)("small",{style:{color:"#666"},children:"R1-1 default: 10.7m"})]})]}),(0,lr.jsx)("button",{onClick:()=>Pe({front:4.9,side:1.2,rear:10.7}),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reset to R1-1 Defaults"})]}),H.setback_requirements&&(0,lr.jsx)("div",{className:"setback-grid",children:Object.entries(H.setback_requirements).map(e=>{let[t,n]=e;return(0,lr.jsxs)("div",{className:"setback-card",children:[(0,lr.jsx)("h4",{children:t.replace("_"," ").toUpperCase()}),(0,lr.jsx)("ul",{children:Object.entries(n).map(e=>{let[t,n]=e;return(0,lr.jsxs)("li",{children:[(0,lr.jsxs)("strong",{children:[t.replace("_"," "),":"]})," ",n]},t)})})]},t)})})]})]}),"building"===W&&(0,lr.jsxs)("div",{className:"building-restrictions",children:[(0,lr.jsx)("h3",{children:"Building Restrictions"}),ae&&(0,lr.jsxs)("div",{className:"floodplain-section",children:[(0,lr.jsx)("h4",{children:"Floodplain Risk"}),(0,lr.jsxs)("div",{style:{color:Ja(ae).riskColor},children:[(0,lr.jsx)("strong",{children:Ja(ae).riskLevel}),": ",ae.message]}),Ja(ae).affectedAreas.length>0&&(0,lr.jsx)("ul",{children:Ja(ae).affectedAreas.map((e,t)=>(0,lr.jsxs)("li",{style:{color:e.riskColor},children:[e.name," (",e.riskLabel,") - ",e.overlapPercentage,"% overlap"]},t))}),(0,lr.jsxs)("div",{className:"floodplain-recommendations",children:[(0,lr.jsx)("h5",{children:"Recommendations"}),(0,lr.jsx)("ul",{children:Qa(ae).map((e,t)=>(0,lr.jsx)("li",{style:{color:"warning"===e.type?"#fd7e14":"#333"},children:e.message},t))})]})]}),ue&&(0,lr.jsxs)("div",{className:"site-validation-section",children:[(0,lr.jsx)("h4",{children:"Site & Zoning Validation"}),(0,lr.jsxs)("div",{style:{color:$u(ue).statusColor},children:[(0,lr.jsx)("strong",{children:$u(ue).status}),": ",$u(ue).summary]}),$u(ue).issues.length>0&&(0,lr.jsxs)("div",{className:"validation-issues",children:[(0,lr.jsx)("h5",{children:"Blocking Issues"}),(0,lr.jsx)("ul",{children:$u(ue).issues.map((e,t)=>(0,lr.jsx)("li",{style:{color:"#dc3545"},children:e},t))})]}),$u(ue).warnings.length>0&&(0,lr.jsxs)("div",{className:"validation-warnings",children:[(0,lr.jsx)("h5",{children:"Warnings"}),(0,lr.jsx)("ul",{children:$u(ue).warnings.map((e,t)=>(0,lr.jsx)("li",{style:{color:"#fd7e14"},children:e},t))})]})]}),!ae&&!ue&&(0,lr.jsx)("div",{style:{color:"#888"},children:"Select an address to view building restrictions."}),ae&&ue&&!ae.inFloodplain&&ue.isValid&&0===ue.warnings.length&&(0,lr.jsx)("div",{style:{color:"#28a745",fontWeight:"bold"},children:"\u2705 No Restrictions"})]}),"dwelling"===W&&(()=>{const e={2:0,3:306,4:306,5:464,6:557,7:557,8:557},t=(null===te||void 0===te?void 0:te.site_area)||0;Object.keys(e).map(Number).filter(n=>t>=e[n]);let n=Rt.lotDepth;if(0===n&&null!==te&&void 0!==te&&te.parcel_geometry){const e=te.parcel_geometry;if("Polygon"===e.type&&e.coordinates&&e.coordinates[0]){const t=e.coordinates[0];if(t.length>=4){const e=t.map(e=>e[1]),i=Math.max(...e)-Math.min(...e);n=Math.abs(111e3*i)}}}0===n&&(n=Math.sqrt(t));const i=n>=33.5&&de>=4;return(0,lr.jsxs)("div",{className:"multiple-dwelling-conditions",children:[(0,lr.jsx)("h3",{children:"Multiple Dwelling Conditions"}),(0,lr.jsxs)("div",{style:{marginBottom:20,padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 12px 0",color:"#495057"},children:"\ud83c\udfd7\ufe0f Building Configuration"}),(0,lr.jsxs)("div",{style:{marginBottom:12},children:[(0,lr.jsxs)("label",{htmlFor:"layout-type-select",children:[(0,lr.jsx)("strong",{children:"Layout Type:"})," "]}),(0,lr.jsxs)("select",{id:"layout-type-select",value:fe.layout_type,onChange:e=>pe(u(u({},fe),{},{layout_type:e.target.value})),children:[(0,lr.jsx)("option",{value:"multiplex",children:"Multiplex (Units within buildings)"}),(0,lr.jsx)("option",{value:"separate",children:"Separate Buildings (Each unit is a building)"})]}),(0,lr.jsx)("div",{style:{fontSize:"0.8em",color:"#6c757d",marginTop:"4px"},children:"multiplex"===fe.layout_type?"Units will be grouped within buildings with internal division walls":"Each unit will be a separate building with separation requirements"})]}),(0,lr.jsxs)("div",{style:{marginBottom:12},children:[(0,lr.jsxs)("label",{htmlFor:"num-buildings",children:[(0,lr.jsx)("strong",{children:"Number of Buildings:"})," "]}),(0,lr.jsx)("select",{id:"num-buildings",value:fe.num_buildings,onChange:e=>{const t=Number(e.target.value),n=de,i=Math.ceil(n/t),r=[];for(let o=0;o<t;o++)o===t-1?r.push(n-i*(t-1)):r.push(i);pe(u(u({},fe),{},{num_buildings:t,units_per_building:r}))},children:[1,2,3,4].map(e=>(0,lr.jsxs)("option",{value:e,children:[e," ",1===e?"Building":"Buildings"]},e))})]}),(0,lr.jsxs)("div",{style:{marginBottom:12},children:[(0,lr.jsx)("label",{children:(0,lr.jsx)("strong",{children:"Units per Building:"})}),(0,lr.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"4px"},children:fe.units_per_building.map((e,t)=>(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,lr.jsxs)("label",{style:{fontSize:"0.9em"},children:["Building ",t+1,":"]}),(0,lr.jsx)("select",{value:e,onChange:e=>{const n=[...fe.units_per_building];n[t]=Number(e.target.value);const i=n.reduce((e,t)=>e+t,0);he(i),pe(u(u({},fe),{},{units_per_building:n}))},style:{width:"60px"},children:[1,2,3,4,5,6,7,8].map(e=>(0,lr.jsx)("option",{value:e,children:e},e))})]},t))}),(0,lr.jsxs)("div",{style:{fontSize:"0.8em",color:"#6c757d",marginTop:"4px"},children:["Total Units: ",fe.units_per_building.reduce((e,t)=>e+t,0)]})]}),(0,lr.jsxs)("div",{style:{padding:"8px",backgroundColor:"#e7f3ff",borderRadius:"4px",border:"1px solid #b3d9ff",fontSize:"0.9em"},children:[(0,lr.jsx)("div",{style:{fontWeight:"bold",color:"#004085",marginBottom:"4px"},children:"\ud83d\udccb Configuration Summary:"}),(0,lr.jsxs)("div",{style:{color:"#004085"},children:[fe.num_buildings," ",1===fe.num_buildings?"building":"buildings"," with"," ",fe.units_per_building.map((e,t)=>"".concat(e," unit").concat(1!==e?"s":"").concat(t<fe.units_per_building.length-1?", ":"")).join("")]}),(0,lr.jsxs)("div",{style:{color:"#004085",fontSize:"0.8em",marginTop:"2px"},children:["Layout: ","multiplex"===fe.layout_type?"Multiplex (units within buildings)":"Separate buildings"]})]})]}),(0,lr.jsxs)("div",{style:{marginBottom:16},children:[(0,lr.jsxs)("label",{htmlFor:"unit-select",children:[(0,lr.jsx)("strong",{children:"Total Units (Legacy):"})," "]}),(0,lr.jsx)("select",{id:"unit-select",value:de,onChange:e=>{const t=Number(e.target.value);he(t);const n=fe.num_buildings,i=Math.ceil(t/n),r=[];for(let o=0;o<n;o++)o===n-1?r.push(t-i*(n-1)):r.push(i);pe(u(u({},fe),{},{units_per_building:r}))},children:[2,3,4,5,6,7,8].map(n=>(0,lr.jsxs)("option",{value:n,disabled:t<e[n],children:[n," ",2===n?"(Duplex)":"Units",t<e[n]?" (Not eligible)":""]},n))})]}),(0,lr.jsxs)("div",{style:{marginBottom:16},children:[(0,lr.jsxs)("label",{htmlFor:"layout-select",children:[(0,lr.jsx)("strong",{children:"Building Layout:"})," "]}),(0,lr.jsxs)("select",{id:"layout-select",value:ge,onChange:e=>ve(e.target.value),children:[(0,lr.jsx)("option",{value:"standard_row",children:"Standard Row Layout"}),i&&(0,lr.jsx)("option",{value:"courtyard",children:"Courtyard Configuration"}),(0,lr.jsx)("option",{value:"l_shaped",children:"L-Shaped Layout"}),(0,lr.jsx)("option",{value:"u_shaped",children:"U-Shaped Layout"})]}),"courtyard"===ge&&!i&&(0,lr.jsx)("div",{style:{color:"orange",fontSize:"0.9em",marginTop:"4px"},children:"\u26a0\ufe0f Courtyard requires lot depth \u226533.5m and 4+ units"}),"courtyard"===ge&&i&&(0,lr.jsx)("div",{style:{color:"green",fontSize:"0.9em",marginTop:"4px"},children:"\u2705 Eligible for courtyard configuration"}),"courtyard"===ge&&(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#e7f3ff",borderRadius:"4px",border:"1px solid #b3d9ff"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.9em",fontWeight:"bold",color:"#004085",marginBottom:"4px"},children:"\ud83c\udfd8\ufe0f Vancouver R1-1 Courtyard Requirements:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"16px",fontSize:"0.85em",color:"#004085"},children:[(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Minimum site depth:"})," 33.5m (110 ft.)"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Courtyard separation:"})," 6.1m (20 ft.) between front and rear buildings"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Building separation:"})," 3.0m between front buildings, 3.0m between rear buildings"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Building arrangement:"})," Front building larger, rear building smaller"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Rear yard setback:"})," 0.9m (reduced from 10.7m for courtyard)"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Fire safety:"})," Max 45m travel distance from street to unit entrance"]})]}),(()=>{const e=(null===te||void 0===te?void 0:te.site_area)||0;let t=Rt.lotDepth;if(0===t&&null!==te&&void 0!==te&&te.parcel_geometry){const e=te.parcel_geometry;if("Polygon"===e.type&&e.coordinates&&e.coordinates[0]){const n=e.coordinates[0];if(n.length>=4){const e=n.map(e=>e[1]),i=Math.max(...e)-Math.min(...e);t=Math.abs(111e3*i)}}}0===t&&(t=Math.sqrt(e));const n=t>=33.5,i=de>=4,r=n&&i,o=4.9+.45*t+6.1+.35*t*.5,s=o>45;return(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"6px",backgroundColor:r?"#d4edda":"#f8d7da",borderRadius:"4px",border:"1px solid ".concat(r?"#c3e6cb":"#f5c6cb")},children:[(0,lr.jsx)("div",{style:{fontSize:"0.9em",fontWeight:"bold",color:r?"#155724":"#721c24",marginBottom:"4px"},children:r?"\u2705 Courtyard Configuration Eligible":"\u274c Courtyard Configuration Not Eligible"}),(0,lr.jsxs)("div",{style:{fontSize:"0.8em",color:r?"#155724":"#721c24"},children:[(0,lr.jsxs)("div",{children:["Lot Depth: ",t.toFixed(1),"m ",n?"\u2705":"\u274c"," (need ",33.5,"m)"]}),(0,lr.jsxs)("div",{children:["Units: ",de," ",i?"\u2705":"\u274c"," (need ",4,"+)"]}),s&&(0,lr.jsxs)("div",{style:{marginTop:"4px",padding:"4px",backgroundColor:"#fff3cd",borderRadius:"3px",border:"1px solid #ffeaa7"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.8em",color:"#856404",fontWeight:"bold"},children:"\u26a0\ufe0f Fire Safety Warning:"}),(0,lr.jsxs)("div",{style:{fontSize:"0.75em",color:"#856404"},children:["Estimated travel distance: ",o.toFixed(1),"m (max: ",45,"m)"]}),(0,lr.jsx)("div",{style:{fontSize:"0.75em",color:"#856404"},children:"Additional VBBL requirements may apply"})]})]})]})})()]})]}),(0,lr.jsxs)("div",{style:{marginBottom:16},children:[(()=>{const t=(null===te||void 0===te?void 0:te.site_area)||0;let n=Rt.lotDepth;if(0===n&&null!==te&&void 0!==te&&te.parcel_geometry){const e=te.parcel_geometry;if("Polygon"===e.type&&e.coordinates&&e.coordinates[0]){const t=e.coordinates[0];if(t.length>=4){const e=t.map(e=>e[1]),i=Math.max(...e)-Math.min(...e);n=Math.abs(111e3*i)}}}0===n&&(n=Math.sqrt(t));const i=t>=400&&n>=35&&t>=e[de];return(0,lr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,lr.jsx)("input",{type:"checkbox",checked:me,onChange:e=>ye(e.target.checked),disabled:!i}),(0,lr.jsxs)("strong",{style:{color:i?"inherit":"#999"},children:["Include Coach House ",!i&&"(Not eligible)"]})]})})(),me&&(0,lr.jsxs)("div",{style:{marginTop:"8px",marginLeft:"20px"},children:[(0,lr.jsxs)("label",{htmlFor:"coach-house-position",children:[(0,lr.jsx)("strong",{children:"Coach House Position:"})," "]}),(0,lr.jsxs)("select",{id:"coach-house-position",value:xe,onChange:e=>_e(e.target.value),children:[(0,lr.jsx)("option",{value:"rear",children:"Rear of Property"}),(0,lr.jsx)("option",{value:"side",children:"Side of Property"}),(0,lr.jsx)("option",{value:"corner",children:"Corner Position"})]}),(0,lr.jsx)("div",{style:{fontSize:"0.9em",color:"#666",marginTop:"4px"},children:"Coach house height: 8.5m max (2 storeys)"}),me&&(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#fff3cd",borderRadius:"4px",border:"1px solid #ffeaa7"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.9em",fontWeight:"bold",color:"#856404",marginBottom:"4px"},children:"\ud83c\udfe0 Coach House Requirements:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"16px",fontSize:"0.85em",color:"#856404"},children:[(0,lr.jsx)("li",{children:"Minimum site area: 400m\xb2 (for coach house + main units)"}),(0,lr.jsx)("li",{children:"Minimum lot depth: 35m"}),(0,lr.jsx)("li",{children:"Building separation: 2.4m from main buildings"}),(0,lr.jsx)("li",{children:"Rear position: 6.1m separation from frontage buildings"}),(0,lr.jsx)("li",{children:"Coverage: Counts toward 50% site coverage limit"}),(0,lr.jsx)("li",{children:"FAR: Contributes to 0.7 FAR limit"})]}),(()=>{const t=(null===te||void 0===te?void 0:te.site_area)||0;let n=Rt.lotDepth;if(0===n&&null!==te&&void 0!==te&&te.parcel_geometry){const e=te.parcel_geometry;if("Polygon"===e.type&&e.coordinates&&e.coordinates[0]){const t=e.coordinates[0];if(t.length>=4){const e=t.map(e=>e[1]),i=Math.max(...e)-Math.min(...e);n=Math.abs(111e3*i)}}}0===n&&(n=Math.sqrt(t));const i=t>=e[de],r=t>=400,o=n>=35,s=r&&o&&i,a=.5*t+80,l=.5*t,u=a>l,c=.5+80/t,d=c>.7;return(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"6px",backgroundColor:s?"#d4edda":"#f8d7da",borderRadius:"4px",border:"1px solid ".concat(s?"#c3e6cb":"#f5c6cb")},children:[(0,lr.jsx)("div",{style:{fontSize:"0.9em",fontWeight:"bold",color:s?"#155724":"#721c24",marginBottom:"4px"},children:s?"\u2705 Coach House Eligible":"\u274c Coach House Not Eligible"}),(0,lr.jsxs)("div",{style:{fontSize:"0.8em",color:s?"#155724":"#721c24"},children:[(0,lr.jsxs)("div",{children:["Site Area: ",t.toFixed(0),"m\xb2 ",r?"\u2705":"\u274c"," (need ",400,"m\xb2)"]}),(0,lr.jsxs)("div",{children:["Lot Depth: ",n.toFixed(1),"m ",o?"\u2705":"\u274c"," (need ",35,"m)"]}),(0,lr.jsxs)("div",{children:["Main Units: ",i?"\u2705":"\u274c"," (need ",e[de],"m\xb2 for ",de," units)"]}),(u||d)&&(0,lr.jsxs)("div",{style:{marginTop:"4px",padding:"4px",backgroundColor:"#fff3cd",borderRadius:"3px",border:"1px solid #ffeaa7"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.8em",color:"#856404",fontWeight:"bold"},children:"\u26a0\ufe0f Potential Issues:"}),u&&(0,lr.jsxs)("div",{style:{fontSize:"0.75em",color:"#856404"},children:["\u2022 Coverage: ",a.toFixed(0),"m\xb2 vs ",l.toFixed(0),"m\xb2 limit"]}),d&&(0,lr.jsxs)("div",{style:{fontSize:"0.75em",color:"#856404"},children:["\u2022 FAR: ",c.toFixed(2)," vs 0.7 limit"]})]})]})]})})()]})]})]}),(0,lr.jsxs)("div",{style:{marginBottom:16},children:[(()=>{const t=(null===te||void 0===te?void 0:te.site_area)||0;let n=Rt.lotDepth;if(0===n&&null!==te&&void 0!==te&&te.parcel_geometry){const e=te.parcel_geometry;if("Polygon"===e.type&&e.coordinates&&e.coordinates[0]){const t=e.coordinates[0];if(t.length>=4){const e=t.map(e=>e[1]),i=Math.max(...e)-Math.min(...e);n=Math.abs(111e3*i)}}}0===n&&(n=Math.sqrt(t));const i=t>=e[de],r=t>=300&&n>=25&&i||t>=400&&n>=35&&i;return(0,lr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,lr.jsx)("input",{type:"checkbox",checked:be,onChange:e=>ke(e.target.checked),disabled:!r}),(0,lr.jsxs)("strong",{style:{color:r?"inherit":"#999"},children:["Include Accessory Building ",!r&&"(Not eligible)"]})]})})(),be&&(0,lr.jsxs)("div",{style:{marginTop:"8px",marginLeft:"20px"},children:[(0,lr.jsxs)("label",{htmlFor:"accessory-type",children:[(0,lr.jsx)("strong",{children:"Accessory Building Type:"})," "]}),(0,lr.jsxs)("select",{id:"accessory-type",value:we,onChange:e=>Se(e.target.value),children:[(0,lr.jsx)("option",{value:"garage",children:"Garage"}),(0,lr.jsx)("option",{value:"coach_house",children:"Coach House"}),(0,lr.jsx)("option",{value:"storage",children:"Storage Shed"}),(0,lr.jsx)("option",{value:"workshop",children:"Workshop"}),(0,lr.jsx)("option",{value:"garden_shed",children:"Garden Shed"})]}),(0,lr.jsxs)("label",{htmlFor:"accessory-position",style:{marginLeft:"16px"},children:[(0,lr.jsx)("strong",{children:"Position:"})," "]}),(0,lr.jsxs)("select",{id:"accessory-position",value:Ee,onChange:e=>Ne(e.target.value),children:[(0,lr.jsx)("option",{value:"rear",children:"Rear of Property"}),(0,lr.jsx)("option",{value:"side",children:"Side of Property"}),(0,lr.jsx)("option",{value:"corner",children:"Corner Position"})]}),(0,lr.jsx)("div",{style:{fontSize:"0.9em",color:"#666",marginTop:"4px"},children:"Accessory building height: 4.5m max (1.5 storeys)"}),be&&(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#e8f5e8",borderRadius:"4px",border:"1px solid #c3e6cb"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.9em",fontWeight:"bold",color:"#155724",marginBottom:"4px"},children:"\ud83c\udfd7\ufe0f Accessory Building Requirements:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"16px",fontSize:"0.85em",color:"#155724"},children:[(0,lr.jsxs)("li",{children:["Minimum site area: ","coach_house"===we?"400m\xb2":"300m\xb2"," (for accessory building + main units)"]}),(0,lr.jsxs)("li",{children:["Minimum lot depth: ","coach_house"===we?"35m":"25m"]}),(0,lr.jsxs)("li",{children:["Building separation: ","coach_house"===we?"2.4m":"1.2m"," from main buildings"]}),(0,lr.jsxs)("li",{children:["Maximum height: ","coach_house"===we?"8.5m (2 storeys)":"4.5m (1.5 storeys)"]}),(0,lr.jsx)("li",{children:"Coverage: Counts toward 50% site coverage limit"}),(0,lr.jsx)("li",{children:"FAR: Contributes to 0.7 FAR limit"})]}),(()=>{const t=(null===te||void 0===te?void 0:te.site_area)||0;let n=Rt.lotDepth;if(0===n&&null!==te&&void 0!==te&&te.parcel_geometry){const e=te.parcel_geometry;if("Polygon"===e.type&&e.coordinates&&e.coordinates[0]){const t=e.coordinates[0];if(t.length>=4){const e=t.map(e=>e[1]),i=Math.max(...e)-Math.min(...e);n=Math.abs(111e3*i)}}}0===n&&(n=Math.sqrt(t));const i="coach_house"===we,r=i?400:300,o=i?35:25,s=t>=e[de],a=t>=r,l=n>=o,u=a&&l&&s,c=i?80:40,d=.5*t+c,h=.5*t,f=d>h,p=.5+c/t,g=p>.7;return(0,lr.jsxs)("div",{style:{marginTop:"8px",padding:"6px",backgroundColor:u?"#d4edda":"#f8d7da",borderRadius:"4px",border:"1px solid ".concat(u?"#c3e6cb":"#f5c6cb")},children:[(0,lr.jsx)("div",{style:{fontSize:"0.9em",fontWeight:"bold",color:u?"#155724":"#721c24",marginBottom:"4px"},children:u?"\u2705 Accessory Building Eligible":"\u274c Accessory Building Not Eligible"}),(0,lr.jsxs)("div",{style:{fontSize:"0.8em",color:u?"#155724":"#721c24"},children:[(0,lr.jsxs)("div",{children:["Site Area: ",t.toFixed(0),"m\xb2 ",a?"\u2705":"\u274c"," (need ",r,"m\xb2)"]}),(0,lr.jsxs)("div",{children:["Lot Depth: ",n.toFixed(1),"m ",l?"\u2705":"\u274c"," (need ",o,"m)"]}),(0,lr.jsxs)("div",{children:["Main Units: ",s?"\u2705":"\u274c"," (need ",e[de],"m\xb2 for ",de," units)"]}),i&&(0,lr.jsx)("div",{style:{fontSize:"0.75em",fontStyle:"italic"},children:"Coach house requirements apply"}),(f||g)&&(0,lr.jsxs)("div",{style:{marginTop:"4px",padding:"4px",backgroundColor:"#fff3cd",borderRadius:"3px",border:"1px solid #ffeaa7"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.8em",color:"#856404",fontWeight:"bold"},children:"\u26a0\ufe0f Potential Issues:"}),f&&(0,lr.jsxs)("div",{style:{fontSize:"0.75em",color:"#856404"},children:["\u2022 Coverage: ",d.toFixed(0),"m\xb2 vs ",h.toFixed(0),"m\xb2 limit"]}),g&&(0,lr.jsxs)("div",{style:{fontSize:"0.75em",color:"#856404"},children:["\u2022 FAR: ",p.toFixed(2)," vs 0.7 limit"]})]})]})]})})()]})]})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",t?t.toLocaleString():"N/A"," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lot Depth:"})," ",n.toFixed(1),"m ",n>=33.5?"(Courtyard eligible)":"(Courtyard not eligible)"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsxs)("strong",{children:["Minimum required for ",de," units:"]})," ",e[de]," m\xb2"]}),t<e[de]?(0,lr.jsxs)("div",{style:{color:"red",fontWeight:"bold"},children:["Not eligible for ",de," units. Increase site area or select fewer units."]}):(0,lr.jsxs)("div",{style:{color:"green",fontWeight:"bold"},children:["\u2705 Eligible for ",de," units."]}),(()=>{const i=t>=e[de],r=t>=400,o=n>=35,s=r&&o&&i;return(0,lr.jsxs)("div",{style:{marginTop:"8px"},children:[(0,lr.jsx)("p",{children:(0,lr.jsx)("strong",{children:"Coach House Eligibility:"})}),s?(0,lr.jsx)("div",{style:{color:"green",fontWeight:"bold"},children:"\u2705 Eligible for coach house (400m\xb2 min, 35m depth min)"}):(0,lr.jsxs)("div",{style:{color:"red",fontWeight:"bold"},children:["\u274c Not eligible for coach house",!r&&" (need ".concat(400,"m\xb2)"),!o&&" (need ".concat(35,"m depth)"),!i&&" (main units not eligible)"]})]})})(),(()=>{const i=t>=e[de],r=t>=300,o=n>=25,s=r&&o&&i;return(0,lr.jsxs)("div",{style:{marginTop:"8px"},children:[(0,lr.jsx)("p",{children:(0,lr.jsx)("strong",{children:"Accessory Building Eligibility:"})}),s?(0,lr.jsx)("div",{style:{color:"green",fontWeight:"bold"},children:"\u2705 Eligible for accessory building (300m\xb2 min, 25m depth min)"}):(0,lr.jsxs)("div",{style:{color:"red",fontWeight:"bold"},children:["\u274c Not eligible for accessory building",!r&&" (need ".concat(300,"m\xb2)"),!o&&" (need ".concat(25,"m depth)"),!i&&" (main units not eligible)"]})]})})(),t>=e[de]&&(0,lr.jsx)("div",{style:{marginTop:"12px",padding:"8px",backgroundColor:"#e3f2fd",borderRadius:"4px",border:"1px solid #bbdefb"},children:(0,lr.jsxs)("p",{style:{margin:"0",fontSize:"0.9em",color:"#1976d2"},children:["\ud83c\udfe2 ",(0,lr.jsx)("strong",{children:"Building Units Preview:"}),' Check the "3D Model Generation" tab to see real-time updates for ',de," units with ",ge.replace("_"," ")," layout.",me&&" Includes coach house (".concat(xe," position)."),be&&" Includes ".concat(we," (").concat(Ee," position).")]})})]}),(0,lr.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"16px"},children:"Layout Details:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px",fontSize:"14px"},children:[(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Standard Row:"})," Units in a single row with 2.4m separation"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Courtyard:"})," 2x2 or 2x3 grid with central courtyard (requires 33.5m+ depth)"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"L-Shaped:"})," Units arranged in L-shape around corner"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"U-Shaped:"})," Units arranged in U-shape with central space"]}),me&&(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Coach House:"})," Additional unit at ",xe," position (8.5m max height)"]}),be&&(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Accessory Building:"})," ",we.replace("_"," ")," at ",Ee," position (4.5m max height)"]})]})]}),H.multiple_dwelling_conditions&&H.multiple_dwelling_conditions["".concat(de,"_units")]&&(0,lr.jsxs)("div",{className:"dwelling-card",children:[(0,lr.jsx)("h4",{children:2===de?"Duplex":"".concat(de," Units")}),(0,lr.jsx)("ul",{children:Object.entries(H.multiple_dwelling_conditions["".concat(de,"_units")]).map(e=>{let[t,n]=e;return(0,lr.jsxs)("li",{children:[(0,lr.jsxs)("strong",{children:[t.replace("_"," "),":"]})," ",n]},t)})})]})]})})(),"coverage"===W&&(()=>{var e,t,n,i,r,o,s;const a=(null===te||void 0===te?void 0:te.site_area)||0,l=(null===te||void 0===te?void 0:te.setbacks)||{},c=Le.front||l.front||0,d=Le.side||l.side||0,h=Le.rear||l.rear||0;let f=0;f="building_footprint_analysis_with_compliance_check"!==(null===te||void 0===te||null===(e=te.setbacks)||void 0===e?void 0:e.method)||Le.front||Le.side||Le.rear?(c+h)*(2*d):(parseFloat(l.front_calculated)||0)+(parseFloat(l.side_calculated)||0)+(parseFloat(l.rear_calculated)||0);const p=(null===te||void 0===te?void 0:te.lot_type)||"standard",g=(null===te||void 0===te?void 0:te.enclosure_status)||"";let v=0,m=[];"corner"===p?(m.push("Corner lot - Director may increase maximum building depth (Section 3.1.2.12)"),m.push("Corner lot - parking exclusions may apply when rear property line adjoins R district side yard"),m.push("\u26a0\ufe0f Requires individual site assessment and Director approval"),v=0):"enclosed between two buildings"===g?(m.push("Enclosed between two buildings - reduced side setbacks may apply"),m.push("\u26a0\ufe0f Requires individual site assessment"),v=0):"standard"===p&&(m.push("Standard lot - standard setback requirements apply"),m.push("Standard lot - maximum building depth: 19.8m (courtyard config: 33.5m depth)"));const y=Object.values(Ce.lane_dedication).reduce((e,t)=>e+(parseFloat(t)||0),0),x=Object.values(Ce.street_widening).reduce((e,t)=>e+(parseFloat(t)||0),0),_=Object.values(Ce.statutory_right_of_way).reduce((e,t)=>e+(parseFloat(t)||0),0),b=y+x+_,k=parseFloat(je.required_area)||0,w=f+b+k,S=Math.max(0,a-w),E=a*(Re/100),N=Math.min(S,E),C=a>0?N/a*100:0,I=S>E;return(0,lr.jsxs)("div",{className:"site-coverage",children:[(0,lr.jsx)("h3",{children:"Site Coverage Calculator"}),(0,lr.jsxs)("div",{className:"site-info",style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,lr.jsx)("h4",{children:"Site Information"}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Total Site Area:"})," ",a.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Available Building Area:"})," ",N.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Coverage Percentage:"})," ",C.toFixed(1),"%"]}),I&&(0,lr.jsx)("p",{style:{color:"#721c24",fontWeight:"bold"},children:"\u26a0\ufe0f Limited by 50% maximum site coverage (Section 3.2.2.7)"}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Maximum Allowed Building Area:"})," ",E.toLocaleString()," m\xb2 (",Re,"% of site)"]}),(0,lr.jsxs)("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#f0f8ff",borderRadius:"4px",fontSize:"0.9em"},children:[(0,lr.jsx)("strong",{children:"Real-time Calculation Values:"}),(0,lr.jsxs)("ul",{style:{margin:"5px 0 0 20px"},children:[(0,lr.jsxs)("li",{children:["Setbacks: Front ",c,"m, Side ",d,"m, Rear ",h,"m"]}),(0,lr.jsxs)("li",{children:["Total Setback Area: ",f.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("li",{children:["Total Dedication Area: ",b.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("li",{children:["Outdoor Space Required: ",k.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("li",{children:["Setback-Based Building Area: ",S.toLocaleString()," m\xb2"]})]})]}),(null===te||void 0===te?void 0:te.lot_type)&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lot Type:"})," ",te.lot_type]}),(null===te||void 0===te?void 0:te.enclosure_status)&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Enclosure Status:"})," ",te.enclosure_status]}),m.length>0&&(0,lr.jsxs)("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#fff3cd",borderRadius:"4px"},children:[(0,lr.jsx)("strong",{children:"Lot Type Considerations:"}),(0,lr.jsx)("ul",{style:{margin:"5px 0 0 20px"},children:m.map((e,t)=>(0,lr.jsx)("li",{children:e},t))})]}),(0,lr.jsxs)("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#e3f2fd",borderRadius:"4px"},children:[(0,lr.jsx)("strong",{children:"Building Separation Requirements (Section 3.1.2.13):"}),(0,lr.jsxs)("ul",{style:{margin:"5px 0 0 20px"},children:[(0,lr.jsx)("li",{children:"Minimum separation between buildings: 2.4m"}),(0,lr.jsx)("li",{children:"Separation between buildings on site frontage and rear buildings: 6.1m"}),(0,lr.jsx)("li",{children:"Separation between rear buildings: 2.4m"}),(0,lr.jsx)("li",{children:"Measured from closest portion of exterior walls"})]})]})]}),(0,lr.jsxs)("div",{className:"coverage-inputs",style:{marginBottom:"20px"},children:[(0,lr.jsx)("h4",{children:"Outdoor Space Requirements"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"Required Outdoor Area (m\xb2):"}),(0,lr.jsx)("input",{type:"number",value:je.required_area,onChange:e=>Te(u(u({},je),{},{required_area:e.target.value})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"Minimum Width (m):"}),(0,lr.jsx)("input",{type:"number",value:je.minimum_width,onChange:e=>Te(u(u({},je),{},{minimum_width:e.target.value})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"Minimum Depth (m):"}),(0,lr.jsx)("input",{type:"number",value:je.minimum_depth,onChange:e=>Te(u(u({},je),{},{minimum_depth:e.target.value})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"Additional Requirements:"}),(0,lr.jsx)("input",{type:"text",value:je.additional_requirements,onChange:e=>Te(u(u({},je),{},{additional_requirements:e.target.value})),placeholder:"e.g., 50% must be at grade",style:{width:"100%",marginTop:"4px"}})]})]})]}),(0,lr.jsxs)("div",{className:"coverage-breakdown",style:{marginBottom:"20px"},children:[(0,lr.jsx)("h4",{children:"Area Breakdown"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,lr.jsxs)("div",{style:{padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[(0,lr.jsx)("h5",{children:"Setbacks & Building Separation"}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Front:"})," ",c,"m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Side:"})," ",d,"m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Rear:"})," ",h,"m"]}),l.front_calculated&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Front Area:"})," ",parseFloat(l.front_calculated).toLocaleString()," m\xb2"]}),l.side_calculated&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Side Area:"})," ",parseFloat(l.side_calculated).toLocaleString()," m\xb2"]}),l.rear_calculated&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Rear Area:"})," ",parseFloat(l.rear_calculated).toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Total Setback Area:"})," ",f.toLocaleString()," m\xb2"]}),(0,lr.jsx)("hr",{style:{margin:"8px 0"}}),(0,lr.jsx)("p",{children:(0,lr.jsx)("strong",{children:"Building Separation (Section 3.1.2.13):"})}),(0,lr.jsx)("p",{children:"\u2022 Between buildings on site frontage: 2.4m"}),(0,lr.jsx)("p",{children:"\u2022 Between rear buildings: 2.4m"}),(0,lr.jsx)("p",{children:"\u2022 Between frontage and rear buildings: 6.1m"})]}),(0,lr.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f3e5f5",borderRadius:"5px"},children:[(0,lr.jsx)("h5",{children:"Dedications"}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lane:"})," ",y.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Street Widening:"})," ",x.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Right of Way:"})," ",_.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Total Dedication Area:"})," ",b.toLocaleString()," m\xb2"]})]}),(0,lr.jsxs)("div",{style:{padding:"10px",backgroundColor:"#e8f5e8",borderRadius:"5px"},children:[(0,lr.jsx)("h5",{children:"Outdoor Space"}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Required Area:"})," ",k.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Minimum Width:"})," ",je.minimum_width||"0","m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Minimum Depth:"})," ",je.minimum_depth||"0","m"]})]}),(0,lr.jsxs)("div",{style:{padding:"10px",backgroundColor:"#fff3e0",borderRadius:"5px"},children:[(0,lr.jsx)("h5",{children:"Building Area"}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Available Area:"})," ",N.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Coverage %:"})," ",C.toFixed(1),"%"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Max FAR:"})," ",(null===H||void 0===H||null===(t=H.zoning_building_metrics)||void 0===t?void 0:t.FAR)||"N/A"]})]})]})]}),H.site_coverage&&(0,lr.jsxs)("div",{className:"zoning-requirements",children:[(0,lr.jsx)("h4",{children:"Zoning Coverage Requirements"}),(0,lr.jsx)("div",{className:"coverage-grid",children:Object.entries(H.site_coverage).map(e=>{let[t,n]=e;return(0,lr.jsxs)("div",{className:"coverage-card",children:[(0,lr.jsx)("h5",{children:t.replace("_"," ").toUpperCase()}),(0,lr.jsx)("p",{children:n})]},t)})})]}),(0,lr.jsxs)("div",{className:"compliance-check",style:{marginTop:"20px",padding:"15px",backgroundColor:C<=Re?"#d4edda":"#f8d7da",borderRadius:"8px"},children:[(0,lr.jsx)("h4",{children:"Compliance Status"}),C<=Re?(0,lr.jsxs)("p",{style:{color:"#155724",fontWeight:"bold"},children:["\u2705 Coverage within zoning limits (",C.toFixed(1),"% <= ",Re,"%)"]}):(0,lr.jsxs)("p",{style:{color:"#721c24",fontWeight:"bold"},children:["\u274c Coverage exceeds zoning limit (",C.toFixed(1),"% > ",Re,"%)"]}),(0,lr.jsx)("p",{style:{fontSize:"0.9em",marginTop:"8px"},children:(0,lr.jsx)("strong",{children:"Zoning Requirements:"})}),(0,lr.jsxs)("ul",{style:{fontSize:"0.9em",margin:"5px 0 0 20px"},children:[(0,lr.jsxs)("li",{children:["Maximum ",Re,"% site coverage for all buildings (Section 3.2.2.7)"]}),(0,lr.jsx)("li",{children:"Maximum 75% impermeable materials (Section 3.2.2.8)"})]})]}),te&&(0,lr.jsxs)("div",{className:"model-data-preview",style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,lr.jsx)("h4",{children:"3D Model Data Points"}),(0,lr.jsx)("p",{style:{fontSize:"0.9em",color:"#666",marginBottom:"15px"},children:"These data points will be sent to the ML model for 3D building generation:"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",fontSize:"0.85em"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Site Information:"}),(0,lr.jsxs)("ul",{style:{margin:"5px 0 0 20px"},children:[(0,lr.jsxs)("li",{children:["Area: ",a.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("li",{children:["District: ",V]}),(0,lr.jsxs)("li",{children:["Lot Type: ",te.lot_type||"standard"]})]})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Building Constraints:"}),(0,lr.jsxs)("ul",{style:{margin:"5px 0 0 20px"},children:[(0,lr.jsxs)("li",{children:["Max Height: ",(null===H||void 0===H?void 0:H.max_height)||11.5,"m"]}),(0,lr.jsxs)("li",{children:["Max FSR: ",(null===H||void 0===H?void 0:H.FAR)||.7]}),(0,lr.jsxs)("li",{children:["Max Coverage: ",Re,"%"]}),(0,lr.jsxs)("li",{children:["Available Area: ",N.toLocaleString()," m\xb2"]})]})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Setbacks:"}),(0,lr.jsxs)("ul",{style:{margin:"5px 0 0 20px"},children:[(0,lr.jsxs)("li",{children:["Front: ",c,"m"]}),(0,lr.jsxs)("li",{children:["Side: ",d,"m"]}),(0,lr.jsxs)("li",{children:["Rear: ",h,"m"]})]})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("strong",{children:"Multiple Dwelling:"}),(0,lr.jsxs)("ul",{style:{margin:"5px 0 0 20px"},children:[(0,lr.jsxs)("li",{children:["Units: ",de]}),(0,lr.jsxs)("li",{children:["Outdoor Space: ",k.toLocaleString()," m\xb2"]})]})]})]}),(0,lr.jsx)("button",{onClick:()=>{const e=Dt();console.log("Complete 3D Model Data:",e),alert("Complete data logged to console. Press F12 to view.")},style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.9em"},children:"View Complete Data (Console)"})]}),Object.keys(ze).length>0&&(0,lr.jsxs)("div",{className:"generated-prompts-section",style:{marginTop:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h4",{style:{marginBottom:"15px",color:"#495057"},children:"Generated 3D Model Prompts"}),(0,lr.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:Object.entries(ze).map(e=>{let[t,n]=e;return(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #ced4da",maxHeight:"400px",overflow:"auto"},children:[(0,lr.jsxs)("h5",{style:{marginBottom:"10px",color:"#007bff",textTransform:"capitalize",fontSize:"1.1em"},children:[t.replace("_"," ")," Configuration"]}),(0,lr.jsx)("div",{style:{fontSize:"0.9em",lineHeight:"1.5",color:"#495057",whiteSpace:"pre-wrap",fontFamily:"monospace"},children:n})]},t)})})]}),Ue&&(0,lr.jsxs)("div",{className:"model-result-section",style:{marginTop:"20px",padding:"15px",backgroundColor:"#e8f5e8",borderRadius:"8px",border:"1px solid #28a745"},children:[(0,lr.jsx)("h4",{style:{marginBottom:"10px",color:"#155724"},children:"3D Model Generation Result"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("h5",{style:{color:"#155724",marginBottom:"8px"},children:"Model Information"}),(0,lr.jsxs)("ul",{style:{fontSize:"0.9em",margin:0,paddingLeft:"20px"},children:[(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Model ID:"})," ",null===(n=Ue.metadata)||void 0===n?void 0:n.model_id]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Prompt Type:"})," ",null===(i=Ue.metadata)||void 0===i?void 0:i.prompt_type]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Generated:"})," ",new Date(null===(r=Ue.metadata)||void 0===r?void 0:r.generated_at).toLocaleString()]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"File Format:"})," ",null===(o=Ue.metadata)||void 0===o?void 0:o.file_format]})]})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("h5",{style:{color:"#155724",marginBottom:"8px"},children:"Available Prompts"}),(0,lr.jsx)("div",{style:{fontSize:"0.9em"},children:null===(s=Ue.available_prompts)||void 0===s?void 0:s.map(e=>(0,lr.jsx)("span",{style:{display:"inline-block",margin:"2px",padding:"4px 8px",backgroundColor:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.8em"},children:e.replace("_"," ")},e))}),Ue.model_url&&(0,lr.jsx)("div",{style:{marginTop:"10px"},children:(0,lr.jsx)("a",{href:Ue.model_url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"8px 16px",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px",fontSize:"0.9em"},children:"\ud83d\udce5 Download 3D Model (OBJ)"})})]})]})]})]})})(),"character"===W&&(()=>{var e,t,n,i,r,o;return(0,lr.jsxs)("div",{className:"character-house-provisions",children:[(0,lr.jsx)("h3",{children:"Heritage House Provisions"}),te&&(0,lr.jsxs)("div",{className:"heritage-status",children:[(0,lr.jsx)("h4",{children:"Heritage Designation Status"}),console.log("Heritage Site Tab - selectedAddressData:",te),console.log("Heritage Site Tab - heritage_designation:",null===te||void 0===te?void 0:te.heritage_designation),console.log("Heritage Site Tab - api_response:",null===te||void 0===te||null===(e=te.api_response)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.heritage_designation),null!==te&&void 0!==te&&null!==(n=te.heritage_designation)&&void 0!==n&&n.is_heritage_designated||null!==te&&void 0!==te&&null!==(i=te.api_response)&&void 0!==i&&null!==(r=i.properties)&&void 0!==r&&null!==(o=r.heritage_designation)&&void 0!==o&&o.is_heritage_designated?(0,lr.jsx)("div",{style:{color:"#dc3545",fontWeight:"bold"},children:"\u26a0\ufe0f This property is heritage designated"}):(0,lr.jsx)("div",{style:{color:"#28a745",fontWeight:"bold"},children:"\u2705 This property is not heritage designated"}),te.heritage_designation&&te.heritage_designation.is_heritage_designated&&(0,lr.jsxs)("div",{className:"heritage-details",children:[(0,lr.jsx)("h5",{children:"Heritage Designation Details"}),(0,lr.jsxs)("ul",{children:[(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Building Name:"})," ",te.heritage_designation.building_name||"N/A"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Category:"})," ",te.heritage_designation.category]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Evaluation Group:"})," ",te.heritage_designation.evaluation_group]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Municipal Designation:"})," ",te.heritage_designation.municipal_designation?"Yes":"No"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Status:"})," ",te.heritage_designation.status]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Local Area:"})," ",te.heritage_designation.local_area]})]})]}),te.heritage_data&&te.heritage_data.nearby_heritage_sites&&te.heritage_data.nearby_heritage_sites.length>0&&(0,lr.jsxs)("div",{className:"heritage-details",children:[(0,lr.jsx)("h5",{children:"Nearby Heritage Sites"}),(0,lr.jsx)("ul",{children:te.heritage_data.nearby_heritage_sites.map((e,t)=>(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:e.name})," (",e.category,") - ",e.distance,"m away",e.status&&(0,lr.jsxs)("span",{children:[" - Status: ",e.status]})]},t))})]})]}),H.character_house_provisions&&(0,lr.jsxs)("div",{className:"provisions-section",children:[(0,lr.jsx)("h4",{children:"Character House Provisions"}),(0,lr.jsx)("div",{className:"character-grid",children:Object.entries(H.character_house_provisions).map(e=>{let[t,n]=e;return(0,lr.jsxs)("div",{className:"character-card",children:[(0,lr.jsx)("h5",{children:t.replace("_"," ").toUpperCase()}),(0,lr.jsx)("p",{children:"boolean"===typeof n?n?"Yes":"No":n})]},t)})})]}),!te&&(0,lr.jsx)("div",{style:{color:"#888"},children:"Select an address to view heritage house provisions."})]})})(),"dedications"===W&&(()=>{var e,t,n;return(0,lr.jsxs)("div",{className:"dedication-requirements",children:[(0,lr.jsx)("h3",{children:"Dedication Requirements"}),(null===te||void 0===te||null===(e=te.api_response)||void 0===e||null===(t=e.properties)||void 0===t||null===(n=t.heritage_data)||void 0===n?void 0:n.infrastructure)&&(0,lr.jsxs)("div",{className:"infrastructure-data-section",children:[(0,lr.jsx)("h4",{children:"\ud83c\udfd7\ufe0f Infrastructure Analysis from Vancouver Open Data"}),te.api_response.properties.heritage_data.development_implications&&(0,lr.jsxs)("div",{className:"development-implications",children:[(0,lr.jsx)("h5",{children:"Development Implications:"}),(0,lr.jsx)("ul",{style:{backgroundColor:"#f0f8ff",padding:"12px",borderRadius:"4px",margin:"10px 0"},children:te.api_response.properties.heritage_data.development_implications.map((e,t)=>(0,lr.jsx)("li",{style:{marginBottom:"4px"},children:e},t))})]}),(0,lr.jsxs)("div",{className:"infrastructure-details",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[te.api_response.properties.heritage_data.infrastructure.right_of_way_widths&&(0,lr.jsxs)("div",{className:"infrastructure-card",style:{border:"1px solid #ddd",padding:"12px",borderRadius:"4px"},children:[(0,lr.jsxs)("h5",{children:["\ud83d\udccf Right-of-way Widths (",te.api_response.properties.heritage_data.infrastructure.right_of_way_widths.count," found)"]}),te.api_response.properties.heritage_data.infrastructure.right_of_way_widths.features&&te.api_response.properties.heritage_data.infrastructure.right_of_way_widths.features.slice(0,3).map((e,t)=>(0,lr.jsxs)("div",{style:{marginBottom:"8px",fontSize:"0.9em"},children:[(0,lr.jsx)("strong",{children:"Width:"})," ",e.width_meters||"N/A"," meters",e.street_name&&"Unknown"!==e.street_name&&(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Street:"})," ",e.street_name]})]},t))]}),te.api_response.properties.heritage_data.infrastructure.water_mains&&(0,lr.jsxs)("div",{className:"infrastructure-card",style:{border:"1px solid #ddd",padding:"12px",borderRadius:"4px"},children:[(0,lr.jsxs)("h5",{children:["\ud83d\udeb0 Water Distribution Mains (",te.api_response.properties.heritage_data.infrastructure.water_mains.count," found)"]}),te.api_response.properties.heritage_data.infrastructure.water_mains.features&&te.api_response.properties.heritage_data.infrastructure.water_mains.features.slice(0,2).map((e,t)=>(0,lr.jsxs)("div",{style:{marginBottom:"8px",fontSize:"0.9em"},children:[(0,lr.jsx)("strong",{children:"Diameter:"})," ",e.diameter_mm,"mm",(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Material:"})," ",e.material,(0,lr.jsx)("br",{}),(0,lr.jsx)("strong",{children:"Installed:"})," ",e.installation_date]},t))]}),te.api_response.properties.heritage_data.infrastructure.traffic_signals&&te.api_response.properties.heritage_data.infrastructure.traffic_signals.count>0&&(0,lr.jsxs)("div",{className:"infrastructure-card",style:{border:"1px solid #ddd",padding:"12px",borderRadius:"4px"},children:[(0,lr.jsxs)("h5",{children:["\ud83d\udea6 Traffic Signals (",te.api_response.properties.heritage_data.infrastructure.traffic_signals.count," found)"]}),(0,lr.jsx)("div",{style:{fontSize:"0.9em",color:"#666"},children:"Traffic signals nearby - consider traffic impact in development planning"})]}),te.api_response.properties.heritage_data.infrastructure.bikeways&&te.api_response.properties.heritage_data.infrastructure.bikeways.count>0&&(0,lr.jsxs)("div",{className:"infrastructure-card",style:{border:"1px solid #ddd",padding:"12px",borderRadius:"4px"},children:[(0,lr.jsxs)("h5",{children:["\ud83d\udeb4 Bike Infrastructure (",te.api_response.properties.heritage_data.infrastructure.bikeways.count," found)"]}),(0,lr.jsx)("div",{style:{fontSize:"0.9em",color:"#666"},children:"Bike routes nearby - consider cycling access in design"})]})]}),(0,lr.jsx)("hr",{style:{margin:"20px 0",borderColor:"#ddd"}})]}),(0,lr.jsx)("h4",{children:"Manual Dedication Requirements"}),(0,lr.jsxs)("div",{className:"dedication-grid",children:[(0,lr.jsxs)("div",{className:"dedication-card",children:[(0,lr.jsx)("h4",{children:"Lane Dedication"}),(0,lr.jsxs)("div",{className:"dedication-input",children:[(0,lr.jsx)("label",{children:"Direction:"}),(0,lr.jsxs)("select",{value:$.lane_dedication||"",onChange:e=>Z(u(u({},$),{},{lane_dedication:e.target.value})),children:[(0,lr.jsx)("option",{value:"",children:"None"}),(0,lr.jsx)("option",{value:"N",children:"North"}),(0,lr.jsx)("option",{value:"S",children:"South"}),(0,lr.jsx)("option",{value:"E",children:"East"}),(0,lr.jsx)("option",{value:"W",children:"West"})]})]}),(0,lr.jsxs)("div",{className:"dedication-details",children:[(0,lr.jsx)("label",{children:"Values by Direction:"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"8px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"North:"}),(0,lr.jsx)("input",{type:"number",value:Ce.lane_dedication.N,onChange:e=>Ie(u(u({},Ce),{},{lane_dedication:u(u({},Ce.lane_dedication),{},{N:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"South:"}),(0,lr.jsx)("input",{type:"number",value:Ce.lane_dedication.S,onChange:e=>Ie(u(u({},Ce),{},{lane_dedication:u(u({},Ce.lane_dedication),{},{S:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"East:"}),(0,lr.jsx)("input",{type:"number",value:Ce.lane_dedication.E,onChange:e=>Ie(u(u({},Ce),{},{lane_dedication:u(u({},Ce.lane_dedication),{},{E:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"West:"}),(0,lr.jsx)("input",{type:"number",value:Ce.lane_dedication.W,onChange:e=>Ie(u(u({},Ce),{},{lane_dedication:u(u({},Ce.lane_dedication),{},{W:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]})]})]}),(0,lr.jsxs)("p",{className:"dedication-status",children:["Status: ",null!==D&&void 0!==D&&D.potential_lane_dedication?"Required":"Not Required"]})]}),(0,lr.jsxs)("div",{className:"dedication-card",children:[(0,lr.jsx)("h4",{children:"Street Widening"}),(0,lr.jsxs)("div",{className:"dedication-input",children:[(0,lr.jsx)("label",{children:"Direction:"}),(0,lr.jsxs)("select",{value:$.street_widening||"",onChange:e=>Z(u(u({},$),{},{street_widening:e.target.value})),children:[(0,lr.jsx)("option",{value:"",children:"None"}),(0,lr.jsx)("option",{value:"N",children:"North"}),(0,lr.jsx)("option",{value:"S",children:"South"}),(0,lr.jsx)("option",{value:"E",children:"East"}),(0,lr.jsx)("option",{value:"W",children:"West"})]})]}),(0,lr.jsxs)("div",{className:"dedication-details",children:[(0,lr.jsx)("label",{children:"Values by Direction:"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"8px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"North:"}),(0,lr.jsx)("input",{type:"number",value:Ce.street_widening.N,onChange:e=>Ie(u(u({},Ce),{},{street_widening:u(u({},Ce.street_widening),{},{N:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"South:"}),(0,lr.jsx)("input",{type:"number",value:Ce.street_widening.S,onChange:e=>Ie(u(u({},Ce),{},{street_widening:u(u({},Ce.street_widening),{},{S:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"East:"}),(0,lr.jsx)("input",{type:"number",value:Ce.street_widening.E,onChange:e=>Ie(u(u({},Ce),{},{street_widening:u(u({},Ce.street_widening),{},{E:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"West:"}),(0,lr.jsx)("input",{type:"number",value:Ce.street_widening.W,onChange:e=>Ie(u(u({},Ce),{},{street_widening:u(u({},Ce.street_widening),{},{W:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]})]})]}),(0,lr.jsxs)("p",{className:"dedication-status",children:["Status: ",null!==D&&void 0!==D&&D.potential_street_widening?"Required":"Not Required"]})]}),(0,lr.jsxs)("div",{className:"dedication-card",children:[(0,lr.jsx)("h4",{children:"Statutory Right of Way"}),(0,lr.jsxs)("div",{className:"dedication-input",children:[(0,lr.jsx)("label",{children:"Direction:"}),(0,lr.jsxs)("select",{value:$.statutory_right_of_way||"",onChange:e=>Z(u(u({},$),{},{statutory_right_of_way:e.target.value})),children:[(0,lr.jsx)("option",{value:"",children:"None"}),(0,lr.jsx)("option",{value:"N",children:"North"}),(0,lr.jsx)("option",{value:"S",children:"South"}),(0,lr.jsx)("option",{value:"E",children:"East"}),(0,lr.jsx)("option",{value:"W",children:"West"})]})]}),(0,lr.jsxs)("div",{className:"dedication-details",children:[(0,lr.jsx)("label",{children:"Values by Direction:"}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"8px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"North:"}),(0,lr.jsx)("input",{type:"number",value:Ce.statutory_right_of_way.N,onChange:e=>Ie(u(u({},Ce),{},{statutory_right_of_way:u(u({},Ce.statutory_right_of_way),{},{N:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"South:"}),(0,lr.jsx)("input",{type:"number",value:Ce.statutory_right_of_way.S,onChange:e=>Ie(u(u({},Ce),{},{statutory_right_of_way:u(u({},Ce.statutory_right_of_way),{},{S:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"East:"}),(0,lr.jsx)("input",{type:"number",value:Ce.statutory_right_of_way.E,onChange:e=>Ie(u(u({},Ce),{},{statutory_right_of_way:u(u({},Ce.statutory_right_of_way),{},{E:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("label",{children:"West:"}),(0,lr.jsx)("input",{type:"number",value:Ce.statutory_right_of_way.W,onChange:e=>Ie(u(u({},Ce),{},{statutory_right_of_way:u(u({},Ce.statutory_right_of_way),{},{W:e.target.value})})),placeholder:"0",style:{width:"100%",marginTop:"4px"}})]})]})]}),(0,lr.jsxs)("p",{className:"dedication-status",children:["Status: ",null!==D&&void 0!==D&&D.potential_statutory_right_of_way?"Required":"Not Required"]})]})]})]})})(),"images"===W&&(()=>{var e,t,n;return(0,lr.jsxs)("div",{className:"images-section",children:[(0,lr.jsx)("h3",{children:"Parcel Images"}),te&&null!==(e=te.api_response)&&void 0!==e&&null!==(t=e.properties)&&void 0!==t&&null!==(n=t.visualization)&&void 0!==n&&n.satellite_image?(0,lr.jsxs)("div",{className:"image-container",children:[(0,lr.jsx)("h4",{children:"Satellite Image with Parcel Boundary"}),(0,lr.jsxs)("div",{className:"satellite-image-wrapper",children:[(0,lr.jsx)("img",{src:te.api_response.properties.visualization.satellite_image,alt:"Satellite image with parcel boundary",className:"satellite-image"}),(0,lr.jsxs)("div",{className:"image-caption",children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Address:"})," ",te.full_address]}),te.site_area&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",te.site_area.toLocaleString()," m\xb2"]}),te.current_zoning&&(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Zoning:"})," ",te.current_zoning]})]})]})]}):(0,lr.jsxs)("div",{className:"no-image-message",children:[(0,lr.jsx)("p",{children:"No satellite image available."}),(0,lr.jsx)("p",{children:"Please search for an address in the Search tab to view the parcel image."})]})]})})(),"projects"===W&&(0,lr.jsxs)("div",{className:"projects-section",children:[(0,lr.jsx)("h3",{children:"Saved Projects"}),(0,lr.jsx)("div",{style:{marginBottom:"20px"},children:(0,lr.jsx)("p",{children:"Manage your saved projects, data points, and generated prompts."})}),0===We.length?(0,lr.jsxs)("div",{style:{padding:"30px",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #dee2e6"},children:[(0,lr.jsx)("h4",{style:{color:"#6c757d",marginBottom:"10px"},children:"No saved projects yet"}),(0,lr.jsx)("p",{style:{color:"#6c757d"},children:"Generate a 3D model and save it as a project to see it here."})]}):(0,lr.jsx)("div",{style:{display:"grid",gap:"15px"},children:We.map(e=>{var t,n,i,r,o,s,a,l;return(0,lr.jsxs)("div",{style:{padding:"20px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #dee2e6",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[(0,lr.jsxs)("div",{children:[(0,lr.jsx)("h4",{style:{margin:"0 0 5px 0",color:"#2c3e50"},children:e.name}),(0,lr.jsxs)("p",{style:{margin:"0 0 5px 0",color:"#6c757d",fontSize:"14px"},children:[(0,lr.jsx)("strong",{children:"Address:"})," ",e.address]}),(0,lr.jsxs)("p",{style:{margin:"0 0 5px 0",color:"#6c757d",fontSize:"14px"},children:[(0,lr.jsx)("strong",{children:"Zoning:"})," ",e.zoningDistrict," | ",(0,lr.jsx)("strong",{children:"Units:"})," ",e.selectedUnits]}),(0,lr.jsxs)("p",{style:{margin:"0",color:"#6c757d",fontSize:"12px"},children:["Saved: ",new Date(e.timestamp).toLocaleString()]})]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,lr.jsx)("button",{onClick:()=>(e=>{e.dataPoints&&Ye(e.dataPoints),e.prompts&&Be(e.prompts),e.modelResult&&qe(e.modelResult),e.selectedUnits&&he(e.selectedUnits),e.zoningDistrict&&(G(e.zoningDistrict),"R1-1"===e.zoningDistrict?Oe(50):"RT-7"===e.zoningDistrict||"RT-9"===e.zoningDistrict?Oe(45):Oe(50)),alert('Project "'.concat(e.name,'" loaded successfully!'))})(e),style:{padding:"6px 12px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"\ud83d\udcc2 Load"}),(0,lr.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this project?")){const t=We.filter(t=>t.id!==e);Xe(t),localStorage.setItem("vancouverZoningProjects",JSON.stringify(t))}})(e.id),style:{padding:"6px 12px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"\ud83d\uddd1\ufe0f Delete"})]})]}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",fontSize:"12px"},children:[(0,lr.jsxs)("div",{style:{padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",null===(t=e.dataPoints)||void 0===t||null===(n=t.site_area)||void 0===n?void 0:n.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("div",{style:{padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,lr.jsx)("strong",{children:"Coverage:"})," ",null===(i=e.dataPoints)||void 0===i||null===(r=i.calculated_values)||void 0===r||null===(o=r.coverage_percentage)||void 0===o?void 0:o.toFixed(1),"%"]}),(0,lr.jsxs)("div",{style:{padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,lr.jsx)("strong",{children:"Max Height:"})," ",null===(s=e.dataPoints)||void 0===s||null===(a=s.building_constraints)||void 0===a?void 0:a.max_height," m"]})]}),e.modelResult&&(0,lr.jsx)("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#e8f5e8",borderRadius:"4px"},children:(0,lr.jsxs)("p",{style:{margin:"0",fontSize:"12px",color:"#155724"},children:["\u2705 3D Model generated - ",null===(l=e.modelResult.metadata)||void 0===l?void 0:l.prompt_type," configuration"]})})]},e.id)})})]})]}),Ve&&He&&(0,lr.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,lr.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"30px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",position:"relative"},children:[(0,lr.jsx)("button",{onClick:()=>Ge(!1),style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",fontWeight:"bold"},children:"\xd7"}),(0,lr.jsx)("h2",{style:{marginBottom:"20px",color:"#2c3e50",borderBottom:"3px solid #3498db",paddingBottom:"10px"},children:"\ud83c\udfd7\ufe0f 3D Model Generation Data Points"}),(0,lr.jsx)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#ecf0f1",borderRadius:"8px"},children:(0,lr.jsx)("p",{style:{margin:0,fontSize:"16px",color:"#2c3e50"},children:(0,lr.jsx)("strong",{children:"Review the data points that will be used to generate your 3D model:"})})}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83d\udccd Site Information"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",null===(n=He.site_area)||void 0===n?void 0:n.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Zoning District:"})," ",He.zoning_district]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Available Building Area:"})," ",null===(i=He.building_constraints)||void 0===i||null===(r=i.available_building_area)||void 0===r?void 0:r.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Coverage Percentage:"})," ",null===(o=He.calculated_values)||void 0===o||null===(s=o.coverage_percentage)||void 0===s?void 0:s.toFixed(1),"%"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83d\udccf Setback Requirements"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Front:"})," ",null===(a=He.setbacks)||void 0===a?void 0:a.front," m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Side:"})," ",null===(l=He.setbacks)||void 0===l?void 0:l.side," m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Rear:"})," ",null===(c=He.setbacks)||void 0===c?void 0:c.rear," m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Total Setback Area:"})," ",null===(d=He.setbacks)||void 0===d||null===(h=d.total_area)||void 0===h?void 0:h.toLocaleString()," m\xb2"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83c\udfe2 Building Constraints"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Max Height:"})," ",null===(f=He.building_constraints)||void 0===f?void 0:f.max_height," m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Max FSR:"})," ",null===(p=He.building_constraints)||void 0===p?void 0:p.max_fsr]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Max Coverage:"})," ",null===(g=He.building_constraints)||void 0===g?void 0:g.max_coverage,"%"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Building Depth Increase:"})," ",(null===(v=He.building_constraints)||void 0===v?void 0:v.building_depth_increase)||0," m"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83c\udfd8\ufe0f Multiple Dwelling"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Selected Units:"})," ",null===(m=He.multiple_dwelling)||void 0===m?void 0:m.selected_units]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Min Site Area Required:"})," ",null===(y=He.multiple_dwelling)||void 0===y?void 0:y.min_site_area_required," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Building Separation:"})," 2.4m between buildings"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Frontage to Rear:"})," 6.1m separation"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83c\udfe0 Lot Characteristics"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lot Type:"})," ",null===(x=He.lot_characteristics)||void 0===x?void 0:x.lot_type]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Enclosure Status:"})," ",null===(_=He.lot_characteristics)||void 0===_?void 0:_.enclosure_status]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Corner Lot:"})," ",null!==(b=He.lot_characteristics)&&void 0!==b&&b.is_corner_lot?"Yes":"No"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Heritage Designated:"})," ",null!==(k=He.lot_characteristics)&&void 0!==k&&k.heritage_designated?"Yes":"No"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83d\udccb Dedications"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Lane Dedication:"})," ",Object.values((null===(w=He.dedications)||void 0===w?void 0:w.lane)||{}).reduce((e,t)=>e+(parseFloat(t)||0),0).toFixed(1)," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Street Widening:"})," ",Object.values((null===(S=He.dedications)||void 0===S?void 0:S.street_widening)||{}).reduce((e,t)=>e+(parseFloat(t)||0),0).toFixed(1)," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Total Dedication Area:"})," ",null===(E=He.dedications)||void 0===E||null===(N=E.total_area)||void 0===N?void 0:N.toFixed(1)," m\xb2"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83c\udf33 Outdoor Space"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Required Area:"})," ",null===(C=He.outdoor_space)||void 0===C||null===(I=C.required_area)||void 0===I?void 0:I.toFixed(1)," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Minimum Width:"})," ",null===(j=He.outdoor_space)||void 0===j?void 0:j.minimum_width," m"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Minimum Depth:"})," ",null===(T=He.outdoor_space)||void 0===T?void 0:T.minimum_depth," m"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h3",{style:{color:"#2c3e50",marginBottom:"10px",fontSize:"18px"},children:"\ud83e\uddee Calculated Values"}),(0,lr.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:[(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Setback-Based Building Area:"})," ",null===(R=He.calculated_values)||void 0===R||null===(O=R.setback_based_building_area)||void 0===O?void 0:O.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Max Allowed Building Area:"})," ",null===(L=He.calculated_values)||void 0===L||null===(P=L.max_allowed_building_area)||void 0===P?void 0:P.toLocaleString()," m\xb2"]}),(0,lr.jsxs)("p",{children:[(0,lr.jsx)("strong",{children:"Total Unavailable Area:"})," ",null===(A=He.calculated_values)||void 0===A||null===(M=A.total_unavailable_area)||void 0===M?void 0:M.toLocaleString()," m\xb2"]})]})]})]}),(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"15px",borderTop:"2px solid #ecf0f1",paddingTop:"20px"},children:[(0,lr.jsx)("button",{onClick:()=>Ge(!1),style:{padding:"12px 24px",backgroundColor:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Cancel"}),(0,lr.jsx)("button",{onClick:()=>Ze(!0),style:{padding:"12px 24px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\udcbe Save Project"}),(0,lr.jsx)("button",{onClick:()=>St(!0),style:{padding:"12px 24px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\ude80 Generate 3D Model"})]}),(0,lr.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:"\ud83d\udcca Data Export"}),(0,lr.jsx)("p",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#856404"},children:"This data will be sent to the ML model to generate a compliant 3D building model."}),(0,lr.jsx)("button",{onClick:()=>{const e=JSON.stringify(He,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="3d_model_data_points.json",i.click(),URL.revokeObjectURL(n)},style:{padding:"8px 16px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\ud83d\udce5 Download Data as JSON"})]})]})}),$e&&(0,lr.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001},children:(0,lr.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"90vw",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",position:"relative"},children:[(0,lr.jsx)("button",{onClick:()=>Ze(!1),style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",fontWeight:"bold"},children:"\xd7"}),(0,lr.jsx)("h2",{style:{marginBottom:"20px",color:"#2c3e50",borderBottom:"3px solid #3498db",paddingBottom:"10px"},children:"\ud83d\udcbe Save Project"}),(0,lr.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,lr.jsx)("p",{style:{marginBottom:"15px",color:"#2c3e50"},children:"Save your current data points, generated prompts, and model results as a project."}),(0,lr.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,lr.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#2c3e50"},children:"Project Name:"}),(0,lr.jsx)("input",{type:"text",value:Ke,onChange:e=>Qe(e.target.value),placeholder:"Enter project name...",style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px",boxSizing:"border-box"},onKeyPress:e=>{"Enter"===e.key&&zt()}})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#2c3e50"},children:"What will be saved:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px",color:"#2c3e50"},children:[(0,lr.jsx)("li",{children:"All data points and calculations"}),(0,lr.jsx)("li",{children:"Generated prompts for all building types"}),(0,lr.jsx)("li",{children:"3D model results (if generated)"}),(0,lr.jsx)("li",{children:"Current settings and configurations"}),(0,lr.jsx)("li",{children:"Address and zoning information"})]})]})]}),(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"15px",borderTop:"2px solid #ecf0f1",paddingTop:"20px"},children:[(0,lr.jsx)("button",{onClick:()=>Ze(!1),style:{padding:"12px 24px",backgroundColor:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Cancel"}),(0,lr.jsx)("button",{onClick:zt,style:{padding:"12px 24px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\udcbe Save Project"})]})]})}),wt&&(0,lr.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001},children:(0,lr.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"90vw",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",position:"relative"},children:[(0,lr.jsx)("button",{onClick:()=>St(!1),style:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",fontWeight:"bold"},children:"\xd7"}),(0,lr.jsx)("h2",{style:{marginBottom:"20px",color:"#2c3e50",borderBottom:"3px solid #27ae60",paddingBottom:"10px"},children:"\ud83d\ude80 Generate 3D Model"}),(0,lr.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,lr.jsx)("p",{style:{marginBottom:"15px",color:"#2c3e50"},children:"Are you ready to generate a 3D model based on your current settings?"}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6",marginBottom:"15px"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#2c3e50"},children:"Generation Summary:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px",color:"#2c3e50"},children:[(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Address:"})," ",(null===te||void 0===te?void 0:te.full_address)||"Not selected"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Zoning District:"})," ",V||"Not selected"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Site Area:"})," ",null!==te&&void 0!==te&&te.site_area?"".concat(te.site_area.toLocaleString()," m\xb2"):"Not available"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Building Style:"})," ",it||"Modern"]}),(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Units:"})," ",de||1]}),mt&&(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Lot Shape:"})," Will be generated"]}),xt&&(0,lr.jsxs)("li",{children:[(0,lr.jsx)("strong",{children:"Building:"})," Will be generated"]})]})]}),(0,lr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7",marginBottom:"15px"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:"\u26a0\ufe0f Important Notes:"}),(0,lr.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px",color:"#856404"},children:[(0,lr.jsx)("li",{children:"Generation may take 1-3 minutes depending on model complexity"}),(0,lr.jsx)("li",{children:"Ensure all required data is filled in before proceeding"}),(0,lr.jsx)("li",{children:"The model will be automatically downloaded when complete"})]})]})]}),(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"15px",borderTop:"2px solid #ecf0f1",paddingTop:"20px"},children:[(0,lr.jsx)("button",{onClick:()=>St(!1),style:{padding:"12px 24px",backgroundColor:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Cancel"}),(0,lr.jsx)("button",{onClick:()=>{St(!1),Bt()},style:{padding:"12px 24px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\ude80 Continue with Generating"})]})]})}),bt&&(0,lr.jsx)("div",{className:"data-points-popup",children:(0,lr.jsxs)("div",{className:"popup-content",children:[(0,lr.jsx)("div",{className:"popup-header",children:(0,lr.jsx)("h4",{children:"3D Model Generation"})}),(0,lr.jsx)("div",{className:"data-points-content",style:{textAlign:"center",padding:"40px 20px"},children:(0,lr.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:Et?"#007bff":"#28a745",marginBottom:"15px"},children:Et?"Model is generating...":"Model is ready!"})}),!Et&&(0,lr.jsx)("div",{className:"popup-actions",children:(0,lr.jsx)("button",{className:"proceed-button",onClick:()=>kt(!1),children:"Close"})})]})})]})},Qu=e=>{let{selectedAddressData:n,onImageGenerated:i}=e;const[r,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)([{id:1,type:"ai",content:"Hi! I'm TOAD your Vancouver zoning AI assistant. Ask me about zoning rules, heritage requirements, or building possibilities!",timestamp:(new Date).toISOString()}]),[l,u]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),v=(0,t.useRef)(null);(0,t.useEffect)(()=>{var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[s]);const m=async()=>{if(!l.trim()||c)return;const e={id:Date.now(),type:"user",content:l,timestamp:(new Date).toISOString()};a(t=>[...t,e]),u(""),d(!0);try{var t,i,r,o,s,h,p,v,m,y,x,_,b,k,w,S,E,N,C,I,j,T,R,O,L,P,A,M,D,F,z,B,U,q,V,G,H,Y,W,X,$,Z,K,Q,J,ee,te,ne,ie,re,oe,se;console.log("\ud83d\udd0d AIChat Debug - selectedAddressData:",n),console.log("\ud83d\udd0d AIChat Debug - selectedAddressData.properties:",null===n||void 0===n?void 0:n.properties),console.log("\ud83d\udd0d AIChat Debug - Zoning paths check:"),console.log("  - selectedAddressData.current_zoning:",null===n||void 0===n?void 0:n.current_zoning),console.log("  - selectedAddressData.properties?.current_zoning:",null===n||void 0===n||null===(t=n.properties)||void 0===t?void 0:t.current_zoning),console.log("  - selectedAddressData.zoning_district:",null===n||void 0===n?void 0:n.zoning_district),console.log("  - selectedAddressData.api_response?.properties?.current_zoning:",null===n||void 0===n||null===(i=n.api_response)||void 0===i||null===(r=i.properties)||void 0===r?void 0:r.current_zoning);const e=n?{address:n.civic_address||n.full_address,zoning:{current_zoning:((e,t,i,r,o,s,a,l,u,c,d,h,f)=>{console.log("\ud83d\udd0d Checking zoning paths:"),console.log("  - selectedAddressData.current_zoning:",null===n||void 0===n?void 0:n.current_zoning),console.log("  - selectedAddressData.properties?.current_zoning:",null===n||void 0===n||null===(e=n.properties)||void 0===e?void 0:e.current_zoning),console.log("  - selectedAddressData.properties?.calculated_building_metrics:",null===n||void 0===n||null===(t=n.properties)||void 0===t?void 0:t.calculated_building_metrics),console.log("  - selectedAddressData.properties?.building_metrics:",null===n||void 0===n||null===(i=n.properties)||void 0===i?void 0:i.building_metrics),console.log("  - selectedAddressData.calculated_building_metrics:",null===n||void 0===n?void 0:n.calculated_building_metrics),console.log("  - selectedAddressData.zoning_district:",null===n||void 0===n?void 0:n.zoning_district);const p=n.current_zoning||(null===(r=n.properties)||void 0===r?void 0:r.current_zoning)||(null===(o=n.properties)||void 0===o||null===(s=o.calculated_building_metrics)||void 0===s?void 0:s.zoning_district)||(null===(a=n.properties)||void 0===a||null===(l=a.building_metrics)||void 0===l?void 0:l.zoning_district)||(null===(u=n.calculated_building_metrics)||void 0===u?void 0:u.zoning_district)||n.zoning_district||(null===(c=n.api_response)||void 0===c||null===(d=c.properties)||void 0===d?void 0:d.current_zoning);if(console.log("\ud83c\udfaf Final zoning value found:",p),p&&"Unknown"!==p&&"N/A"!==p&&""!==p&&null!==p)return p;const g=(null===n||void 0===n||null===(h=n.properties)||void 0===h?void 0:h.building_metrics)||(null===n||void 0===n||null===(f=n.properties)||void 0===f?void 0:f.calculated_building_metrics);return null!==g&&void 0!==g&&g.zoning_district?(console.log("\ud83c\udfaf Found zoning in building metrics:",g.zoning_district),g.zoning_district):null})(),site_area:n.site_area||(null===(o=n.properties)||void 0===o?void 0:o.site_area),max_height:n.max_height||(null===(s=n.properties)||void 0===s||null===(h=s.zoning_building_metrics)||void 0===h?void 0:h.max_height)||(null===(p=n.properties)||void 0===p||null===(v=p.calculated_building_metrics)||void 0===v?void 0:v.height_max_allowed)||(null===(m=n.calculated_building_metrics)||void 0===m?void 0:m.height_max_allowed),setbacks:n.setbacks||(null===(y=n.properties)||void 0===y?void 0:y.zoning_setbacks)||(null===(x=n.properties)||void 0===x?void 0:x.setbacks)||(null===(_=n.properties)||void 0===_?void 0:_.calculated_setbacks)||n.calculated_setbacks,FAR:n.FAR||(null===(b=n.properties)||void 0===b||null===(k=b.zoning_building_metrics)||void 0===k?void 0:k.FAR)||(null===(w=n.properties)||void 0===w||null===(S=w.building_metrics)||void 0===S?void 0:S.FAR)||(null===(E=n.properties)||void 0===E||null===(N=E.calculated_building_metrics)||void 0===N?void 0:N.FAR)||(null===(C=n.calculated_building_metrics)||void 0===C?void 0:C.FAR),coverage:n.coverage||(null===(I=n.properties)||void 0===I||null===(j=I.zoning_building_metrics)||void 0===j?void 0:j.coverage)||(null===(T=n.properties)||void 0===T||null===(R=T.building_metrics)||void 0===R?void 0:R.coverage)||(null===(O=n.properties)||void 0===O||null===(L=O.calculated_building_metrics)||void 0===L?void 0:L.coverage)||(null===(P=n.calculated_building_metrics)||void 0===P?void 0:P.coverage),lot_type:n.lot_type||(null===(A=n.properties)||void 0===A?void 0:A.lot_type),ocp_designation:n.ocp_designation||(null===(M=n.properties)||void 0===M?void 0:M.ocp_designation),zoning_conditions:n.zoning_conditions||(null===(D=n.properties)||void 0===D?void 0:D.zoning_conditions),calculated_setbacks:null===(F=n.properties)||void 0===F?void 0:F.setbacks,calculated_building_metrics:null===(z=n.properties)||void 0===z?void 0:z.building_metrics,zoning_setbacks:null===(B=n.properties)||void 0===B?void 0:B.zoning_setbacks,zoning_building_metrics:null===(U=n.properties)||void 0===U?void 0:U.zoning_building_metrics,development_conditions:null===(q=n.properties)||void 0===q?void 0:q.development_conditions,enclosure_status:null===(V=n.properties)||void 0===V?void 0:V.enclosure_status,potential_lane_dedication:null===(G=n.properties)||void 0===G?void 0:G.potential_lane_dedication,potential_street_widening:null===(H=n.properties)||void 0===H?void 0:H.potential_street_widening},heritage:{heritage_designation:n.heritage_designation||(null===(Y=n.properties)||void 0===Y?void 0:Y.heritage_designation),nearby_heritage_sites:(null===(W=n.heritage_data)||void 0===W?void 0:W.nearby_heritage_sites)||(null===(X=n.properties)||void 0===X||null===($=X.heritage_data)||void 0===$?void 0:$.nearby_heritage_sites)||[],is_heritage_designated:(null===(Z=n.heritage_designation)||void 0===Z?void 0:Z.is_heritage_designated)||(null===(K=n.properties)||void 0===K||null===(Q=K.heritage_designation)||void 0===Q?void 0:Q.is_heritage_designated),building_name:(null===(J=n.heritage_designation)||void 0===J?void 0:J.building_name)||(null===(ee=n.properties)||void 0===ee||null===(te=ee.heritage_designation)||void 0===te?void 0:te.building_name),category:(null===(ne=n.heritage_designation)||void 0===ne?void 0:ne.category)||(null===(ie=n.properties)||void 0===ie||null===(re=ie.heritage_designation)||void 0===re?void 0:re.category)},infrastructure:(null===(oe=n.api_response)||void 0===oe||null===(se=oe.properties)||void 0===se?void 0:se.infrastructure_analysis)||{}}:{};console.log("\ud83d\udd0d AIChat Debug - context being sent:",e);const u=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:l,context:e})}),c=await u.json();if(!c.success)throw new Error(c.error||"Failed to get AI response");{const e={id:Date.now()+1,type:"ai",content:c.response,timestamp:(new Date).toISOString()};a(t=>[...t,e]),c.suggests_image_generation&&c.conversation_key&&(g(c.conversation_key),console.log("\ud83c\udfa8 Stored conversation key for image generation:",c.conversation_key)),(c.suggests_image_generation||l.toLowerCase().includes("design")||l.toLowerCase().includes("building")||l.toLowerCase().includes("render")||l.toLowerCase().includes("image")||l.toLowerCase().includes("modular")||l.toLowerCase().includes("visualization"))&&f(!0)}}catch(ae){console.error("Chat error:",ae);const e={id:Date.now()+1,type:"ai",content:"Sorry, I encountered an error: ".concat(ae.message,". Please try again."),timestamp:(new Date).toISOString()};a(t=>[...t,e])}finally{d(!1)}},y=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(n){d(!0),f(!1);try{if(p&&e){console.log("\ud83c\udfa8 Using conversation-based DALL-E prompt generation");const e={conversation_key:p,dalle_prompt_override:"generate_from_conversation"},t=await fetch("/api/ai/generate-building",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!n.success)throw new Error(n.error||"Failed to generate image from conversation");{const e={id:Date.now(),type:"ai",content:"Here's your AI-generated building visualization based on our conversation:",image:n.image_data,imageUrl:n.image_url,prompt:n.prompt_used,timestamp:(new Date).toISOString()};a(t=>[...t,e]),i&&i(n)}}else{console.log("\ud83c\udfa8 Fallback to traditional design params method");const e={design_params:{building_type:"single-family house",style:"modern_residential"},parcel_data:n.api_response||n};p&&(e.conversation_key=p);const t=await fetch("/api/ai/generate-building",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!r.success)throw new Error(r.error||"Failed to generate image");{const e={id:Date.now(),type:"ai",content:"Here's a building design visualization for ".concat(n.civic_address||n.full_address,":"),image:r.image_data,imageUrl:r.image_url,prompt:r.prompt_used,timestamp:(new Date).toISOString()};a(t=>[...t,e]),i&&i(r)}}}catch(t){console.error("Image generation error:",t);const e={id:Date.now(),type:"ai",content:"Sorry, I couldn't generate the building image: ".concat(t.message),timestamp:(new Date).toISOString()};a(t=>[...t,e])}finally{d(!1)}}else alert("Please select an address first to generate building images.")};return(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)("button",{className:"ai-chat-toggle ".concat(r?"open":""),onClick:()=>o(!r),children:[(0,lr.jsx)("span",{className:"chat-icon",children:"\ud83e\udd16"}),(0,lr.jsx)("span",{className:"chat-label",children:"AI Assistant"}),!r&&(0,lr.jsx)("span",{className:"chat-notification",children:"\ud83d\udcac"})]}),r&&(0,lr.jsxs)("div",{className:"ai-chat-window",children:[(0,lr.jsxs)("div",{className:"ai-chat-header",children:[(0,lr.jsxs)("div",{className:"chat-title",children:[(0,lr.jsx)("span",{className:"chat-icon",children:"\ud83e\udd16"}),(0,lr.jsx)("span",{children:"TOAD"})]}),(0,lr.jsx)("button",{className:"chat-close",onClick:()=>o(!1),children:"\u2715"})]}),(0,lr.jsxs)("div",{className:"ai-chat-messages",children:[s.map(e=>{return(0,lr.jsx)("div",{className:"message ".concat(e.type),children:(0,lr.jsxs)("div",{className:"message-content",children:[e.image?(0,lr.jsxs)("div",{className:"image-message",children:[(0,lr.jsx)("p",{children:e.content}),(0,lr.jsx)("img",{src:"data:image/png;base64,".concat(e.image),alt:"Generated building design",className:"generated-image"}),(0,lr.jsxs)("small",{className:"image-prompt",children:["Generated from: ",e.prompt]})]}):(0,lr.jsx)("div",{className:"text-message",children:e.content}),(0,lr.jsx)("small",{className:"message-time",children:(t=e.timestamp,new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]})},e.id);var t}),h&&!c&&(0,lr.jsx)("div",{className:"message ai",children:(0,lr.jsx)("div",{className:"message-content",children:(0,lr.jsx)("div",{className:"image-options",children:p?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("p",{children:"\ud83c\udfa8 I can generate a building visualization based on our conversation!"}),(0,lr.jsxs)("div",{className:"image-option-buttons",children:[(0,lr.jsx)("button",{onClick:()=>y(!0),className:"primary-button",children:"\u2728 Generate from Conversation"}),(0,lr.jsx)("button",{onClick:()=>y(!1),className:"secondary-button",children:"\ud83c\udfd7\ufe0f Use Basic Style"}),(0,lr.jsx)("button",{onClick:()=>f(!1),className:"cancel-button",children:"\u274c Cancel"})]})]}):(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("p",{children:"Would you like me to generate a building design visualization?"}),(0,lr.jsxs)("div",{className:"image-option-buttons",children:[(0,lr.jsx)("button",{onClick:()=>y(!1),children:"Generate Building"}),(0,lr.jsx)("button",{onClick:()=>f(!1),children:"\u274c Cancel"})]})]})})})}),c&&(0,lr.jsx)("div",{className:"message ai",children:(0,lr.jsx)("div",{className:"message-content",children:(0,lr.jsxs)("div",{className:"typing-indicator",children:[(0,lr.jsx)("span",{}),(0,lr.jsx)("span",{}),(0,lr.jsx)("span",{})]})})}),(0,lr.jsx)("div",{ref:v})]}),(0,lr.jsx)("div",{className:"quick-questions",children:["What can I build on this property?","What are the setback requirements?","Is this property heritage designated?","Show me building design options","What's the maximum building height?","Are there any infrastructure constraints?"].map((e,t)=>(0,lr.jsx)("button",{className:"quick-question",onClick:()=>{u(e),setTimeout(m,100)},disabled:c,children:e},t))}),(0,lr.jsxs)("div",{className:"ai-chat-input",children:[(0,lr.jsx)("textarea",{value:l,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Ask about zoning rules, heritage requirements, or building possibilities...",disabled:c,rows:"2"}),(0,lr.jsx)("button",{onClick:m,disabled:!l.trim()||c,className:"send-button",children:c?"\u23f3":"\ud83d\udce4"})]}),(0,lr.jsx)("div",{className:"ai-chat-footer",children:(0,lr.jsxs)("small",{children:["\ud83e\udd16 AI Assistant \u2022 Powered by GPT-4 & DALL-E 3",n&&(0,lr.jsxs)("span",{children:[" \u2022 Analyzing: ",n.civic_address||n.full_address]})]})})]})]})};function Ju(){const[e,n]=(0,t.useState)(""),[i,r]=(0,t.useState)(""),[o,s]=(0,t.useState)(null),a=async e=>{try{e((await navigator.clipboard.readText()).trim())}catch(ln){console.error("clipboard error",ln)}};return(0,lr.jsxs)("div",{style:{padding:16,background:"#fff",borderRadius:8},children:[(0,lr.jsx)("h3",{children:"API Keys"}),(0,lr.jsx)("p",{children:"Paste your OpenAI and Yelp API keys here. The app will store them securely when possible."}),(0,lr.jsxs)("div",{style:{marginBottom:8},children:[(0,lr.jsx)("label",{children:"OpenAI API Key"}),(0,lr.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,lr.jsx)("input",{value:e,onChange:e=>n(e.target.value),style:{flex:1}}),(0,lr.jsx)("button",{onClick:()=>a(n),children:"Paste"})]})]}),(0,lr.jsxs)("div",{style:{marginBottom:8},children:[(0,lr.jsx)("label",{children:"Yelp API Key"}),(0,lr.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,lr.jsx)("input",{value:i,onChange:e=>r(e.target.value),style:{flex:1}}),(0,lr.jsx)("button",{onClick:()=>a(r),children:"Paste"})]})]}),(0,lr.jsxs)("div",{style:{marginTop:12},children:[(0,lr.jsx)("button",{onClick:async()=>{s("saving");try{const t=await fetch("/api/keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({openai_key:e,yelp_key:i})});(await t.json()).success?s("saved"):s("error")}catch(ln){console.error(ln),s("error")}},children:"Save keys"}),"saving"===o&&(0,lr.jsx)("span",{style:{marginLeft:8},children:"Saving\u2026"}),"saved"===o&&(0,lr.jsx)("span",{style:{marginLeft:8,color:"green"},children:"Saved"}),"error"===o&&(0,lr.jsx)("span",{style:{marginLeft:8,color:"red"},children:"Error"})]})]})}const ec=function(){const[e,n]=(0,t.useState)({}),[i,r]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(null),[c,d]=(0,t.useState)({}),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)("zoning_editor"),[v,m]=(0,t.useState)(null),[y,x]=(0,t.useState)(null),[_,b]=(0,t.useState)(null),[k,w]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/zoning_rules_extended.json");if(e.ok){const t=await e.json(),i={};t.forEach(e=>{i[e.ZONING_DISTRICT]=e}),n(i),Object.keys(i).length>0&&r(Object.keys(i)[0])}console.log("Data loading complete. Using live address search from Vancouver Open Data API.")}catch(e){console.error("Error loading data:",e)}})()},[]);const S=(0,t.useCallback)(e=>{console.log("Zoning data updated:",e)},[]),E=(0,t.useCallback)((e,t)=>{console.log("\ud83d\udd0d App.js Debug - handleAddressSelect called with:",{address:e,addressData:t}),x(e),b(t),l(t),console.log("\ud83d\udd0d App.js Debug - Updated both zoningEditorAddressData and selectedAddressData")},[]),N=(0,t.useCallback)(e=>{m(e)},[]),C=(0,t.useCallback)(e=>{w(t=>[...t,u(u({},e),{},{address:(null===a||void 0===a?void 0:a.civic_address)||(null===a||void 0===a?void 0:a.full_address),timestamp:(new Date).toISOString()})]),console.log("AI Image generated:",e)},[a]);return(0,lr.jsxs)("div",{className:"App",children:[(0,lr.jsx)("header",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderBottom:"1px solid #dee2e6"},children:(0,lr.jsx)("h1",{children:"Vancouver Zoning Viewer"})}),(0,lr.jsxs)("main",{style:{padding:"20px"},children:[(0,lr.jsx)("div",{style:{display:"flex",borderBottom:"1px solid #ccc",marginBottom:"20px"},children:[{id:"zoning_editor",label:"Zoning Editor",icon:"\ud83c\udfdb\ufe0f"},{id:"keys",label:"API Keys",icon:"\ud83d\udd11"}].map(e=>(0,lr.jsxs)("button",{onClick:()=>g(e.id),style:{padding:"10px 20px",backgroundColor:p===e.id?"#007bff":"transparent",color:p===e.id?"white":"#333",border:"none",cursor:"pointer",borderBottom:p===e.id?"3px solid #0056b3":"none"},children:[e.icon," ",e.label]},e.id))}),(()=>{var e;switch(p){case"zoning_editor":return(0,lr.jsx)(Ku,{zoningData:null===a||void 0===a||null===(e=a.api_response)||void 0===e?void 0:e.properties,onZoningUpdate:S,onAddressSelect:E,onSiteAreaUpdate:N,selectedAddress:o,selectedAddressData:a});case"parcel":return(0,lr.jsx)(pr,{lockedValues:c,lockedParcelData:h,siteAreaData:v,zoningEditorAddress:y,zoningEditorAddressData:_});case"ai":return(0,lr.jsx)(gr,{});case"examples":return(0,lr.jsx)(Hs,{});case"keys":return(0,lr.jsx)(Ju,{});default:return(0,lr.jsx)("div",{children:"Select a tab"})}})()]}),(0,lr.jsx)("footer",{style:{backgroundColor:"#f8f9fa",padding:"15px 20px",borderTop:"1px solid #dee2e6",textAlign:"center",color:"#6c757d",fontSize:"12px"},children:(0,lr.jsx)("p",{children:"Vancouver Open Data \u2022 AI-Powered Urban Planning \u2022 Built with React & Three.js"})}),(0,lr.jsx)(Qu,{selectedAddressData:a,onImageGenerated:C})]})},tc=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=t;n(e),i(e),r(e),o(e),s(e)})};r.createRoot(document.getElementById("root")).render((0,lr.jsx)(t.StrictMode,{children:(0,lr.jsx)(ec,{})})),tc()})()})();
//# sourceMappingURL=main.e3c7ccb1.js.map